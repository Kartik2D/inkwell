var e=Object.create,t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,i=Object.getPrototypeOf,a=Object.prototype.hasOwnProperty,o=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),s=(e,i,o,s)=>{if(i&&typeof i==`object`||typeof i==`function`)for(var c=r(i),l=0,u=c.length,d;l<u;l++)d=c[l],!a.call(e,d)&&d!==o&&t(e,d,{get:(e=>i[e]).bind(null,d),enumerable:!(s=n(i,d))||s.enumerable});return e},c=(n,r,a)=>(a=n==null?{}:e(i(n)),s(r||!n||!n.__esModule?t(a,`default`,{value:n,enumerable:!0}):a,n)),l=(e=>typeof require<`u`?require:typeof Proxy<`u`?new Proxy(e,{get:(e,t)=>(typeof require<`u`?require:e)[t]}):e)(function(e){if(typeof require<`u`)return require.apply(this,arguments);throw Error('Calling `require` for "'+e+"\" in an environment that doesn't expose the `require` function.")});(function(){let e=document.createElement(`link`).relList;if(e&&e.supports&&e.supports(`modulepreload`))return;for(let e of document.querySelectorAll(`link[rel="modulepreload"]`))n(e);new MutationObserver(e=>{for(let t of e)if(t.type===`childList`)for(let e of t.addedNodes)e.tagName===`LINK`&&e.rel===`modulepreload`&&n(e)}).observe(document,{childList:!0,subtree:!0});function t(e){let t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin===`use-credentials`?t.credentials=`include`:e.crossOrigin===`anonymous`?t.credentials=`omit`:t.credentials=`same-origin`,t}function n(e){if(e.ep)return;e.ep=!0;let n=t(e);fetch(e.href,n)}})();var u=o(((e,t)=>{t.exports={}})),d,f,p,m,h,g,_=_===void 0?{}:_,v=Object.assign({},_),y=[],b=(e,t)=>{throw t},x=typeof window==`object`,S=typeof importScripts==`function`,C=typeof process==`object`&&typeof process.versions==`object`&&typeof process.versions.node==`string`,w=``;C?(w=S?u().dirname(w)+`/`:__dirname+`/`,g=()=>{h||=(m=u(),u())},d=function(e,t){var n=G(e);return n?t?n:n.toString():(g(),e=h.normalize(e),m.readFileSync(e,t?void 0:`utf8`))},p=e=>{var t=d(e,!0);return t.buffer||(t=new Uint8Array(t)),t},f=(e,t,n)=>{var r=G(e);r&&t(r),g(),e=h.normalize(e),m.readFile(e,(function(e,r){e?n(e):t(r.buffer)}))},process.argv.length>1&&process.argv[1].replace(/\\/g,`/`),y=process.argv.slice(2),typeof module<`u`&&(module.exports=_),process.on(`uncaughtException`,(function(e){if(!(e instanceof we))throw e})),process.on(`unhandledRejection`,(function(e){throw e})),b=(e,t)=>{if(oe())throw process.exitCode=e,t;(function(e){e instanceof we||D(`exiting due to exception: `+e)})(t),process.exit(e)},_.inspect=function(){return`[Emscripten Module object]`}):(x||S)&&(S?w=self.location.href:typeof document<`u`&&document.currentScript&&(w=document.currentScript.src),w=w.indexOf(`blob:`)===0?``:w.substr(0,w.replace(/[?#].*/,``).lastIndexOf(`/`)+1),d=e=>{try{var t=new XMLHttpRequest;return t.open(`GET`,e,!1),t.send(null),t.responseText}catch(t){var n=G(e);if(n)return function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];r>255&&(r&=255),t.push(String.fromCharCode(r))}return t.join(``)}(n);throw t}},S&&(p=e=>{try{var t=new XMLHttpRequest;return t.open(`GET`,e,!1),t.responseType=`arraybuffer`,t.send(null),new Uint8Array(t.response)}catch(t){var n=G(e);if(n)return n;throw t}}),f=(e,t,n)=>{var r=new XMLHttpRequest;r.open(`GET`,e,!0),r.responseType=`arraybuffer`,r.onload=()=>{if(r.status==200||r.status==0&&r.response)t(r.response);else{var i=G(e);i?t(i.buffer):n()}},r.onerror=n,r.send(null)});var T,E=_.print||console.log.bind(console),D=_.printErr||console.warn.bind(console);Object.assign(_,v),v=null,_.arguments&&(y=_.arguments),_.thisProgram&&_.thisProgram,_.quit&&(b=_.quit),_.wasmBinary&&(T=_.wasmBinary);var O,k=_.noExitRuntime||!0;typeof WebAssembly!=`object`&&se(`no native wasm support detected`);var A=!1;function j(e){return _[`_`+e]}function M(e,t,n,r,i){var a={string:function(e){var t=0;if(e!=null&&e!==0){var n=1+(e.length<<2);(function(e,t,n){(function(e,t,n,r){if(!(r>0))return 0;for(var i=n+r-1,a=0;a<e.length;++a){var o=e.charCodeAt(a);if(o>=55296&&o<=57343&&(o=65536+((1023&o)<<10)|1023&e.charCodeAt(++a)),o<=127){if(n>=i)break;t[n++]=o}else if(o<=2047){if(n+1>=i)break;t[n++]=192|o>>6,t[n++]=128|63&o}else if(o<=65535){if(n+2>=i)break;t[n++]=224|o>>12,t[n++]=128|o>>6&63,t[n++]=128|63&o}else{if(n+3>=i)break;t[n++]=240|o>>18,t[n++]=128|o>>12&63,t[n++]=128|o>>6&63,t[n++]=128|63&o}}t[n]=0})(e,F,t,n)})(e,t=Ce(n),n)}return t},array:function(e){var t=Ce(e.length);return function(e,t){P.set(e,t)}(e,t),t}},o=j(e),s=[],c=0;if(r)for(var l=0;l<r.length;l++){var u=a[n[l]];u?(c===0&&(c=xe()),s[l]=u(r[l])):s[l]=r[l]}var d=o.apply(null,s);return d=function(e){return c!==0&&Se(c),function(e){return t===`string`?ee(e):t===`boolean`?!!e:e}(e)}(d)}var N,P,F,I,L=typeof TextDecoder<`u`?new TextDecoder(`utf8`):void 0;function R(e,t,n){for(var r=t+n,i=t;e[i]&&!(i>=r);)++i;if(i-t>16&&e.subarray&&L)return L.decode(e.subarray(t,i));for(var a=``;t<i;){var o=e[t++];if(128&o){var s=63&e[t++];if((224&o)!=192){var c=63&e[t++];if((o=(240&o)==224?(15&o)<<12|s<<6|c:(7&o)<<18|s<<12|c<<6|63&e[t++])<65536)a+=String.fromCharCode(o);else{var l=o-65536;a+=String.fromCharCode(55296|l>>10,56320|1023&l)}}else a+=String.fromCharCode((31&o)<<6|s)}else a+=String.fromCharCode(o)}return a}function ee(e,t){return e?R(F,e,t):``}function te(e){N=e,_.HEAP8=P=new Int8Array(e),_.HEAP16=new Int16Array(e),_.HEAP32=I=new Int32Array(e),_.HEAPU8=F=new Uint8Array(e),_.HEAPU16=new Uint16Array(e),_.HEAPU32=new Uint32Array(e),_.HEAPF32=new Float32Array(e),_.HEAPF64=new Float64Array(e)}_.INITIAL_MEMORY;var ne,re=[],z=[],ie=[],ae=!1;function oe(){return k||!1}var B=0,V=null,H=null;function se(e){throw _.onAbort&&_.onAbort(e),D(e=`Aborted(`+e+`)`),A=!0,e+=`. Build with -s ASSERTIONS=1 for more info.`,new WebAssembly.RuntimeError(e)}_.preloadedImages={},_.preloadedAudios={};var ce,le;function ue(e){return e.startsWith(`data:application/octet-stream;base64,`)}function de(e){return e.startsWith(`file://`)}function fe(e){try{if(e==ce&&T)return new Uint8Array(T);var t=G(e);if(t)return t;if(p)return p(e);throw`both async and sync fetching of the wasm failed`}catch(e){se(e)}}function pe(e){for(;e.length>0;){var t=e.shift();if(typeof t!=`function`){var n=t.func;typeof n==`number`?t.arg===void 0?he(n)():he(n)(t.arg):n(t.arg===void 0?null:t.arg)}else t(_)}}ue(ce=`data:application/octet-stream;base64,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NgIAIAEPC0GgzQBBMDYCAEF/C4MBAgN/AX4CQCAAQoCAgIAQVARAIAAhBQwBCwNAIAFBAWsiASAAIABCCoAiBUIKfn2nQTByOgAAIABC/////58BViECIAUhACACDQALCyAFpyICBEADQCABQQFrIgEgAiACQQpuIgNBCmxrQTByOgAAIAJBCUshBCADIQIgBA0ACwsgAQt/AQN/IAAhAQJAIABBA3EEQANAIAEtAABFDQIgAUEBaiIBQQNxDQALCwNAIAEiAkEEaiEBIAIoAgAiA0F/cyADQYGChAhrcUGAgYKEeHFFDQALIANB/wFxRQRAIAIgAGsPCwNAIAItAAEhAyACQQFqIgEhAiADDQALCyABIABrCygBAX8jAEEQayIDJAAgAyACNgIMIAAgASACQRpBABAhGiADQRBqJAAL6wEBA38gAEUEQEGkzQAoAgAEQEGkzQAoAgAQGSEBC0GILSgCAARAQYgtKAIAEBkgAXIhAQtBrM0AKAIAIgAEQANAIAAoAkwaIAAoAhQgACgCHEcEQCAAEBkgAXIhAQsgACgCOCIADQALCyABDwsgACgCTEEATiECAkACQCAAKAIUIAAoAhxGDQAgAEEAQQAgACgCJBEDABogACgCFA0AQX8hAQwBCyAAKAIEIgEgACgCCCIDRwRAIAAgASADa6xBASAAKAIoEQoAGgtBACEBIABBADYCHCAAQgA3AxAgAEIANwIEIAJFDQALIAELzAEBAn8CQAJAIAEoAkwiAkEATgRAIAJFDQFB+M0AKAIAIAJB/////3txRw0BCwJAIABB/wFxIgMgASgCUEYNACABKAIUIgIgASgCEEYNACABIAJBAWo2AhQgAiAAOgAADAILIAEgAxA5DAELIAEgASgCTCICQf////8DIAIbNgJMAkACQCAAQf8BcSIDIAEoAlBGDQAgASgCFCICIAEoAhBGDQAgASACQQFqNgIUIAIgADoAAAwBCyABIAMQOQsgASgCTBogAUEANgJMCwsrAQF/IwBBEGsiAyQAIAMgAjYCDCAAIAEgAkEAQQAQISEAIANBEGokACAACwQAIAAL7gkCC38CfCMAQbABayIEJAACfyABKAIIIAEoAgAiDUEwbGoiBUEIaysDAEQAAAAAAAAkQKJEAAAAAAAA4D+gnCIPmUQAAAAAAADgQWMEQCAPqgwBC0GA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IgIgAigCACgCEBEBACABQQA2AhAgACAANgIQIAMgASADKAIAKAIMEQIAIAMgAygCACgCEBEBACABIAE2AhAMAgsgAiABIAIoAgAoAgwRAgAgACgCECICIAIoAgAoAhARAQAgACABKAIQNgIQIAEgATYCEAwBCyABKAIQIgQgAUYEQCAEIAAgBCgCACgCDBECACABKAIQIgIgAigCACgCEBEBACABIAAoAhA2AhAgACAANgIQDAELIAAgBDYCECABIAI2AhALIANBEGokAAu8AgEKfyABKAIAIglBAEoEQCABKAIEIgooAgBBQHEhAyAJQQN0IApqQQRrKAIAIQEDQCABIAogBEEDdGoiAigCBCIFRwRAIAUgASABIAVKGyEGIAIoAgAiAUE/cSELAkAgAyABQUBxIgJMBEAgAiADTA0BIAAoAgwgACgCCCAGbEEDdGohByADIQEDQCAHIAFBwABtQQN0aiIIIAgpAwBCf4U3AwAgAUFAayIBIAJIDQALDAELIAAoAgwgACgCCCAGbEEDdGohByACIQEDQCAHIAFBwABtQQN0aiIIIAgpAwBCf4U3AwAgAUFAayIBIANIDQALCyALBEAgACgCDCAAKAIIIAZsQQN0aiACQcAAbUEDdGoiASABKQMAQn9BwAAgC2uthoU3AwALIAUhAQsgBEEBaiIEIAlHDQALCwuaAQAgAEEBOgA1AkAgACgCBCACRw0AIABBAToANAJAIAAoAhAiAkUEQCAAQQE2AiQgACADNgIYIAAgATYCECADQQFHDQIgACgCMEEBRg0BDAILIAEgAkYEQCAAKAIYIgJBAkYEQCAAIAM2AhggAyECCyAAKAIwQQFHDQIgAkEBRg0BDAILIAAgACgCJEEBajYCJAsgAEEBOgA2CwtdAQF/IAAoAhAiA0UEQCAAQQE2AiQgACACNgIYIAAgATYCEA8LAkAgASADRgRAIAAoAhhBAkcNASAAIAI2AhgPCyAAQQE6ADYgAEECNgIYIAAgACgCJEEBajYCJAsLswQCDH8CfkECIQQDQCACIARrIQdBASAEayEGIAEgBGsiCEEGdiELIAIgBGoiCUEBayEMIAEgBGoiCkEBayIDQQZ2IQ1CgICAgICAgICAfyAIQT9xrYghD0KAgICAgICAgIB/IANBP3GtiCEQQQAhAwNAIAMCfwJAIAEgBmoi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KAIANgIADwsACyACIAIoAgAiAUEEajYCACAAIAEyAQA3AwAPCyACIAIoAgAiAUEEajYCACAAIAEzAQA3AwAPCyACIAIoAgAiAUEEajYCACAAIAEwAAA3AwAPCyACIAIoAgAiAUEEajYCACAAIAExAAA3AwAPCwALIAIgAigCAEEHakF4cSIBQQhqNgIAIAAgASsDADkDAA8LIAAgAiADEQIACw8LIAIgAigCACIBQQRqNgIAIAAgATQCADcDAA8LIAIgAigCACIBQQRqNgIAIAAgATUCADcDAA8LIAIgAigCAEEHakF4cSIBQQhqNgIAIAAgASkDADcDAAtyAQN/IAAoAgAsAABBMGtBCk8EQEEADwsDQCAAKAIAIQNBfyEBIAJBzJmz5gBNBEBBfyADLAAAQTBrIgEgAkEKbCICaiABQf////8HIAJrShshAQsgACADQQFqNgIAIAEhAiADLAABQTBrQQpJDQALIAILrBQCEX8BfiMAQdAAayIHJAAgByABNgJMIAdBN2ohFiAHQThqIRRBACEBAkACQAJAAkADQCABQf////8HIA1rSg0BIAEgDWohDSAHKAJMIgshAQJAAkACQCALLQAAIggEQANAAkACQCAIQf8BcSIIRQRAIAEhCAwBCyAIQSVHDQEgASEIA0AgAS0AAUElRw0BIAcgAUECaiIMNgJMIAhBAWohCCABLQACIQkgDCEBIAlBJUYNAAsLIAggC2siAUH/////ByANayIXSg0HIAAEQCAAIAsgARALCyAIIAtHDQZBfyESQQEhCAJAIAcoAkwiASwAAUEwa0EKTw0AIAEtAAJBJEcNACABLAABQTBrIRJBASEVQQMhCAsgByABIAhqIgE2AkxBACEOAkAgASwAACITQSBrIgxBH0sEQCABIQgMAQsgASEIQQEgDHQiCUGJ0QRxRQ0AA0AgByABQQFqIgg2AkwgCSAOciEOIAEsAAEiE0EgayIMQSBPDQEgCCEBQQEgDHQiCUGJ0QRxDQALCwJAIBNBKkYEQCAHAn8CQCAILAABQTBrQQpPDQAgBygCTCIBLQACQSRHDQAgASwAAUECdCAEakHAAWtBCjYCACABLAABQQN0IANqQYADaygCACEPQQEhFSABQQNqDAELIBUNBkEAIRVBACEPIAAEQCACIAIoAgAiAUEEajYCACABKAIAIQ8L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ICIBKAIAIhZBAEwEQEH/////ByEFQQAhDkEAIQhB/////wchEQwBCyABKAIEIRVB/////wchBUEAIQ5BACEIQf////8HIRFBACEHQf////8HIQ1BACEDQf////8HIQxBACEBA0AgFSABQQN0aiITKAIEIgsgByAHIAtIIhgbIQcgCyAOIBgbIQ4gCyANIAsgDUgiGBshDSALIAUgGBshBSATKAIAIgsgAyADIAtIIhMbIQMgCyAIIBMbIQggCyAMIAsgDEgiExshDCALIBEgExshESABQQFqIgEgFkcNAAsLIABBFGohAyAAIgtBGGohAQJAIAJFDQADQCACKAIUIQ0gAkEANgIUIAUgAigCICgCBCIMKAIEIgdOBEAgAyACNgIAIAIgDTYCFAwCCyACQRRqIQACQAJAIAwoAgAiDEEASA0AIAwgCSgCAE4NACAHQQBMDQAgByASSg0AIAkoAgwgCiAHQQFrbEEDdGogDEEDdkH4////AXFqKQMAIAxBP3GthkKAgICAgICAgIB/g1ANACABIQcgACEBDAELIAMhByAAIQMLIAIgBygCADYCFCAHIAI2AgAgDSICDQALCyARQcAAbSEBIAhBP2pBwABtIQACQCAFIA5ODQAgACABTA0AIA4gBWsiDUEDcSEIIAAgAWtBA3QhAiAJKAIMIQdBACEDQQAhACAOIAVBf3NqQQNPBEAgDUF8cSENQQAhDANAIAcgACAFaiAKbCABakEDdGpBACACEA4aIAcgAEEBciAFaiAKbCABakEDdGpBACACEA4aIAcgAEECciAFaiAKbCABakEDdGpBACACEA4aIAcgAEEDciAFaiAKbCABakEDdGpBACACEA4aIABBBGohACAMQQRqIgwgDUcNAAsLIAhFDQADQCAHIAAgBWogCmwgAWpBA3RqQQAgAhAOGiAAQQFqIQAgA0EBaiIDIAhHDQALCwJAIAsoAhQiAEUEQCAPIQAMAQsgACAPNgIYCyALKAIYIgEEQCABIAA2AhggCygCGCEACyAADQALIBcoAgwiA0UNACADIQADQCAAKAIcIQEgACAAKAIUNgIcIAEiAA0ACyADQQA2AhQgF0EANgIMIBdBDGohAEEAIQUDQCAXIAU2AggDQCADIAAoAgA2AhQgACADNgIAIANBFGohACADKAIYIgcEQANAIAcgACgCADYC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QCAaQQE2AgALIBohBgsgH0EQaiQAIAYLXQEDf0EIEAIiAUHYKjYCACABQYQrNgIAIAAQFyICQQ1qEBIiA0EANgIIIAMgAjYCBCADIAI2AgAgASADQQxqIAAgAkEBahAQNgIEIAFBtCs2AgAgAUHUK0ECEAEACwgAQZ0IED0AC5sEAQN/IAEgACABRiICOgAMAkAgAg0AA0AgASgCCCICLQAMDQECQAJ/IAIgAigCCCIDKAIAIgRGBEACQCADKAIEIgRFDQAgBC0ADA0ADAMLAkAgASACKAIARgRAIAIhAQwBCyACIAIoAgQiASgCACIANgIEIAEgAAR/IAAgAjYCCCACKAIIBSADCzYCCCACKAIIIgAgACgCACACR0ECdGogATYCACABIAI2AgAgAiABNgIIIAEoAgghAwsgAUEBOgAMIANBADoADCADIAMoAgAiACgCBCIBNgIAIAEEQCABIAM2AggLIAAgAygCCDYCCCADKAIIIgEgASgCACADR0ECdGogADYCACAAIAM2AgQgA0EIagwBCwJAIARFDQAgBC0ADA0ADAILAkAgASACKAIARwRAIAIhAQwBCyACIAEoAgQiADYCACABIAAEfyAAIAI2AgggAigCCAUgAws2AgggAigCCCIAIAAoAgAgAkdBAnRqIAE2AgAgASACNgIEIAIgATYCCCABKAIIIQMLIAFBAToADCADQQA6AAwgAyADKAIEIgAoAgAiATYCBCABBEAgASADNgIICyAAIAMoAgg2AgggAygCCCIBIAEoAgAgA0dBAnRqIAA2AgAgACADNgIAIANBCGoLIAA2AgAMAgsgBEEMaiEBIAJBAToADCADIAAgA0YiAjoADCABQQE6AAAgAyEBIAJFDQALCwsQACMAIABrQXBxIgAkACAACwYAIAAkAAsEACMACwsAIAAQIBogABAJCwcAIAAoAgQLCAAgABAgEAkLBQBBpAgLGgAgACABKAIIIAUQEQRAIAEgAiADIAQQKwsLNwAgACABKAIIIAUQEQRAIAEgAiADIAQQKw8LIAAoAggiACABIAIgAyAEIAUgACgCACgCFBEIAAunAQAgACABKAIIIAQQEQRAAkAgASgCBCACRw0AIAEoAhxBAUYNACABIAM2AhwLDwsCQCAAIAEoAgAgBBARRQ0AAkAgAiABKAIQRwRAIAEoAhQgAkcNAQsgA0EBRw0BIAFBATYCIA8LIAEgAjYCFCABIAM2AiAgASABKAIoQQFqNgIoAkAgASgCJEEBRw0AIAEoAhhBAkcNACABQQE6ADYLIAFBBDYCLAsLiAIAIAAgASgCCCAEEBEEQAJAIAEoAgQgAkcNACABKAIcQQFGDQAgASADNgIcCw8LAkAgACABKAIAIAQQEQRAAkAgAiABKAIQRwRAIAEoAhQgAkcNAQsgA0EBRw0CIAFBATYCIA8LIAEgAzYCIAJAIAEoAixBBEYNACABQQA7ATQgACgCCCIAIAEgAiACQQEgBCAAKAIAKAIUEQgAIAEtADUEQCABQQM2AiwgAS0ANEUNAQwDCyABQQQ2AiwLIAEgAjYCFCABIAEoAihBAWo2AiggASgCJEEBRw0BIAEoAhhBAkcNASABQQE6ADYPCyAAKAIIIgAgASACIAMgBCAAKAIAKAIYEQcACwsxACAAIAEoAghBABARBEAgASACIAMQLA8LIAAoAggiACABIAIgAyAAKAIAKAIcEQUACxgAIAAgASgCCEEAEBEEQCABIAIgAxAsCwu3AwEFfyMAQUBqIgQkAAJ/QQEgACABQQAQEQ0AGkEAIAFFDQAaIwBBQGoiAyQAIAEoAgAiBUEEaygCACEGIAVBCGsoAgAhByADQQA2AhQgA0GQKTYCECADIAE2AgwgA0HAKTYCCEEAIQUgA0EYakEAQScQDhogASAHaiEBAkAgBkHAKUEAEBEEQCADQQE2AjggBiADQQhqIAEgAUEBQQAgBigCACgCFBEIACABQQAgAygCIEEBRhshBQwBCyAGIANBCGogAUEBQQAgBigCACgCGBEHAAJAAkAgAygCLA4CAAECCyADKAIcQQAgAygCKEEBRhtBACADKAIkQQFGG0EAIAMoAjBBAUYbIQUMAQsgAygCIEEBRwRAIAMoAjANASADKAIkQQFHDQEgAygCKEEBRw0BCyADKAIYIQULIANBQGskAEEAIAUiAUUNABogBEEIaiIDQQRyQQBBNBAOGiAEQQE2AjggBEF/NgIUIAQgADYCECAEIAE2AgggASADIAIoAgBBASABKAIAKAIcEQUAIAQoAiAiAEEBRgRAIAIgBCgCGDYCAAsgAEEBRgshACAEQUBrJAAgAAsFAEG3CAupAQEEfyAAKAJUIgMoAgQiBSAAKAIUIAAoAhwiBmsiBCAEIAVLGyIEBEAgAygCACAGIAQQEBogAyADKAIAIARqNgIAIAMgAygCBCAEayIFNgIECyADKAIAIQQgBSACIAIgBUsbIgUEQCAEIAEgBRAQGiADIAMoAgAgBWoiBDYCACADIAMoAgQgBWs2AgQLIARBADoAACAAIAAoAiwiATYCHCAAIAE2AhQgAguPBQIGfgF/IAEgASgCAEEHakF4cSIBQRBqNgIAIAACfCABKQMAIQQgASkDCCEFIwBBIGsiACQAAkAgBUL///////////8AgyIDQoCAgICAgMCAPH0gA0KAgICAgIDA/8MAfVQEQCAFQgSGIARCPIiEIQMgBEL//////////w+DIgRCgYCAgICAgIAIWgRAIANCgYCAgICAgIDAAHwhAgwCCyADQoCAgICAgICAQH0hAiAEQoCAgICAgICACIVCAFINASACIANCAYN8IQIMAQsgBFAgA0KAgICAgIDA//8AVCADQoCAgICAgMD//wBRG0UEQCAFQgSGIARCPIiEQv////////8Dg0KAgICAgICA/P8AhCECDAELQoCAgICAgID4/wAhAiADQv///////7//wwBWDQBCACECIANCMIinIgFBkfcASQ0AIAQhAiAFQv///////z+DQoCAgICAgMAAhCIDIQYCQCABQYH3AGsiCEHAAHEEQCACIAhBQGqthiEGQgAhAgwBCyAIRQ0AIAYgCK0iB4YgAkHAACAIa62IhCEGIAIgB4YhAgsgACACNwMQIAAgBjcDGAJAQYH4ACABayIBQcAAcQRAIAMgAUFAaq2IIQRCACEDDAELIAFFDQAgA0HAACABa62GIAQgAa0iAoiEIQQgAyACiCEDCyAAIAQ3AwAgACADNwMIIAApAwhCBIYgACkDACIEQjyIhCECIAApAxAgACkDGIRCAFKtIARC//////////8Pg4QiBEKBgICAgICAgAhaBEAgAkIBfCECDAELIARCgICAgICAgIAIhUIAUg0AIAJCAYMgAnwhAgsgAEEgaiQAIAIgBUKAgICAgICAgIB/g4S/CzkDAAuoGAMSfwF8An4jAEGwBGsiCyQAIAtBADYCLAJAIAG9IhlCAFMEQEEBIRBBigghEyABmiIBvSEZDAELIARBgBBxBEBBASEQQY0IIRMMAQtBkAhBiwggBEEBcSIQGyETIBBFIRUL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AQAAAQEAAQAAAAAAAAEAAAAAAQEBAQABAQAAAQEAAAEBAAEBAAAAAQEBAQABAAAAAAEAAQEBAAAAAQABAQAAAQEBAAEAAAEBAAABAQEAAAEBAQAAAAABAAEAAQABAAEAMDEyMzQ1Njc4OUFCQ0RFRgAAAACsCAAAAwAAAAQAAAAFAAAABgAAAAcAAAAIAAAACQAAAAoAAAALAAAATlN0M19fMjEwX19mdW5jdGlvbjZfX2Z1bmNJWjExc3RhcnRfY29sb3JQalA5aW1naW5mb19zUDE1cG90cmFjZV9wYXJhbV9zUDlzdmdpbmZvX3NoaEUzJF8wTlNfOWFsbG9jYXRvcklTOV9FRUZoaEVFRQBOU3QzX18yMTBfX2Z1bmN0aW9uNl9fYmFzZUlGaGhFRUUAAADUFAAAgAgAAPwUAAAMCAAApAgAAFoxMXN0YXJ0X2NvbG9yUGpQOWltZ2luZm9fc1AxNXBvdHJhY2VfcGFyYW1fc1A5c3ZnaW5mb19zaGhFMyRfMADUFAAAuAgAAAAAAACgCQAAAwAAAAwAAAANAAAADgAAAA8AAAAQAAAAEQAAABIAAAATAAAATlN0M19fMjEwX19mdW5jdGlvbjZfX2Z1bmNJWjExc3RhcnRfY29sb3JQalA5aW1naW5mb19zUDE1cG90cmFjZV9wYXJhbV9zUDlzdmdpbmZvX3NoaEUzJF8xTlNfOWFsbG9jYXRvcklTOV9FRUZoaEVFRQD8FAAALAkAAKQIAABaMTFzdGFydF9jb2xvclBqUDlpbWdpbmZvX3NQMTVwb3RyYWNlX3BhcmFtX3NQOXN2Z2luZm9fc2hoRTMkXzEA1BQAAKwJAAD4FQAATm8gZXJyb3IgaW5mb3JtYXRpb24ASWxsZWdhbCBieXRlIHNlcXVlbmNlAERvbWFpbiBlcnJvcgBSZXN1bHQgbm90IHJlcHJlc2VudGFibGUATm90IGEgdHR5AFBlcm1pc3Npb24gZGVuaWVkAE9wZXJhdGlvbiBub3QgcGVybWl0dGVkAE5vIHN1Y2ggZmlsZSBvciBkaXJlY3RvcnkATm8gc3VjaCBwcm9jZXNzAEZpbGUgZXhpc3RzAFZhbHVlIHRvbyBsYXJnZSBmb3IgZGF0YSB0eXBlAE5vIHNwYWNlIGxlZnQgb24gZGV2aWNlAE91dCBvZiBtZW1vcnkAUmVzb3VyY2UgYnVzeQBJbnRlcnJ1cHRlZCBzeXN0ZW0gY2FsbABSZXNvdXJjZSB0ZW1wb3JhcmlseSB1bmF2YWlsYWJsZQBJbnZhbGlkIHNlZWsAQ3Jvc3MtZGV2aWNlIGxpbmsAUmVhZC1vbmx5IGZpbGUgc3lzdGVtAERpcmVjdG9yeSBub3QgZW1wdHkAQ29ubmVjdGlvbiByZXNldCBieSBwZWVyAE9wZXJhdGlvbiB0aW1lZCBvdXQAQ29ubmVjdGlvbiByZWZ1c2VkAEhvc3QgaXMgZG93bgBIb3N0IGlzIHVucmVhY2hhYmxlAEFkZHJlc3MgaW4gdXNlAEJyb2tlbiBwaXBlAEkvTyBlcnJvcgBObyBzdWNoIGRldmljZSBvciBhZGRyZXNzAEJsb2NrIGRldmljZSByZXF1aXJlZABObyBzdWNoIGRldmljZQBOb3QgYSBkaXJlY3RvcnkASXMgYSBkaXJlY3RvcnkAVGV4dCBmaWxlIGJ1c3kARXhlYyBmb3JtYXQgZXJyb3IASW52YWxpZCBhcmd1bWVudABBcmd1bWVudCBsaXN0IHRvbyBsb25nAFN5bWJvbGljIGxpbmsgbG9vcABGaWxlbmFtZSB0b28gbG9uZwBUb28gbWFueSBvcGVuIGZpbGVzIGluIHN5c3RlbQBObyBmaWxlIGRlc2NyaXB0b3JzIGF2YWlsYWJsZQBCYWQgZmlsZSBkZXNjcmlwdG9yAE5vIGNoaWxkIHByb2Nlc3MAQmFkIGFkZHJlc3MARmlsZSB0b28gbGFyZ2UAVG9vIG1hbnkgbGlua3MATm8gbG9ja3MgYXZhaWxhYmxlAFJlc291cmNlIGRlYWRsb2NrIHdvdWxkIG9jY3VyAFN0YXRlIG5vdCByZWNvdmVyYWJsZQBQcmV2aW91cyBvd25lciBkaWVkAE9wZXJhdGlvbiBjYW5jZWxlZABGdW5jdGlvbiBub3QgaW1wbGVtZW50ZWQATm8gbWVzc2FnZSBvZiBkZXNpcmVkIHR5cGUASWRlbnRpZmllciByZW1vdmVkAERldmljZSBub3QgYSBzdHJlYW0ATm8gZGF0YSBhdmFpbGFibGUARGV2aWNlIHRpbWVvdXQAT3V0IG9mIHN0cmVhbXMgcmVzb3VyY2VzAExpbmsgaGFzIGJlZW4gc2V2ZXJlZABQcm90b2NvbCBlcnJvcgBCYWQgbWVzc2FnZQBGaWxlIGRlc2NyaXB0b3IgaW4gYmFkIHN0YXRlAE5vdCBhIHNvY2tldABEZXN0aW5hdGlvbiBhZGRyZXNzIHJlcXVpcmVkAE1lc3NhZ2UgdG9vIGxhcmdlAFByb3RvY29sIHdyb25nIHR5cGUgZm9yIHNvY2tldABQcm90b2NvbCBub3QgYXZhaWxhYmxlAFByb3RvY29sIG5vdCBzdXBwb3J0ZWQAU29ja2V0IHR5cGUgbm90IHN1cHBvcnRlZABOb3Qgc3VwcG9ydGVkAFByb3RvY29sIGZhbWlseSBub3Qgc3VwcG9ydGVkAEFkZHJlc3MgZmFtaWx5IG5vdCBzdXBwb3J0ZWQgYnkgcHJvdG9jb2wAQWRkcmVzcyBub3QgYXZhaWxhYmxlAE5ldHdvcmsgaXMgZG93bgBOZXR3b3JrIHVucmVhY2hhYmxlAENvbm5lY3Rpb24gcmVzZXQgYnkgbmV0d29yawBDb25uZWN0aW9uIGFib3J0ZWQATm8gYnVmZmVyIHNwYWNlIGF2YWlsYWJsZQBTb2NrZXQgaXMgY29ubmVjdGVkAFNvY2tldCBub3QgY29ubmVjdGVkAENhbm5vdCBzZW5kIGFmdGVyIHNvY2tldCBzaHV0ZG93bgBPcGVyYXRpb24gYWxyZWFkeSBpbiBwcm9ncmVzcwBPcGVyYXRpb24gaW4gcHJvZ3Jlc3MAU3RhbGUgZmlsZSBoYW5kbGUAUmVtb3RlIEkvTyBlcnJvcgBRdW90YSBleGNlZWRlZABObyBtZWRpdW0gZm91bmQAV3JvbmcgbWVkaXVtIHR5cGUATXVsdGlob3AgYXR0ZW1wdGVkAEGiIguWAaUCWwDwAbUFjAUlAYMGHQOUBP8AxwMxAwsGvAGPAX8DygQrANoGrwBCA04D3AEOBBUAoQYNAZQCCwI4BmQCvAL/Al0D5wQLB88CywXvBdsF4QIeBkUChQCCAmwDbwTxAPMDGAXZANoDTAZUAnsBnQO9BAAAUQAVArsAswNtAP8BhQQvBfkEOABlAUYBnwC3BqgBcwJTAQBB6CMLDCEEAAAAAAAAAAAvAgBBiCQLBjUERwRWBABBniQLAqAEAEGyJAtfRgVgBW4FYQYAAM8BAAAAAAAAAADJBukG+QYAAAAAGQAKABkZGQAAAAAFAAAAAAAACQAAAAALAAAAAAAAAAAZABEKGRkZAwoHAAEACQsYAAAJBgsAAAsABhkAAAAZGRkAQaElCyEOAAAAAAAAAAAZAAoNGRkZAA0AAAIACQ4AAAAJAA4AAA4AQdslCwEMAEHnJQsVEwAAAAATAAAAAAkMAAAAAAAMAAAMAEGVJgsBEABBoSYLFQ8AAAAEDwAAAAAJEAAAAAAAEAAAEABBzyYLARIAQdsmCx4RAAAAABEAAAAACRIAAAAAABIAABIAABoAAAAaGhoAQZInCw4aAAAAGhoaAAAAAAAACQBBwycLARQAQc8nCxUXAAAAABcAAAAACRQAAAAAABQAABQAQf0nCwEWAEGJKAvtAxUAAAAAFQAAAAAJFgAAAAAAFgAAFgAAMDEyMzQ1Njc4OUFCQ0RFRgAAAABgFAAAAQAAAB0AAAAeAAAATlN0M19fMjE3YmFkX2Z1bmN0aW9uX2NhbGxFAPwUAABEFAAAdBUAAE4xMF9fY3h4YWJpdjExNl9fc2hpbV90eXBlX2luZm9FAAAAAPwUAABsFAAA8BUAAE4xMF9fY3h4YWJpdjExN19fY2xhc3NfdHlwZV9pbmZvRQAAAPwUAACcFAAAkBQAAAAAAADAFAAAHwAAACAAAAAhAAAAIgAAACMAAAAkAAAAJQAAACYAAAAAAAAARBUAAB8AAAAnAAAAIQAAACIAAAAjAAAAKAAAACkAAAAqAAAATjEwX19jeHhhYml2MTIwX19zaV9jbGFzc190eXBlX2luZm9FAAAAAPwUAAAcFQAAwBQAAAAAAAB0FQAAKwAAACwAAAAtAAAAU3Q5ZXhjZXB0aW9uAAAAANQUAABkFQAAAAAAAKAVAAACAAAALgAAAC8AAABTdDExbG9naWNfZXJyb3IA/BQAAJAVAAB0FQAAAAAAANQVAAACAAAAMAAAAC8AAABTdDEybGVuZ3RoX2Vycm9yAAAAAPwUAADAFQAAoBUAAFN0OXR5cGVfaW5mbwAAAADUFAAA4BUAQfgrCwEFAEGELAsBFwBBnCwLChgAAAAZAAAAYCcAQbQsCwECAEHELAsI//////////8AQYgtCwf4FQAAYClQ`)||(le=ce,ce=_.locateFile?_.locateFile(le,w):w+le);var me=[];function he(e){var t=me[e];return t||(e>=me.length&&(me.length=e+1),me[e]=t=ne.get(e)),t}function U(e){this.excPtr=e,this.ptr=e-16,this.set_type=function(e){I[this.ptr+4>>2]=e},this.get_type=function(){return I[this.ptr+4>>2]},this.set_destructor=function(e){I[this.ptr+8>>2]=e},this.get_destructor=function(){return I[this.ptr+8>>2]},this.set_refcount=function(e){I[this.ptr>>2]=e},this.set_caught=function(e){e=e?1:0,P[this.ptr+12>>0]=e},this.get_caught=function(){return P[this.ptr+12>>0]!=0},this.set_rethrown=function(e){e=e?1:0,P[this.ptr+13>>0]=e},this.get_rethrown=function(){return P[this.ptr+13>>0]!=0},this.init=function(e,t){this.set_type(e),this.set_destructor(t),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var e=I[this.ptr>>2];I[this.ptr>>2]=e+1},this.release_ref=function(){var e=I[this.ptr>>2];return I[this.ptr>>2]=e-1,e===1}}function ge(e){try{return O.grow(e-N.byteLength+65535>>>16),te(O.buffer),1}catch{}}var W={buffers:[null,[],[]],printChar:function(e,t){var n=W.buffers[e];t===0||t===10?((e===1?E:D)(R(n,0)),n.length=0):n.push(t)},varargs:void 0,get:function(){return W.varargs+=4,I[W.varargs-4>>2]},getStr:function(e){return ee(e)},get64:function(e,t){return e}},_e=typeof atob==`function`?atob:function(e){var t,n,r,i,a,o,s=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=`,c=``,l=0;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,``);do t=s.indexOf(e.charAt(l++))<<2|(i=s.indexOf(e.charAt(l++)))>>4,n=(15&i)<<4|(a=s.indexOf(e.charAt(l++)))>>2,r=(3&a)<<6|(o=s.indexOf(e.charAt(l++))),c+=String.fromCharCode(t),a!==64&&(c+=String.fromCharCode(n)),o!==64&&(c+=String.fromCharCode(r));while(l<e.length);return c};function G(e){if(ue(e))return function(e){if(typeof C==`boolean`&&C){var t=Buffer.from(e,`base64`);return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}try{for(var n=_e(e),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}catch{throw Error(`Converting base64 string to bytes failed.`)}}(e.slice(37))}var ve,ye={c:function(e){return be(e+16)+16},b:function(e,t,n){throw new U(e).init(t,n),e},f:function(){se(``)},i:function(e,t,n){F.copyWithin(e,t,t+n)},g:function(e){var t,n,r=F.length,i=2147483648;if((e>>>=0)>i)return!1;for(var a=1;a<=4;a*=2){var o=r*(1+.2/a);if(o=Math.min(o,e+100663296),ge(Math.min(i,(t=Math.max(e,o))+((n=65536)-t%n)%n)))return!0}return!1},d:function(e){(function(e,t){(function(e){oe()||(_.onExit&&_.onExit(e),A=!0),b(e,new we(e))})(e)})(e)},h:function(e){return 0},e:function(e,t,n,r,i){},a:function(e,t,n,r){for(var i=0,a=0;a<n;a++){var o=I[t>>2],s=I[t+4>>2];t+=8;for(var c=0;c<s;c++)W.printChar(e,F[o+c]);i+=s}return I[r>>2]=i,0}},be=(function(){var e={a:ye};function t(e,t){var n;_.asm=e.exports,te((O=_.asm.j).buffer),ne=_.asm.n,n=_.asm.k,z.unshift(n),function(e){if(B--,_.monitorRunDependencies&&_.monitorRunDependencies(B),B==0&&(V!==null&&(clearInterval(V),V=null),H)){var t=H;H=null,t()}}()}function n(e){t(e.instance)}function r(t){return function(){if(!T&&(x||S)){if(typeof fetch==`function`&&!de(ce))return fetch(ce,{credentials:`same-origin`}).then((function(e){if(!e.ok)throw`failed to load wasm binary file at '`+ce+`'`;return e.arrayBuffer()})).catch((function(){return fe(ce)}));if(f)return new Promise((function(e,t){f(ce,(function(t){e(new Uint8Array(t))}),t)}))}return Promise.resolve().then((function(){return fe(ce)}))}().then((function(t){return WebAssembly.instantiate(t,e)})).then((function(e){return e})).then(t,(function(e){D(`failed to asynchronously prepare wasm: `+e),se(e)}))}if(B++,_.monitorRunDependencies&&_.monitorRunDependencies(B),_.instantiateWasm)try{return _.instantiateWasm(e,t)}catch(e){return D(`Module.instantiateWasm callback failed with error: `+e),!1}T||typeof WebAssembly.instantiateStreaming!=`function`||ue(ce)||de(ce)||typeof fetch!=`function`?r(n):fetch(ce,{credentials:`same-origin`}).then((function(t){return WebAssembly.instantiateStreaming(t,e).then(n,(function(e){return D(`wasm streaming compile failed: `+e),D(`falling back to ArrayBuffer instantiation`),r(n)}))}))}(),_.___wasm_call_ctors=function(){return(_.___wasm_call_ctors=_.asm.k).apply(null,arguments)},_._malloc=function(){return(be=_._malloc=_.asm.l).apply(null,arguments)}),xe=(_._start=function(){return(_._start=_.asm.m).apply(null,arguments)},_.stackSave=function(){return(xe=_.stackSave=_.asm.o).apply(null,arguments)}),Se=_.stackRestore=function(){return(Se=_.stackRestore=_.asm.p).apply(null,arguments)},Ce=_.stackAlloc=function(){return(Ce=_.stackAlloc=_.asm.q).apply(null,arguments)};function we(e){this.name=`ExitStatus`,this.message=`Program terminated with exit(`+e+`)`,this.status=e}function Te(e){function t(){ve||(ve=!0,_.calledRun=!0,A||(ae=!0,pe(z),_.onRuntimeInitialized&&_.onRuntimeInitialized(),function(){if(_.postRun)for(typeof _.postRun==`function`&&(_.postRun=[_.postRun]);_.postRun.length;)e=_.postRun.shift(),ie.unshift(e);var e;pe(ie)}()))}e||=y,B>0||(function(){if(_.preRun)for(typeof _.preRun==`function`&&(_.preRun=[_.preRun]);_.preRun.length;)e=_.preRun.shift(),re.unshift(e);var e;pe(re)}(),B>0||(_.setStatus?(_.setStatus(`Running...`),setTimeout((function(){setTimeout((function(){_.setStatus(``)}),1),t()}),1)):t()))}if(H=function e(){ve||Te(),ve||(H=e)},_.run=Te,_.preInit)for(typeof _.preInit==`function`&&(_.preInit=[_.preInit]);_.preInit.length>0;)_.preInit.pop()();Te();var Ee=async(e,t={})=>{let n;t=Object.assign({turdsize:2,turnpolicy:4,alphamax:1,opticurve:1,opttolerance:.2,pathonly:!1,extractcolors:!0,posterizelevel:5,posterizationalgorithm:1},t);let r=e.constructor.name;if(r===`Blob`)n=await(async()=>new Promise((t=>{let n=URL.createObjectURL(e),r=new Image;r.onload=()=>{let e=document.createElement(`canvas`),n=e.getContext(`2d`);if(!n)throw Error(`Canvas is not supported.`);let i=r;e.width=Number(i.width),e.height=Number(i.height),n.drawImage(i,0,0,e.width,e.height),t(n.getImageData(0,0,e.width,e.height))},r.src=n})))();else if(r===`HTMLImageElement`||r===`SVGImageElement`||r===`HTMLVideoElement`||r===`HTMLCanvasElement`||r===`ImageBitmap`){let t=document.createElement(`canvas`),r=t.getContext(`2d`);if(!r)throw Error(`Canvas is not supported.`);let i=e;t.width=Number(i.width),t.height=Number(i.height),r.drawImage(i,0,0,t.width,t.height),n=r.getImageData(0,0,t.width,t.height)}else n=e;let i=(a=`start`,o=`string`,l=(s=(s=[`array`,`number`,`number`,`number`,`number`,`number`,`number`,`number`,`number`,`number`,`number`,`number`,`number`])||[]).every((function(e){return e===`number`})),o!==`string`&&l&&!c?j(a):function(){return M(a,o,s,arguments)});var a,o,s,c,l;await De();let u=i(n.data,n.width,n.height,!0,t.pathonly,t.extractcolors,t.posterizelevel,t.posterizationalgorithm,t.turdsize,t.turnpolicy,t.alphamax,t.opticurve,t.opttolerance);return t.pathonly?u.split(`M`).filter((e=>e)).map((e=>`M`+e)):u};function De(){return new Promise((e=>{ae?e():_.onRuntimeInitialized=()=>{e()}}))}if(typeof module<`u`){let e=De;module.exports={potrace:Ee,init:e}}var Oe=o(((e,t)=>{(function(e,n){e||=u();var r=e.window,i=e.document,a=new function(){var e=/^(statics|enumerable|beans|preserve)$/,t=[],r=t.slice,i=Object.create,a=Object.getOwnPropertyDescriptor,o=Object.defineProperty,s=t.forEach||function(e,t){for(var n=0,r=this.length;n<r;n++)e.call(t,this[n],n,this)},c=function(e,t){for(var n in this)this.hasOwnProperty(n)&&e.call(t,this[n],n,this)},l=Object.assign||function(e){for(var t=1,n=arguments.length;t<n;t++){var r=arguments[t];for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])}return e},u=function(e,t,n){if(e){var r=a(e,`length`);(r&&typeof r.value==`number`?s:c).call(e,t,n||=e)}return n};function d(t,n,r,i,s){var c={};function l(e,l){l||=(l=a(n,e))&&(l.get?l:l.value),typeof l==`string`&&l[0]===`#`&&(l=t[l.substring(1)]||l);var u=typeof l==`function`,d=l,p=s||u&&!l.base?l&&l.get?e in t:t[e]:null,m;(!s||!p)&&(u&&p&&(l.base=p),u&&i!==!1&&(m=e.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(c[m[3].toLowerCase()+m[4]]=m[2]),(!d||u||!d.get||typeof d.get!=`function`||!f.isPlainObject(d))&&(d={value:d,writable:!0}),(a(t,e)||{configurable:!0}).configurable&&(d.configurable=!0,d.enumerable=r??!m),o(t,e,d))}if(n){for(var u in n)n.hasOwnProperty(u)&&!e.test(u)&&l(u);for(var u in c){var d=c[u],p=t[`set`+d],m=t[`get`+d]||p&&t[`is`+d];m&&(i===!0||m.length===0)&&l(u,{get:m,set:p})}}return t}function f(){for(var e=0,t=arguments.length;e<t;e++){var n=arguments[e];n&&l(this,n)}return this}return d(f,{inject:function(e){if(e){var t=e.statics===!0?e:e.statics,n=e.beans,r=e.preserve;t!==e&&d(this.prototype,e,e.enumerable,n,r),d(this,t,null,n,r)}for(var i=1,a=arguments.length;i<a;i++)this.inject(arguments[i]);return this},extend:function(){for(var e=this,t,n,r=0,a,s=arguments.length;r<s&&!(t&&n);r++)a=arguments[r],t||=a.initialize,n||=a.prototype;return t||=function(){e.apply(this,arguments)},n=t.prototype=n||i(this.prototype),o(n,`constructor`,{value:t,writable:!0,configurable:!0}),d(t,this),arguments.length&&this.inject.apply(t,arguments),t.base=e,t}}).inject({enumerable:!1,initialize:f,set:f,inject:function(){for(var e=0,t=arguments.length;e<t;e++){var n=arguments[e];n&&d(this,n,n.enumerable,n.beans,n.preserve)}return this},extend:function(){var e=i(this);return e.inject.apply(e,arguments)},each:function(e,t){return u(this,e,t)},clone:function(){return new this.constructor(this)},statics:{set:l,each:u,create:i,define:o,describe:a,clone:function(e){return l(new e.constructor,e)},isPlainObject:function(e){var t=e!=null&&e.constructor;return t&&(t===Object||t===f||t.name===`Object`)},pick:function(e,t){return e===n?t:e},slice:function(e,t,n){return r.call(e,t,n)}}})};t!==void 0&&(t.exports=a),a.inject({enumerable:!1,toString:function(){return this._id==null?`{ `+a.each(this,function(e,t){if(!/^_/.test(t)){var n=typeof e;this.push(t+`: `+(n===`number`?f.instance.number(e):n===`string`?`'`+e+`'`:e))}},[]).join(`, `)+` }`:(this._class||`Object`)+(this._name?` '`+this._name+`'`:` @`+this._id)},getClassName:function(){return this._class||``},importJSON:function(e){return a.importJSON(e,this)},exportJSON:function(e){return a.exportJSON(this,e)},toJSON:function(){return a.serialize(this)},set:function(e,t){return e&&a.filter(this,e,t,this._prioritize),this}},{beans:!1,statics:{exports:{},extend:function e(){var t=e.base.apply(this,arguments),n=t.prototype._class;return n&&!a.exports[n]&&(a.exports[n]=t),t},equals:function(e,t){if(e===t)return!0;if(e&&e.equals)return e.equals(t);if(t&&t.equals)return t.equals(e);if(e&&t&&typeof e==`object`&&typeof t==`object`){if(Array.isArray(e)&&Array.isArray(t)){var n=e.length;if(n!==t.length)return!1;for(;n--;)if(!a.equals(e[n],t[n]))return!1}else{var r=Object.keys(e),n=r.length;if(n!==Object.keys(t).length)return!1;for(;n--;){var i=r[n];if(!(t.hasOwnProperty(i)&&a.equals(e[i],t[i])))return!1}}return!0}return!1},read:function(e,t,r,i){if(this===a){var o=this.peek(e,t);return e.__index++,o}var s=this.prototype,c=s._readIndex,l=t||c&&e.__index||0,u=e.length,d=e[l];if(i||=u-l,d instanceof this||r&&r.readNull&&d==null&&i<=1)return c&&(e.__index=l+1),d&&r&&r.clone?d.clone():d;if(d=a.create(s),c&&(d.__read=!0),d=d.initialize.apply(d,l>0||l+i<u?a.slice(e,l,l+i):e)||d,c){e.__index=l+d.__read;var f=d.__filtered;f&&(e.__filtered=f,d.__filtered=n),d.__read=n}return d},peek:function(e,t){return e[e.__index=t||e.__index||0]},remain:function(e){return e.length-(e.__index||0)},readList:function(e,t,n,r){for(var i=[],a,o=t||0,s=r?o+r:e.length,c=o;c<s;c++)i.push(Array.isArray(a=e[c])?this.read(a,0,n):this.read(e,c,n,1));return i},readNamed:function(e,t,r,i,o){var s=this.getNamed(e,t),c=s!==n;if(c){var l=e.__filtered;if(!l){var u=this.getSource(e);l=e.__filtered=a.create(u),l.__unfiltered=u}l[t]=n}return this.read(c?[s]:e,r,i,o)},readSupported:function(e,t){var r=this.getSource(e),i=this,a=!1;return r&&Object.keys(r).forEach(function(r){if(r in t){var o=i.readNamed(e,r);o!==n&&(t[r]=o),a=!0}}),a},getSource:function(e){var t=e.__source;if(t===n){var r=e.length===1&&e[0];t=e.__source=r&&a.isPlainObject(r)?r:null}return t},getNamed:function(e,t){var n=this.getSource(e);if(n)return t?n[t]:e.__filtered||n},hasNamed:function(e,t){return!!this.getNamed(e,t)},filter:function(e,t,r,i){var a;function o(i){if(!(r&&i in r)&&!(a&&i in a)){var o=t[i];o!==n&&(e[i]=o)}}if(i){for(var s={},c=0,l,u=i.length;c<u;c++)(l=i[c])in t&&(o(l),s[l]=!0);a=s}return Object.keys(t.__unfiltered||t).forEach(o),e},isPlainValue:function(e,t){return a.isPlainObject(e)||Array.isArray(e)||t&&typeof e==`string`},serialize:function(e,t,n,r){t||={};var i=!r,o;if(i&&(t.formatter=new f(t.precision),r={length:0,definitions:{},references:{},add:function(e,t){var n=`#`+e._id,r=this.references[n];if(!r){this.length++;var i=t.call(e),a=e._class;a&&i[0]!==a&&i.unshift(a),this.definitions[n]=i,r=this.references[n]=[n]}return r}}),e&&e._serialize){o=e._serialize(t,r);var s=e._class;s&&!e._compactSerialize&&(i||!n)&&o[0]!==s&&o.unshift(s)}else if(Array.isArray(e)){o=[];for(var c=0,l=e.length;c<l;c++)o[c]=a.serialize(e[c],t,n,r)}else if(a.isPlainObject(e)){o={};for(var u=Object.keys(e),c=0,l=u.length;c<l;c++){var d=u[c];o[d]=a.serialize(e[d],t,n,r)}}else o=typeof e==`number`?t.formatter.number(e,t.precision):e;return i&&r.length>0?[[`dictionary`,r.definitions],o]:o},deserialize:function(e,t,n,r,i){var o=e,s=!n,c=s&&e&&e.length&&e[0][0]===`dictionary`;if(n||={},Array.isArray(e)){var l=e[0],u=l===`dictionary`;if(e.length==1&&/^#/.test(l))return n.dictionary[l];l=a.exports[l],o=[];for(var d=l?1:0,f=e.length;d<f;d++)o.push(a.deserialize(e[d],t,n,u,c));if(l){var p=o;o=t?t(l,p,s||i):new l(p)}}else if(a.isPlainObject(e))for(var m in o={},r&&(n.dictionary=o),e)o[m]=a.deserialize(e[m],t,n);return c?o[1]:o},exportJSON:function(e,t){var n=a.serialize(e,t);return t&&t.asString==0?n:JSON.stringify(n)},importJSON:function(e,t){return a.deserialize(typeof e==`string`?JSON.parse(e):e,function(e,n,r){var i=r&&t&&t.constructor===e,o=i?t:a.create(e.prototype);if(n.length===1&&o instanceof w&&(i||!(o instanceof E))){var s=n[0];a.isPlainObject(s)&&(s.insert=!1,i&&(n=n.concat([w.INSERT])))}return(i?o.set:e).apply(o,n),i&&(t=null),o})},push:function(e,t){var n=t.length;if(n<4096)e.push.apply(e,t);else{var r=e.length;e.length+=n;for(var i=0;i<n;i++)e[r+i]=t[i]}return e},splice:function(e,t,r,i){var o=t&&t.length,s=r===n;r=s?e.length:r,r>e.length&&(r=e.length);for(var c=0;c<o;c++)t[c]._index=r+c;if(s)return a.push(e,t),[];var l=[r,i];t&&a.push(l,t);for(var u=e.splice.apply(e,l),c=0,d=u.length;c<d;c++)u[c]._index=n;for(var c=r+o,d=e.length;c<d;c++)e[c]._index=c;return u},capitalize:function(e){return e.replace(/\b[a-z]/g,function(e){return e.toUpperCase()})},camelize:function(e){return e.replace(/-(.)/g,function(e,t){return t.toUpperCase()})},hyphenate:function(e){return e.replace(/([a-z])([A-Z])/g,`$1-$2`).toLowerCase()}}});var o={on:function(e,t){if(typeof e!=`string`)a.each(e,function(e,t){this.on(t,e)},this);else{var n=this._eventTypes,r=n&&n[e],i=this._callbacks=this._callbacks||{};i=i[e]=i[e]||[],i.indexOf(t)===-1&&(i.push(t),r&&r.install&&i.length===1&&r.install.call(this,e))}return this},off:function(e,t){if(typeof e!=`string`){a.each(e,function(e,t){this.off(t,e)},this);return}var n=this._eventTypes,r=n&&n[e],i=this._callbacks&&this._callbacks[e],o;return i&&(!t||(o=i.indexOf(t))!==-1&&i.length===1?(r&&r.uninstall&&r.uninstall.call(this,e),delete this._callbacks[e]):o!==-1&&i.splice(o,1)),this},once:function(e,t){return this.on(e,function n(){t.apply(this,arguments),this.off(e,n)})},emit:function(e,t){var n=this._callbacks&&this._callbacks[e];if(!n)return!1;var r=a.slice(arguments,1),i=t&&t.target&&!t.currentTarget;n=n.slice(),i&&(t.currentTarget=this);for(var o=0,s=n.length;o<s;o++)if(n[o].apply(this,r)==0){t&&t.stop&&t.stop();break}return i&&delete t.currentTarget,!0},responds:function(e){return!!(this._callbacks&&this._callbacks[e])},attach:`#on`,detach:`#off`,fire:`#emit`,_installEvents:function(e){var t=this._eventTypes,n=this._callbacks,r=e?`install`:`uninstall`;if(t){for(var i in n)if(n[i].length>0){var a=t[i],o=a&&a[r];o&&o.call(this,i)}}},statics:{inject:function e(t){var n=t._events;if(n){var r={};a.each(n,function(e,n){var i=typeof e==`string`,o=i?e:n,s=a.capitalize(o),c=o.substring(2).toLowerCase();r[c]=i?{}:e,o=`_`+o,t[`get`+s]=function(){return this[o]},t[`set`+s]=function(e){var t=this[o];t&&this.off(c,t),e&&this.on(c,e),this[o]=e}}),t._eventTypes=r}return e.base.apply(this,arguments)}}},s=a.extend({_class:`PaperScope`,initialize:function t(){G=this,this.settings=new a({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this._id=t._id++,t._scopes[this._id]=this;var n=t.prototype;if(!this.support){var r=U.getContext(1,1)||{};n.support={nativeDash:`setLineDash`in r||`mozDash`in r,nativeBlendModes:ge.nativeModes},U.release(r)}if(!this.agent){var i=e.navigator.userAgent.toLowerCase(),o=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(i)||[])[0],s=o===`darwin`?`mac`:o,c=n.agent=n.browser={platform:s};s&&(c[s]=!0),i.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,function(e,t,n,r,i){if(!c.chrome){var a=t===`opera`?r:/^(node|trident)$/.test(t)?i:n;c.version=a,c.versionNumber=parseFloat(a),t={trident:`msie`,jsdom:`node`}[t]||t,c.name=t,c[t]=!0}}),c.chrome&&delete c.webkit,c.atom&&delete c.chrome}},version:`0.12.18`,getView:function(){var e=this.project;return e&&e._view},getPaper:function(){return this},execute:function(e,t){var n=G.PaperScript.execute(e,this,t);return H.updateFocus(),n},install:function(e){var t=this;for(var n in a.each([`project`,`view`,`tool`],function(n){a.define(e,n,{configurable:!0,get:function(){return t[n]}})}),this)!/^_/.test(n)&&this[n]&&(e[n]=this[n])},setup:function(e){return G=this,this.project=new C(e),this},createCanvas:function(e,t){return U.getCanvas(e,t)},activate:function(){G=this},clear:function(){for(var e=this.projects,t=this.tools,n=e.length-1;n>=0;n--)e[n].remove();for(var n=t.length-1;n>=0;n--)t[n].remove()},remove:function(){this.clear(),delete s._scopes[this._id]},statics:new function(){function e(e){return e+=`Attribute`,function(t,n){return t[e](n)||t[e](`data-paper-`+n)}}return{_scopes:{},_id:0,get:function(e){return this._scopes[e]||null},getAttribute:e(`get`),hasAttribute:e(`has`)}}}),c=a.extend(o,{initialize:function(e){this._scope=G,this._index=this._scope[this._list].push(this)-1,(e||!this._scope[this._reference])&&this.activate()},activate:function(){if(!this._scope)return!1;var e=this._scope[this._reference];return e&&e!==this&&e.emit(`deactivate`),this._scope[this._reference]=this,this.emit(`activate`,e),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return this._index==null?!1:(a.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)},getView:function(){return this._scope.getView()}}),d={findItemBoundsCollisions:function(e,t,n){function r(e){for(var t=Array(e.length),n=0;n<e.length;n++){var r=e[n].getBounds();t[n]=[r.left,r.top,r.right,r.bottom]}return t}var i=r(e),a=!t||t===e?i:r(t);return this.findBoundsCollisions(i,a,n||0)},findCurveBoundsCollisions:function(e,t,n,r){function i(e){for(var t=Math.min,n=Math.max,r=Array(e.length),i=0;i<e.length;i++){var a=e[i];r[i]=[t(a[0],a[2],a[4],a[6]),t(a[1],a[3],a[5],a[7]),n(a[0],a[2],a[4],a[6]),n(a[1],a[3],a[5],a[7])]}return r}var a=i(e),o=!t||t===e?a:i(t);if(r){for(var s=this.findBoundsCollisions(a,o,n||0,!1,!0),c=this.findBoundsCollisions(a,o,n||0,!0,!0),l=[],u=0,d=s.length;u<d;u++)l[u]={hor:s[u],ver:c[u]};return l}return this.findBoundsCollisions(a,o,n||0)},findBoundsCollisions:function(e,t,n,r,i){var a=!t||e===t,o=a?e:e.concat(t),s=e.length,c=o.length;function l(e,t,n){for(var r=0,i=e.length;r<i;){var a=i+r>>>1;o[e[a]][t]<n?r=a+1:i=a}return r-1}for(var u=r?1:0,d=u+2,f=r?0:1,p=f+2,m=Array(c),h=0;h<c;h++)m[h]=h;m.sort(function(e,t){return o[e][u]-o[t][u]});for(var g=[],_=Array(s),h=0;h<c;h++){var v=m[h],y=o[v],b=a?v:v-s,x=v<s,S=a||!x,C=x?[]:null;if(g.length){var w=l(g,d,y[u]-n)+1;if(g.splice(0,w),a&&i){C=C.concat(g);for(var T=0;T<g.length;T++){var E=g[T];_[E].push(b)}}else for(var D=y[p],O=y[f],T=0;T<g.length;T++){var E=g[T],k=o[E],A=E<s,j=a||E>=s;(i||(x&&j||S&&A)&&D>=k[f]-n&&O<=k[p]+n)&&(x&&j&&C.push(a?E:E-s),S&&A&&_[E].push(b))}}if(x&&(e===t&&C.push(v),_[v]=C),g.length){var M=y[d],N=l(g,d,M);g.splice(N+1,0,v)}else g.push(v)}for(var h=0;h<_.length;h++){var P=_[h];P&&P.sort(function(e,t){return e-t})}return _}},f=a.extend({initialize:function(e){this.precision=a.pick(e,5),this.multiplier=10**this.precision},number:function(e){return this.precision<16?Math.round(e*this.multiplier)/this.multiplier:e},pair:function(e,t,n){return this.number(e)+(n||`,`)+this.number(t)},point:function(e,t){return this.number(e.x)+(t||`,`)+this.number(e.y)},size:function(e,t){return this.number(e.width)+(t||`,`)+this.number(e.height)},rectangle:function(e,t){return this.point(e,t)+(t||`,`)+this.size(e,t)}});f.instance=new f;var p=new function(){var e=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],t=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],n=Math.abs,r=Math.sqrt,i=Math.pow,a=Math.log2||function(e){return Math.log(e)*Math.LOG2E},o=1e-12,s=112e-18;function c(e,t,n){return e<t?t:e>n?n:e}function l(e,t,r){function i(e){var t=e*134217729,n=e-t+t;return[n,e-n]}var a=t*t-e*r,o=t*t+e*r;if(n(a)*3<o){var s=i(e),c=i(t),l=i(r),u=t*t,d=c[0]*c[0]-u+2*c[0]*c[1]+c[1]*c[1],f=e*r,p=s[0]*l[0]-f+s[0]*l[1]+s[1]*l[0]+s[1]*l[1];a=u-f+(d-p)}return a}function u(){var e=Math.max.apply(Math,arguments);return e&&(e<1e-8||e>1e8)?i(2,-Math.round(a(e))):0}return{EPSILON:o,MACHINE_EPSILON:s,CURVETIME_EPSILON:1e-8,GEOMETRIC_EPSILON:1e-7,TRIGONOMETRIC_EPSILON:1e-8,ANGULAR_EPSILON:1e-5,KAPPA:4*(r(2)-1)/3,isZero:function(e){return e>=-o&&e<=o},isMachineZero:function(e){return e>=-s&&e<=s},clamp:c,integrate:function(n,r,i,a){for(var o=e[a-2],s=t[a-2],c=(i-r)*.5,l=c+r,u=0,d=a+1>>1,f=a&1?s[u++]*n(l):0;u<d;){var p=c*o[u];f+=s[u++]*(n(l+p)+n(l-p))}return c*f},findRoot:function(e,t,r,i,a,o,s){for(var l=0;l<o;l++){var u=e(r),d=u/t(r),f=r-d;if(n(d)<s){r=f;break}u>0?(a=r,r=f<=i?(i+a)*.5:f):(i=r,r=f>=a?(i+a)*.5:f)}return c(r,i,a)},solveQuadratic:function(e,t,i,a,d,f){var p,m=1/0;if(n(e)<o){if(n(t)<o)return n(i)<o?-1:0;p=-i/t}else{t*=-.5;var h=l(e,t,i);if(h&&n(h)<s){var g=u(n(e),n(t),n(i));g&&(e*=g,t*=g,i*=g,h=l(e,t,i))}if(h>=-s){var _=h<0?0:r(h),v=t+(t<0?-_:_);v===0?(p=i/e,m=-p):(p=v/e,m=i/v)}}var y=0,b=d==null,x=d-o,S=f+o;return isFinite(p)&&(b||p>x&&p<S)&&(a[y++]=b?p:c(p,d,f)),m!==p&&isFinite(m)&&(b||m>x&&m<S)&&(a[y++]=b?m:c(m,d,f)),y},solveCubic:function(e,t,a,l,d,f,m){var h=u(n(e),n(t),n(a),n(l)),g,_,v,y,b;h&&(e*=h,t*=h,a*=h,l*=h);function x(n){g=n;var r=e*g;_=r+t,v=_*g+a,y=(r+_)*g+v,b=v*g+l}if(n(e)<o)e=t,_=a,v=l,g=1/0;else if(n(l)<o)_=t,v=a,g=0;else{x(-(t/e)/3);var S=b/e,C=i(n(S),1/3),w=S<0?-1:1,T=-y/e,E=T>0?1.324717957244746*Math.max(C,r(T)):C,D=g-w*E;if(D!==g){do x(D),D=y===0?g:g-b/y/(1+s);while(w*D>w*g);n(e)*g*g>n(l/g)&&(v=-l/g,_=(v-a)/g)}}var O=p.solveQuadratic(e,_,v,d,f,m),k=f==null;return isFinite(g)&&(O===0||O>0&&g!==d[0]&&g!==d[1])&&(k||g>f-o&&g<m+o)&&(d[O++]=k?g:c(g,f,m)),O}}},m={_id:1,_pools:{},get:function(e){if(e){var t=this._pools[e];return t||=this._pools[e]={_id:1},t._id++}else return this._id++}},h=a.extend({_class:`Point`,_readIndex:!0,initialize:function(e,t){var n=typeof e,r=this.__read,i=0;if(n===`number`){var a=typeof t==`number`;this._set(e,a?t:e),r&&(i=a?2:1)}else if(n===`undefined`||e===null)this._set(0,0),r&&(i=e===null?1:0);else{var o=n===`string`?e.split(/[\s,]+/)||[]:e;i=1,Array.isArray(o)?this._set(+o[0],+(o.length>1?o[1]:o[0])):`x`in o?this._set(o.x||0,o.y||0):`width`in o?this._set(o.width||0,o.height||0):`angle`in o?(this._set(o.length||0,0),this.setAngle(o.angle||0)):(this._set(0,0),i=0)}return r&&(this.__read=i),this},set:`#initialize`,_set:function(e,t){return this.x=e,this.y=t,this},equals:function(e){return this===e||e&&(this.x===e.x&&this.y===e.y||Array.isArray(e)&&this.x===e[0]&&this.y===e[1])||!1},clone:function(){return new h(this.x,this.y)},toString:function(){var e=f.instance;return`{ x: `+e.number(this.x)+`, y: `+e.number(this.y)+` }`},_serialize:function(e){var t=e.formatter;return[t.number(this.x),t.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(e){if(this.isZero()){var t=this._angle||0;this._set(Math.cos(t)*e,Math.sin(t)*e)}else{var n=e/this.getLength();p.isZero(n)&&this.getAngle(),this._set(this.x*n,this.y*n)}},getAngle:function(){return this.getAngleInRadians.apply(this,arguments)*180/Math.PI},setAngle:function(e){this.setAngleInRadians.call(this,e*Math.PI/180)},getAngleInDegrees:`#getAngle`,setAngleInDegrees:`#setAngle`,getAngleInRadians:function(){if(arguments.length){var e=h.read(arguments),t=this.getLength()*e.getLength();if(p.isZero(t))return NaN;var n=this.dot(e)/t;return Math.acos(n<-1?-1:n>1?1:n)}else return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(e){if(this._angle=e,!this.isZero()){var t=this.getLength();this._set(Math.cos(e)*t,Math.sin(e)*t)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var e=h.read(arguments);return Math.atan2(this.cross(e),this.dot(e))*180/Math.PI},getDistance:function(){var e=arguments,t=h.read(e),n=t.x-this.x,r=t.y-this.y,i=n*n+r*r;return a.read(e)?i:Math.sqrt(i)},normalize:function(e){e===n&&(e=1);var t=this.getLength(),r=t===0?0:e/t,i=new h(this.x*r,this.y*r);return r>=0&&(i._angle=this._angle),i},rotate:function(e,t){if(e===0)return this.clone();e=e*Math.PI/180;var n=t?this.subtract(t):this,r=Math.sin(e),i=Math.cos(e);return n=new h(n.x*i-n.y*r,n.x*r+n.y*i),t?n.add(t):n},transform:function(e){return e?e._transformPoint(this):this},add:function(){var e=h.read(arguments);return new h(this.x+e.x,this.y+e.y)},subtract:function(){var e=h.read(arguments);return new h(this.x-e.x,this.y-e.y)},multiply:function(){var e=h.read(arguments);return new h(this.x*e.x,this.y*e.y)},divide:function(){var e=h.read(arguments);return new h(this.x/e.x,this.y/e.y)},modulo:function(){var e=h.read(arguments);return new h(this.x%e.x,this.y%e.y)},negate:function(){return new h(-this.x,-this.y)},isInside:function(){return y.read(arguments).contains(this)},isClose:function(){var e=arguments,t=h.read(e),n=a.read(e);return this.getDistance(t)<=n},isCollinear:function(){var e=h.read(arguments);return h.isCollinear(this.x,this.y,e.x,e.y)},isColinear:`#isCollinear`,isOrthogonal:function(){var e=h.read(arguments);return h.isOrthogonal(this.x,this.y,e.x,e.y)},isZero:function(){var e=p.isZero;return e(this.x)&&e(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(e){return this.x*(e>1&&e<4?-1:1)>=0&&this.y*(e>2?-1:1)>=0},dot:function(){var e=h.read(arguments);return this.x*e.x+this.y*e.y},cross:function(){var e=h.read(arguments);return this.x*e.y-this.y*e.x},project:function(){var e=h.read(arguments),t=e.isZero()?0:this.dot(e)/e.dot(e);return new h(e.x*t,e.y*t)},statics:{min:function(){var e=arguments,t=h.read(e),n=h.read(e);return new h(Math.min(t.x,n.x),Math.min(t.y,n.y))},max:function(){var e=arguments,t=h.read(e),n=h.read(e);return new h(Math.max(t.x,n.x),Math.max(t.y,n.y))},random:function(){return new h(Math.random(),Math.random())},isCollinear:function(e,t,n,r){return Math.abs(e*r-t*n)<=Math.sqrt((e*e+t*t)*(n*n+r*r))*1e-8},isOrthogonal:function(e,t,n,r){return Math.abs(e*n+t*r)<=Math.sqrt((e*e+t*t)*(n*n+r*r))*1e-8}}},a.each([`round`,`ceil`,`floor`,`abs`],function(e){var t=Math[e];this[e]=function(){return new h(t(this.x),t(this.y))}},{})),g=h.extend({initialize:function(e,t,n,r){this._x=e,this._y=t,this._owner=n,this._setter=r},_set:function(e,t,n){return this._x=e,this._y=t,n||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(e){this._x=e,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(e){this._y=e,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(e){this._owner._changeSelection(this._getSelection(),e)},_getSelection:function(){return this._setter===`setPosition`?4:0}}),_=a.extend({_class:`Size`,_readIndex:!0,initialize:function(e,t){var n=typeof e,r=this.__read,i=0;if(n===`number`){var a=typeof t==`number`;this._set(e,a?t:e),r&&(i=a?2:1)}else if(n===`undefined`||e===null)this._set(0,0),r&&(i=e===null?1:0);else{var o=n===`string`?e.split(/[\s,]+/)||[]:e;i=1,Array.isArray(o)?this._set(+o[0],+(o.length>1?o[1]:o[0])):`width`in o?this._set(o.width||0,o.height||0):`x`in o?this._set(o.x||0,o.y||0):(this._set(0,0),i=0)}return r&&(this.__read=i),this},set:`#initialize`,_set:function(e,t){return this.width=e,this.height=t,this},equals:function(e){return e===this||e&&(this.width===e.width&&this.height===e.height||Array.isArray(e)&&this.width===e[0]&&this.height===e[1])||!1},clone:function(){return new _(this.width,this.height)},toString:function(){var e=f.instance;return`{ width: `+e.number(this.width)+`, height: `+e.number(this.height)+` }`},_serialize:function(e){var t=e.formatter;return[t.number(this.width),t.number(this.height)]},add:function(){var e=_.read(arguments);return new _(this.width+e.width,this.height+e.height)},subtract:function(){var e=_.read(arguments);return new _(this.width-e.width,this.height-e.height)},multiply:function(){var e=_.read(arguments);return new _(this.width*e.width,this.height*e.height)},divide:function(){var e=_.read(arguments);return new _(this.width/e.width,this.height/e.height)},modulo:function(){var e=_.read(arguments);return new _(this.width%e.width,this.height%e.height)},negate:function(){return new _(-this.width,-this.height)},isZero:function(){var e=p.isZero;return e(this.width)&&e(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(e,t){return new _(Math.min(e.width,t.width),Math.min(e.height,t.height))},max:function(e,t){return new _(Math.max(e.width,t.width),Math.max(e.height,t.height))},random:function(){return new _(Math.random(),Math.random())}}},a.each([`round`,`ceil`,`floor`,`abs`],function(e){var t=Math[e];this[e]=function(){return new _(t(this.width),t(this.height))}},{})),v=_.extend({initialize:function(e,t,n,r){this._width=e,this._height=t,this._owner=n,this._setter=r},_set:function(e,t,n){return this._width=e,this._height=t,n||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(e){this._width=e,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(e){this._height=e,this._owner[this._setter](this)}}),y=a.extend({_class:`Rectangle`,_readIndex:!0,beans:!0,initialize:function(e,t,r,i){var o=arguments,s=typeof e,c;if(s===`number`?(this._set(e,t,r,i),c=4):s===`undefined`||e===null?(this._set(0,0,0,0),c=e===null?1:0):o.length===1&&(Array.isArray(e)?(this._set.apply(this,e),c=1):e.x!==n||e.width!==n?(this._set(e.x||0,e.y||0,e.width||0,e.height||0),c=1):e.from===n&&e.to===n&&(this._set(0,0,0,0),a.readSupported(o,this)&&(c=1))),c===n){var l=h.readNamed(o,`from`),u=a.peek(o),d=l.x,f=l.y,p,m;if(u&&u.x!==n||a.hasNamed(o,`to`)){var g=h.readNamed(o,`to`);p=g.x-d,m=g.y-f,p<0&&(d=g.x,p=-p),m<0&&(f=g.y,m=-m)}else{var v=_.read(o);p=v.width,m=v.height}this._set(d,f,p,m),c=o.__index}var y=o.__filtered;return y&&(this.__filtered=y),this.__read&&=c,this},set:`#initialize`,_set:function(e,t,n,r){return this.x=e,this.y=t,this.width=n,this.height=r,this},clone:function(){return new y(this.x,this.y,this.width,this.height)},equals:function(e){var t=a.isPlainValue(e)?y.read(arguments):e;return t===this||t&&this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height||!1},toString:function(){var e=f.instance;return`{ x: `+e.number(this.x)+`, y: `+e.number(this.y)+`, width: `+e.number(this.width)+`, height: `+e.number(this.height)+` }`},_serialize:function(e){var t=e.formatter;return[t.number(this.x),t.number(this.y),t.number(this.width),t.number(this.height)]},getPoint:function(e){return new(e?h:g)(this.x,this.y,this,`setPoint`)},setPoint:function(){var e=h.read(arguments);this.x=e.x,this.y=e.y},getSize:function(e){return new(e?_:v)(this.width,this.height,this,`setSize`)},_fw:1,_fh:1,setSize:function(){var e=_.read(arguments),t=this._sx,n=this._sy,r=e.width,i=e.height;t&&(this.x+=(this.width-r)*t),n&&(this.y+=(this.height-i)*n),this.width=r,this.height=i,this._fw=this._fh=1},getLeft:function(){return this.x},setLeft:function(e){if(!this._fw){var t=e-this.x;this.width-=this._sx===.5?t*2:t}this.x=e,this._sx=this._fw=0},getTop:function(){return this.y},setTop:function(e){if(!this._fh){var t=e-this.y;this.height-=this._sy===.5?t*2:t}this.y=e,this._sy=this._fh=0},getRight:function(){return this.x+this.width},setRight:function(e){if(!this._fw){var t=e-this.x;this.width=this._sx===.5?t*2:t}this.x=e-this.width,this._sx=1,this._fw=0},getBottom:function(){return this.y+this.height},setBottom:function(e){if(!this._fh){var t=e-this.y;this.height=this._sy===.5?t*2:t}this.y=e-this.height,this._sy=1,this._fh=0},getCenterX:function(){return this.x+this.width/2},setCenterX:function(e){this._fw||this._sx===.5?this.x=e-this.width/2:(this._sx&&(this.x+=(e-this.x)*2*this._sx),this.width=(e-this.x)*2),this._sx=.5,this._fw=0},getCenterY:function(){return this.y+this.height/2},setCenterY:function(e){this._fh||this._sy===.5?this.y=e-this.height/2:(this._sy&&(this.y+=(e-this.y)*2*this._sy),this.height=(e-this.y)*2),this._sy=.5,this._fh=0},getCenter:function(e){return new(e?h:g)(this.getCenterX(),this.getCenterY(),this,`setCenter`)},setCenter:function(){var e=h.read(arguments);return this.setCenterX(e.x),this.setCenterY(e.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return this.width===0||this.height===0},contains:function(e){return e&&e.width!==n||(Array.isArray(e)?e:arguments).length===4?this._containsRectangle(y.read(arguments)):this._containsPoint(h.read(arguments))},_containsPoint:function(e){var t=e.x,n=e.y;return t>=this.x&&n>=this.y&&t<=this.x+this.width&&n<=this.y+this.height},_containsRectangle:function(e){var t=e.x,n=e.y;return t>=this.x&&n>=this.y&&t+e.width<=this.x+this.width&&n+e.height<=this.y+this.height},intersects:function(){var e=y.read(arguments),t=a.read(arguments)||0;return e.x+e.width>this.x-t&&e.y+e.height>this.y-t&&e.x<this.x+this.width+t&&e.y<this.y+this.height+t},intersect:function(){var e=y.read(arguments),t=Math.max(this.x,e.x),n=Math.max(this.y,e.y),r=Math.min(this.x+this.width,e.x+e.width),i=Math.min(this.y+this.height,e.y+e.height);return new y(t,n,r-t,i-n)},unite:function(){var e=y.read(arguments),t=Math.min(this.x,e.x),n=Math.min(this.y,e.y),r=Math.max(this.x+this.width,e.x+e.width),i=Math.max(this.y+this.height,e.y+e.height);return new y(t,n,r-t,i-n)},include:function(){var e=h.read(arguments),t=Math.min(this.x,e.x),n=Math.min(this.y,e.y),r=Math.max(this.x+this.width,e.x),i=Math.max(this.y+this.height,e.y);return new y(t,n,r-t,i-n)},expand:function(){var e=_.read(arguments),t=e.width,n=e.height;return new y(this.x-t/2,this.y-n/2,this.width+t,this.height+n)},scale:function(e,t){return this.expand(this.width*e-this.width,this.height*(t===n?e:t)-this.height)}},a.each([[`Top`,`Left`],[`Top`,`Right`],[`Bottom`,`Left`],[`Bottom`,`Right`],[`Left`,`Center`],[`Top`,`Center`],[`Right`,`Center`],[`Bottom`,`Center`]],function(e,t){var n=e.join(``),r=/^[RL]/.test(n);t>=4&&(e[1]+=r?`Y`:`X`);var i=e[r?0:1],a=e[r?1:0],o=`get`+i,s=`get`+a,c=`set`+i,l=`set`+a,u=`get`+n,d=`set`+n;this[u]=function(e){return new(e?h:g)(this[o](),this[s](),this,d)},this[d]=function(){var e=h.read(arguments);this[c](e.x),this[l](e.y)}},{beans:!0})),b=y.extend({initialize:function(e,t,n,r,i,a){this._set(e,t,n,r,!0),this._owner=i,this._setter=a},_set:function(e,t,n,r,i){return this._x=e,this._y=t,this._width=n,this._height=r,i||this._owner[this._setter](this),this}},new function(){var e=y.prototype;return a.each([`x`,`y`,`width`,`height`],function(e){var t=a.capitalize(e),n=`_`+e;this[`get`+t]=function(){return this[n]},this[`set`+t]=function(e){this[n]=e,this._dontNotify||this._owner[this._setter](this)}},a.each([`Point`,`Size`,`Center`,`Left`,`Top`,`Right`,`Bottom`,`CenterX`,`CenterY`,`TopLeft`,`TopRight`,`BottomLeft`,`BottomRight`,`LeftCenter`,`TopCenter`,`RightCenter`,`BottomCenter`],function(t){var n=`set`+t;this[n]=function(){this._dontNotify=!0,e[n].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(this._owner._selection&2)},setSelected:function(e){var t=this._owner;t._changeSelection&&t._changeSelection(2,e)}}))}),x=a.extend({_class:`Matrix`,initialize:function e(t,n){var r=arguments,i=r.length,a=!0;if(i>=6?this._set.apply(this,r):i===1||i===2?t instanceof e?this._set(t._a,t._b,t._c,t._d,t._tx,t._ty,n):Array.isArray(t)?this._set.apply(this,n?t.concat([n]):t):a=!1:i?a=!1:this.reset(),!a)throw Error(`Unsupported matrix parameters`);return this},set:`#initialize`,_set:function(e,t,n,r,i,a,o){return this._a=e,this._b=t,this._c=n,this._d=r,this._tx=i,this._ty=a,o||this._changed(),this},_serialize:function(e,t){return a.serialize(this.getValues(),e,!0,t)},_changed:function(){var e=this._owner;e&&(e._applyMatrix?e.transform(null,!0):e._changed(25))},clone:function(){return new x(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(e){return e===this||e&&this._a===e._a&&this._b===e._b&&this._c===e._c&&this._d===e._d&&this._tx===e._tx&&this._ty===e._ty},toString:function(){var e=f.instance;return`[[`+[e.number(this._a),e.number(this._c),e.number(this._tx)].join(`, `)+`], [`+[e.number(this._b),e.number(this._d),e.number(this._ty)].join(`, `)+`]]`},reset:function(e){return this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,e||this._changed(),this},apply:function(e,t){var n=this._owner;return n?(n.transform(null,a.pick(e,!0),t),this.isIdentity()):!1},translate:function(){var e=h.read(arguments),t=e.x,n=e.y;return this._tx+=t*this._a+n*this._c,this._ty+=t*this._b+n*this._d,this._changed(),this},scale:function(){var e=arguments,t=h.read(e),n=h.read(e,0,{readNull:!0});return n&&this.translate(n),this._a*=t.x,this._b*=t.x,this._c*=t.y,this._d*=t.y,n&&this.translate(n.negate()),this._changed(),this},rotate:function(e){e*=Math.PI/180;var t=h.read(arguments,1),n=t.x,r=t.y,i=Math.cos(e),a=Math.sin(e),o=n-n*i+r*a,s=r-n*a-r*i,c=this._a,l=this._b,u=this._c,d=this._d;return this._a=i*c+a*u,this._b=i*l+a*d,this._c=-a*c+i*u,this._d=-a*l+i*d,this._tx+=o*c+s*u,this._ty+=o*l+s*d,this._changed(),this},shear:function(){var e=arguments,t=h.read(e),n=h.read(e,0,{readNull:!0});n&&this.translate(n);var r=this._a,i=this._b;return this._a+=t.y*this._c,this._b+=t.y*this._d,this._c+=t.x*r,this._d+=t.x*i,n&&this.translate(n.negate()),this._changed(),this},skew:function(){var e=arguments,t=h.read(e),n=h.read(e,0,{readNull:!0}),r=Math.PI/180,i=new h(Math.tan(t.x*r),Math.tan(t.y*r));return this.shear(i,n)},append:function(e,t){if(e){var n=this._a,r=this._b,i=this._c,a=this._d,o=e._a,s=e._c,c=e._b,l=e._d,u=e._tx,d=e._ty;this._a=o*n+c*i,this._c=s*n+l*i,this._b=o*r+c*a,this._d=s*r+l*a,this._tx+=u*n+d*i,this._ty+=u*r+d*a,t||this._changed()}return this},prepend:function(e,t){if(e){var n=this._a,r=this._b,i=this._c,a=this._d,o=this._tx,s=this._ty,c=e._a,l=e._c,u=e._b,d=e._d,f=e._tx,p=e._ty;this._a=c*n+l*r,this._c=c*i+l*a,this._b=u*n+d*r,this._d=u*i+d*a,this._tx=c*o+l*s+f,this._ty=u*o+d*s+p,t||this._changed()}return this},appended:function(e){return this.clone().append(e)},prepended:function(e){return this.clone().prepend(e)},invert:function(){var e=this._a,t=this._b,n=this._c,r=this._d,i=this._tx,a=this._ty,o=e*r-t*n,s=null;return o&&!isNaN(o)&&isFinite(i)&&isFinite(a)&&(this._a=r/o,this._b=-t/o,this._c=-n/o,this._d=e/o,this._tx=(n*a-r*i)/o,this._ty=(t*i-e*a)/o,s=this),s},inverted:function(){return this.clone().invert()},concatenate:`#append`,preConcatenate:`#prepend`,chain:`#appended`,_shiftless:function(){return new x(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return this._a===1&&this._b===0&&this._c===0&&this._d===1&&this._tx===0&&this._ty===0},isInvertible:function(){var e=this._a*this._d-this._c*this._b;return e&&!isNaN(e)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(e,t,n){return arguments.length<3?this._transformPoint(h.read(arguments)):this._transformCoordinates(e,t,n)},_transformPoint:function(e,t,n){var r=e.x,i=e.y;return t||=new h,t._set(r*this._a+i*this._c+this._tx,r*this._b+i*this._d+this._ty,n)},_transformCoordinates:function(e,t,n){for(var r=0,i=2*n;r<i;r+=2){var a=e[r],o=e[r+1];t[r]=a*this._a+o*this._c+this._tx,t[r+1]=a*this._b+o*this._d+this._ty}return t},_transformCorners:function(e){var t=e.x,n=e.y,r=t+e.width,i=n+e.height,a=[t,n,r,n,r,i,t,i];return this._transformCoordinates(a,a,4)},_transformBounds:function(e,t,n){for(var r=this._transformCorners(e),i=r.slice(0,2),a=i.slice(),o=2;o<8;o++){var s=r[o],c=o&1;s<i[c]?i[c]=s:s>a[c]&&(a[c]=s)}return t||=new y,t._set(i[0],i[1],a[0]-i[0],a[1]-i[1],n)},inverseTransform:function(){return this._inverseTransform(h.read(arguments))},_inverseTransform:function(e,t,n){var r=this._a,i=this._b,a=this._c,o=this._d,s=this._tx,c=this._ty,l=r*o-i*a,u=null;if(l&&!isNaN(l)&&isFinite(s)&&isFinite(c)){var d=e.x-this._tx,f=e.y-this._ty;t||=new h,u=t._set((d*o-f*a)/l,(f*r-d*i)/l,n)}return u},decompose:function(){var e=this._a,t=this._b,n=this._c,r=this._d,i=e*r-t*n,a=Math.sqrt,o=Math.atan2,s=180/Math.PI,c,l,u;if(e!==0||t!==0){var d=a(e*e+t*t);c=Math.acos(e/d)*(t>0?1:-1),l=[d,i/d],u=[o(e*n+t*r,d*d),0]}else if(n!==0||r!==0){var f=a(n*n+r*r);c=Math.asin(n/f)*(r>0?1:-1),l=[i/f,f],u=[0,o(e*n+t*r,f*f)]}else c=0,u=l=[0,0];return{translation:this.getTranslation(),rotation:c*s,scaling:new h(l),skewing:new h(u[0]*s,u[1]*s)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new h(this._tx,this._ty)},getScaling:function(){return this.decompose().scaling},getRotation:function(){return this.decompose().rotation},applyToContext:function(e){this.isIdentity()||e.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},a.each([`a`,`b`,`c`,`d`,`tx`,`ty`],function(e){var t=a.capitalize(e),n=`_`+e;this[`get`+t]=function(){return this[n]},this[`set`+t]=function(e){this[n]=e,this._changed()}},{})),S=a.extend({_class:`Line`,initialize:function(e,t,n,r,i){var a=!1;arguments.length>=4?(this._px=e,this._py=t,this._vx=n,this._vy=r,a=i):(this._px=e.x,this._py=e.y,this._vx=t.x,this._vy=t.y,a=n),a||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new h(this._px,this._py)},getVector:function(){return new h(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(e,t){return S.intersect(this._px,this._py,this._vx,this._vy,e._px,e._py,e._vx,e._vy,!0,t)},getSide:function(e,t){return S.getSide(this._px,this._py,this._vx,this._vy,e.x,e.y,!0,t)},getDistance:function(e){return Math.abs(this.getSignedDistance(e))},getSignedDistance:function(e){return S.getSignedDistance(this._px,this._py,this._vx,this._vy,e.x,e.y,!0)},isCollinear:function(e){return h.isCollinear(this._vx,this._vy,e._vx,e._vy)},isOrthogonal:function(e){return h.isOrthogonal(this._vx,this._vy,e._vx,e._vy)},statics:{intersect:function(e,t,n,r,i,a,o,s,c,l){c||(n-=e,r-=t,o-=i,s-=a);var u=n*s-r*o;if(!p.isMachineZero(u)){var d=e-i,f=t-a,m=(o*f-s*d)/u,g=(n*f-r*d)/u,_=1e-12,v=-_,y=1+_;if(l||v<m&&m<y&&v<g&&g<y)return l||(m=m<=0?0:m>=1?1:m),new h(e+m*n,t+m*r)}},getSide:function(e,t,n,r,i,a,o,s){o||(n-=e,r-=t);var c=i-e,l=a-t,u=c*r-l*n;return!s&&p.isMachineZero(u)&&(u=(c*n+c*n)/(n*n+r*r),u>=0&&u<=1&&(u=0)),u<0?-1:u>0?1:0},getSignedDistance:function(e,t,n,r,i,a,o){return o||(n-=e,r-=t),n===0?r>0?i-e:e-i:r===0?n<0?a-t:t-a:((i-e)*r-(a-t)*n)/(r>n?r*Math.sqrt(1+n*n/(r*r)):n*Math.sqrt(1+r*r/(n*n)))},getDistance:function(e,t,n,r,i,a,o){return Math.abs(S.getSignedDistance(e,t,n,r,i,a,o))}}}),C=c.extend({_class:`Project`,_list:`projects`,_reference:`project`,_compactSerialize:!0,initialize:function(e){c.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new oe(null,null,this),this._view=H.create(this,e||U.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(e,t){return a.serialize(this._children,e,!0,t)},_changed:function(e,t){if(e&1){var n=this._view;n&&(n._needsUpdate=!0,!n._requested&&n._autoUpdate&&n.requestUpdate())}var r=this._changes;if(r&&t){var i=this._changesById,a=t._id,o=i[a];o?o.flags|=e:r.push(i[a]={item:t,flags:e})}},clear:function(){for(var e=this._children,t=e.length-1;t>=0;t--)e[t].remove()},isEmpty:function(){return!this._children.length},remove:function e(){return e.base.call(this)?(this._view&&this._view.remove(),!0):!1},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(e){this._currentStyle.set(e)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new E({project:this,insert:!0})},getSymbolDefinitions:function(){var e=[],t={};return this.getItems({class:k,match:function(n){var r=n._definition,i=r._id;return t[i]||(t[i]=!0,e.push(r)),!1}}),e},getSymbols:`getSymbolDefinitions`,getSelectedItems:function(){var e=this._selectionItems,t=[];for(var n in e){var r=e[n],i=r._selection;i&1&&r.isInserted()?t.push(r):i||this._updateSelection(r)}return t},_updateSelection:function(e){var t=e._id,n=this._selectionItems;e._selection?n[t]!==e&&(this._selectionCount++,n[t]=e):n[t]===e&&(this._selectionCount--,delete n[t])},selectAll:function(){for(var e=this._children,t=0,n=e.length;t<n;t++)e[t].setFullySelected(!0)},deselectAll:function(){var e=this._selectionItems;for(var t in e)e[t].setFullySelected(!1)},addLayer:function(e){return this.insertLayer(n,e)},insertLayer:function(e,t){if(t instanceof E){t._remove(!1,!0),a.splice(this._children,[t],e,0),t._setProject(this,!0);var n=t._name;n&&t.setName(n),this._changes&&t._changed(5),this._activeLayer||=t}else t=null;return t},_insertItem:function(e,t,r){return t=this.insertLayer(e,t)||(this._activeLayer||this._insertItem(n,new E(w.NO_INSERT),!0)).insertChild(e,t),r&&t.activate&&t.activate(),t},getItems:function(e){return w._getItems(this,e)},getItem:function(e){return w._getItems(this,e,null,null,!0)[0]||null},importJSON:function(e){this.activate();var t=this._activeLayer;return a.importJSON(e,t&&t.isEmpty()&&t)},removeOn:function(e){var t=this._removeSets;if(t){e===`mouseup`&&(t.mousedrag=null);var n=t[e];if(n){for(var r in n){var i=n[r];for(var a in t){var o=t[a];o&&o!=n&&delete o[i._id]}i.remove()}t[e]=null}}},draw:function(e,t,n){this._updateVersion++,e.save(),t.applyToContext(e);for(var r=this._children,i=new a({offset:new h(0,0),pixelRatio:n,viewMatrix:t.isIdentity()?null:t,matrices:[new x],updateMatrix:!0}),o=0,s=r.length;o<s;o++)r[o].draw(e,i);if(e.restore(),this._selectionCount>0){e.save(),e.strokeWidth=1;var c=this._selectionItems,l=this._scope.settings.handleSize,u=this._updateVersion;for(var d in c)c[d]._drawSelection(e,t,l,c,u);e.restore()}}}),w=a.extend(o,{statics:{extend:function e(t){return t._serializeFields&&=a.set({},this.prototype._serializeFields,t._serializeFields),e.base.apply(this,arguments)},INSERT:{insert:!0},NO_INSERT:{insert:!1}},_class:`Item`,_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:`normal`,_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new x,pivot:null,visible:!0,blendMode:`normal`,opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:[`applyMatrix`]},new function(){var e=[`onMouseDown`,`onMouseUp`,`onMouseDrag`,`onClick`,`onDoubleClick`,`onMouseMove`,`onMouseEnter`,`onMouseLeave`];return a.each(e,function(e){this._events[e]={install:function(e){this.getView()._countItemEvent(e,1)},uninstall:function(e){this.getView()._countItemEvent(e,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:e}})},{initialize:function(){},_initialize:function(e,t){var r=e&&a.isPlainObject(e),i=r&&e.internal===!0,o=this._matrix=new x,s=r&&e.project||G.project,c=G.settings;return this._id=i?null:m.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&c.applyMatrix,t&&o.translate(t),o._owner=this,this._style=new oe(s._currentStyle,this,s),i||r&&e.insert==0||!c.insertItems&&!(r&&e.insert==1)?this._setProject(s):(r&&e.parent||s)._insertItem(n,this,!0),r&&e!==w.NO_INSERT&&e!==w.INSERT&&this.set(e,{internal:!0,insert:!0,project:!0,parent:!0}),r},_serialize:function(e,t){var n={},r=this;function i(i){for(var o in i){var s=r[o];a.equals(s,o===`leading`?i.fontSize*1.2:i[o])||(n[o]=a.serialize(s,e,o!==`data`,t))}}return i(this._serializeFields),this instanceof T||i(this._style._defaults),[this._class,n]},_changed:function(e){var t=this._symbol,r=this._parent||t,i=this._project;e&8&&(this._bounds=this._position=this._decomposed=n),e&16&&(this._globalMatrix=n),r&&e&72&&w._clearBoundsCache(r),e&2&&w._clearBoundsCache(this),i&&i._changed(e,this),t&&t._changed(e)},getId:function(){return this._id},getName:function(){return this._name},setName:function(e){if(this._name&&this._removeNamed(),e===+e+``)throw Error(`Names consisting only of numbers are not supported.`);var t=this._getOwner();if(e&&t){var r=t._children,i=t._namedChildren;(i[e]=i[e]||[]).push(this),e in r||(r[e]=this)}this._name=e||n,this._changed(256)},getStyle:function(){return this._style},setStyle:function(e){this.getStyle().set(e)}},a.each([`locked`,`visible`,`blendMode`,`opacity`,`guide`],function(e){var t=a.capitalize(e),n=`_`+e,r={locked:256,visible:265};this[`get`+t]=function(){return this[n]},this[`set`+t]=function(t){t!=this[n]&&(this[n]=t,this._changed(r[e]||257))}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(e){if(e!==this._selection){this._selection=e;var t=this._project;t&&(t._updateSelection(this),this._changed(257))}},_changeSelection:function(e,t){var n=this._selection;this.setSelection(t?n|e:n&~e)},isSelected:function(){if(this._selectChildren){for(var e=this._children,t=0,n=e.length;t<n;t++)if(e[t].isSelected())return!0}return!!(this._selection&1)},setSelected:function(e){if(this._selectChildren)for(var t=this._children,n=0,r=t.length;n<r;n++)t[n].setSelected(e);this._changeSelection(1,e)},isFullySelected:function(){var e=this._children,t=!!(this._selection&1);if(e&&t){for(var n=0,r=e.length;n<r;n++)if(!e[n].isFullySelected())return!1;return!0}return t},setFullySelected:function(e){var t=this._children;if(t)for(var n=0,r=t.length;n<r;n++)t[n].setFullySelected(e);this._changeSelection(1,e)},isClipMask:function(){return this._clipMask},setClipMask:function(e){this._clipMask!=(e=!!e)&&(this._clipMask=e,e&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(257),this._parent&&this._parent._changed(2048))},getData:function(){return this._data||={},this._data},setData:function(e){this._data=e},getPosition:function(e){var t=e?h:g,n=this._position||=this._getPositionFromBounds();return new t(n.x,n.y,this,`setPosition`)},setPosition:function(){this.translate(h.read(arguments).subtract(this.getPosition(!0)))},_getPositionFromBounds:function(e){return this._pivot?this._matrix._transformPoint(this._pivot):(e||this.getBounds()).getCenter(!0)},getPivot:function(){var e=this._pivot;return e?new g(e.x,e.y,this,`setPivot`):null},setPivot:function(){this._pivot=h.read(arguments,0,{clone:!0,readNull:!0}),this._position=n}},a.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(e,t){this[t]=function(t){return this.getBounds(t,e)}},{beans:!0,getBounds:function(e,t){var n=t||e instanceof x,r=a.set({},n?t:e,this._boundsOptions);(!r.stroke||this.getStrokeScaling())&&(r.cacheItem=this);var i=this._getCachedBounds(n&&e,r).rect;return arguments.length?i:new b(i.x,i.y,i.width,i.height,this,`setBounds`)},setBounds:function(){var e=y.read(arguments),t=this.getBounds(),n=this._matrix,r=new x,i=e.getCenter();r.translate(i),(e.width!=t.width||e.height!=t.height)&&(n.isInvertible()||(n.set(n._backup||new x().translate(n.getTranslation())),t=this.getBounds()),r.scale(t.width===0?0:e.width/t.width,t.height===0?0:e.height/t.height)),i=t.getCenter(),r.translate(-i.x,-i.y),this.transform(r)},_getBounds:function(e,t){var n=this._children;return!n||!n.length?new y:(w._updateBoundsCache(this,t.cacheItem),w._getBounds(n,e,t))},_getBoundsCacheKey:function(e,t){return[e.stroke?1:0,e.handle?1:0,t?1:0].join(``)},_getCachedBounds:function(e,t,n){e&&=e._orNullIfIdentity();var r=t.internal&&!n,i=t.cacheItem,a=r?null:this._matrix._orNullIfIdentity(),o=i&&(!e||e.equals(a))&&this._getBoundsCacheKey(t,r),s=this._bounds;if(w._updateBoundsCache(this._parent||this._symbol,i),o&&s&&o in s){var c=s[o];return{rect:c.rect.clone(),nonscaling:c.nonscaling}}var l=this._getBounds(e||a,t),u=l.rect||l,d=this._style,f=l.nonscaling||d.hasStroke()&&!d.getStrokeScaling();if(o){s||(this._bounds=s={});var c=s[o]={rect:u.clone(),nonscaling:f,internal:r}}return{rect:u,nonscaling:f}},_getStrokeMatrix:function(e,t){var n=this.getStrokeScaling()?null:t&&t.internal?this:this._parent||this._symbol&&this._symbol._item,r=n?n.getViewMatrix().invert():e;return r&&r._shiftless()},statics:{_updateBoundsCache:function(e,t){if(e&&t){var n=t._id,r=e._boundsCache=e._boundsCache||{ids:{},list:[]};r.ids[n]||(r.list.push(t),r.ids[n]=t)}},_clearBoundsCache:function(e){var t=e._boundsCache;if(t){e._bounds=e._position=e._boundsCache=n;for(var r=0,i=t.list,a=i.length;r<a;r++){var o=i[r];o!==e&&(o._bounds=o._position=n,o._boundsCache&&w._clearBoundsCache(o))}}},_getBounds:function(e,t,n){var r=1/0,i=-r,a=r,o=i,s=!1;n||={};for(var c=0,l=e.length;c<l;c++){var u=e[c];if(u._visible&&!u.isEmpty(!0)){var d=u._getCachedBounds(t&&t.appended(u._matrix),n,!0),f=d.rect;r=Math.min(f.x,r),a=Math.min(f.y,a),i=Math.max(f.x+f.width,i),o=Math.max(f.y+f.height,o),d.nonscaling&&(s=!0)}}return{rect:isFinite(r)?new y(r,a,i-r,o-a):new y,nonscaling:s}}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||=this._matrix.decompose()},getRotation:function(){var e=this._decompose();return e?e.rotation:0},setRotation:function(e){var t=this.getRotation();if(t!=null&&e!=null){var n=this._decomposed;this.rotate(e-t),n&&(n.rotation=e,this._decomposed=n)}},getScaling:function(){var e=this._decompose(),t=e&&e.scaling;return new g(t?t.x:1,t?t.y:1,this,`setScaling`)},setScaling:function(){var e=this.getScaling(),t=h.read(arguments,0,{clone:!0,readNull:!0});if(e&&t&&!e.equals(t)){var n=this.getRotation(),r=this._decomposed,i=new x,a=p.isZero;if(a(e.x)||a(e.y))i.translate(r.translation),n&&i.rotate(n),i.scale(t.x,t.y),this._matrix.set(i);else{var o=this.getPosition(!0);i.translate(o),n&&i.rotate(n),i.scale(t.x/e.x,t.y/e.y),n&&i.rotate(-n),i.translate(o.negate()),this.transform(i)}r&&(r.scaling=t,this._decomposed=r)}},getMatrix:function(){return this._matrix},setMatrix:function(){var e=this._matrix;e.set.apply(e,arguments)},getGlobalMatrix:function(e){var t=this._globalMatrix;if(t)for(var n=this._parent,r=[];n;){if(!n._globalMatrix){t=null;for(var i=0,a=r.length;i<a;i++)r[i]._globalMatrix=null;break}r.push(n),n=n._parent}if(!t){t=this._globalMatrix=this._matrix.clone();var n=this._parent;n&&t.prepend(n.getGlobalMatrix(!0))}return e?t:t.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(e){(this._applyMatrix=this._canApplyMatrix&&!!e)&&this.transform(null,!0)},getTransformContent:`#getApplyMatrix`,setTransformContent:`#setApplyMatrix`},{getProject:function(){return this._project},_setProject:function(e,t){if(this._project!==e){this._project&&this._installEvents(!1),this._project=e;for(var n=this._children,r=0,i=n&&n.length;r<i;r++)n[r]._setProject(e);t=!0}t&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function e(t){e.base.call(this,t);for(var n=this._children,r=0,i=n&&n.length;r<i;r++)n[r]._installEvents(t)},getLayer:function(){for(var e=this;e=e._parent;)if(e instanceof E)return e;return null},getParent:function(){return this._parent},setParent:function(e){return e.addChild(this)},_getOwner:`#getParent`,getChildren:function(){return this._children},setChildren:function(e){this.removeChildren(),this.addChildren(e)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var e=this._getOwner();return e&&e._children[this._index+1]||null},getPreviousSibling:function(){var e=this._getOwner();return e&&e._children[this._index-1]||null},getIndex:function(){return this._index},setIndex:function(e){var t=this._parent,r=t&&t._children;r&&t.insertChildren(e in r?e:n,[this])},equals:function(e){return e===this||e&&this._class===e._class&&this._style.equals(e._style)&&this._matrix.equals(e._matrix)&&this._locked===e._locked&&this._visible===e._visible&&this._blendMode===e._blendMode&&this._opacity===e._opacity&&this._clipMask===e._clipMask&&this._guide===e._guide&&this._equals(e)||!1},_equals:function(e){return a.equals(this._children,e._children)},clone:function(e){var t=new this.constructor(w.NO_INSERT),r=this._children,i=a.pick(e?e.insert:n,e===n||e===!0),o=a.pick(e?e.deep:n,!0);r&&t.copyAttributes(this),(!r||o)&&t.copyContent(this),r||t.copyAttributes(this),i&&t.insertAbove(this);var s=this._name,c=this._parent;if(s&&c){for(var r=c._children,l=s,u=1;r[s];)s=l+` `+ u++;s!==l&&t.setName(s)}return t},copyContent:function(e){for(var t=e._children,n=0,r=t&&t.length;n<r;n++)this.addChild(t[n].clone(!1),!0)},copyAttributes:function(e,t){this.setStyle(e._style);for(var n=[`_locked`,`_visible`,`_blendMode`,`_opacity`,`_clipMask`,`_guide`],r=0,i=n.length;r<i;r++){var o=n[r];e.hasOwnProperty(o)&&(this[o]=e[o])}t||this._matrix.set(e._matrix,!0),this.setApplyMatrix(e._applyMatrix),this.setPivot(e._pivot),this.setSelection(e._selection);var s=e._data,c=e._name;this._data=s?a.clone(s):null,c&&this.setName(c)},rasterize:function(e,t){var r,i,o;a.isPlainObject(e)?(r=e.resolution,i=e.insert,o=e.raster):(r=e,i=t),o||=new O(w.NO_INSERT);var s=this.getStrokeBounds(),c=(r||this.getView().getResolution())/72,l=s.getTopLeft().floor(),u=new _(s.getBottomRight().ceil().subtract(l)),d=u.multiply(c);if(o.setSize(d,!0),!d.isZero()){var f=o.getContext(!0),p=new x().scale(c).translate(l.negate());f.save(),p.applyToContext(f),this.draw(f,new a({matrices:[p]})),f.restore()}return o._matrix.set(new x().translate(l.add(u.divide(2))).scale(1/c)),(i===n||i)&&o.insertAbove(this),o},contains:function(){var e=this._matrix;return e.isInvertible()&&!!this._contains(e._inverseTransform(h.read(arguments)))},_contains:function(e){var t=this._children;if(t){for(var n=t.length-1;n>=0;n--)if(t[n].contains(e))return!0;return!1}return e.isInside(this.getInternalBounds())},isInside:function(){return y.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new L.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(e,t){return e instanceof w?this._asPathItem().getIntersections(e._asPathItem(),null,t,!0).length>0:!1}},new function(){function e(){var e=arguments;return this._hitTest(h.read(e),j.getOptions(e))}function t(){var e=arguments,t=h.read(e),n=j.getOptions(e),r=[];return this._hitTest(t,new a({all:r},n)),r}function n(e,t,n,r){var i=this._children;if(i)for(var a=i.length-1;a>=0;a--){var o=i[a],s=o!==r&&o._hitTest(e,t,n);if(s&&!t.all)return s}return null}return C.inject({hitTest:e,hitTestAll:t,_hitTest:n}),{hitTest:e,hitTestAll:t,_hitTestChildren:n}},{_hitTest:function(e,t,n){if(this._locked||!this._visible||this._guide&&!t.guides||this.isEmpty())return null;var r=this._matrix,i=n?n.appended(r):this.getGlobalMatrix().prepend(this.getView()._matrix),o=Math.max(t.tolerance,1e-12),s=t._tolerancePadding=new _(L._getStrokePadding(o,r._shiftless().invert()));if(e=r._inverseTransform(e),!e||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(s.multiply(2))._containsPoint(e))return null;var c=!(t.guides&&!this._guide||t.selected&&!this.isSelected()||t.type&&t.type!==a.hyphenate(this._class)||t.class&&!(this instanceof t.class)),l=t.match,u=this,d,f;function p(e){return e&&l&&!l(e)&&(e=null),e&&t.all&&t.all.push(e),e}function m(t,n){var r=n?d[`get`+n]():u.getPosition();if(e.subtract(r).divide(s).length<=1)return new j(t,u,{name:n?a.hyphenate(n):t,point:r})}var h=t.position,g=t.center,v=t.bounds;if(c&&this._parent&&(h||g||v)){if((g||v)&&(d=this.getInternalBounds()),f=h&&m(`position`)||g&&m(`center`,`Center`),!f&&v)for(var y=[`TopLeft`,`TopRight`,`BottomLeft`,`BottomRight`,`LeftCenter`,`TopCenter`,`RightCenter`,`BottomCenter`],b=0;b<8&&!f;b++)f=m(`bounds`,y[b]);f=p(f)}return f||=this._hitTestChildren(e,t,i)||c&&p(this._hitTestSelf(e,t,i,this.getStrokeScaling()?null:i._shiftless().invert()))||null,f&&f.point&&(f.point=r.transform(f.point)),f},_hitTestSelf:function(e,t){if(t.fill&&this.hasFill()&&this._contains(e))return new j(`fill`,this)},matches:function(e,t){function n(e,t){for(var r in e)if(e.hasOwnProperty(r)){var i=e[r],o=t[r];if(a.isPlainObject(i)&&a.isPlainObject(o)){if(!n(i,o))return!1}else if(!a.equals(i,o))return!1}return!0}var r=typeof e;if(r===`object`){for(var i in e)if(e.hasOwnProperty(i)&&!this.matches(i,e[i]))return!1;return!0}else if(r===`function`)return e(this);else if(e===`match`)return t(this);else{var o=/^(empty|editable)$/.test(e)?this[`is`+a.capitalize(e)]():e===`type`?a.hyphenate(this._class):this[e];if(e===`class`){if(typeof t==`function`)return this instanceof t;o=this._class}if(typeof t==`function`)return!!t(o);if(t){if(t.test)return t.test(o);if(a.isPlainObject(t))return n(t,o)}return a.equals(o,t)}},getItems:function(e){return w._getItems(this,e,this._matrix)},getItem:function(e){return w._getItems(this,e,this._matrix,null,!0)[0]||null},statics:{_getItems:function e(t,n,r,i,o){if(!i){var s=typeof n==`object`&&n,c=s&&s.overlapping,l=s&&s.inside,u=c||l,d=u&&y.read([u]);i={items:[],recursive:s&&s.recursive!==!1,inside:!!l,overlapping:!!c,rect:d,path:c&&new L.Rectangle({rectangle:d,insert:!1})},s&&(n=a.filter({},n,{recursive:!0,inside:!0,overlapping:!0}))}var f=t._children,p=i.items,d=i.rect;r=d&&(r||new x);for(var m=0,h=f&&f.length;m<h;m++){var g=f[m],_=r&&r.appended(g._matrix),v=!0;if(d){var u=g.getBounds(_);if(!d.intersects(u))continue;d.contains(u)||i.overlapping&&(u.contains(d)||i.path.intersects(g,_))||(v=!1)}if(v&&g.matches(n)&&(p.push(g),o)||(i.recursive!==!1&&e(g,n,_,i,o),o&&p.length>0))break}return p}}},{importJSON:function(e){var t=a.importJSON(e,this);return t===this?t:this.addChild(t)},addChild:function(e){return this.insertChild(n,e)},insertChild:function(e,t){var n=t?this.insertChildren(e,[t]):null;return n&&n[0]},addChildren:function(e){return this.insertChildren(this._children.length,e)},insertChildren:function(e,t){var n=this._children;if(n&&t&&t.length>0){t=a.slice(t);for(var r={},i=t.length-1;i>=0;i--){var o=t[i],s=o&&o._id;!o||r[s]?t.splice(i,1):(o._remove(!1,!0),r[s]=!0)}a.splice(n,t,e,0);for(var c=this._project,l=c._changes,i=0,u=t.length;i<u;i++){var o=t[i],d=o._name;o._parent=this,o._setProject(c,!0),d&&o.setName(d),l&&o._changed(5)}this._changed(11)}else t=null;return t},_insertItem:`#insertChild`,_insertAt:function(e,t){var n=e&&e._getOwner(),r=e!==this&&n?this:null;return r&&(r._remove(!1,!0),n._insertItem(e._index+t,r)),r},insertAbove:function(e){return this._insertAt(e,1)},insertBelow:function(e){return this._insertAt(e,0)},sendToBack:function(){var e=this._getOwner();return e?e._insertItem(0,this):null},bringToFront:function(){var e=this._getOwner();return e?e._insertItem(n,this):null},appendTop:`#addChild`,appendBottom:function(e){return this.insertChild(0,e)},moveAbove:`#insertAbove`,moveBelow:`#insertBelow`,addTo:function(e){return e._insertItem(n,this)},copyTo:function(e){return this.clone(!1).addTo(e)},reduce:function(e){var t=this._children;if(t&&t.length===1){var n=t[0].reduce(e);return this._parent?(n.insertAbove(this),this.remove()):n.remove(),n}return this},_removeNamed:function(){var e=this._getOwner();if(e){var t=e._children,n=e._namedChildren,r=this._name,i=n[r],a=i?i.indexOf(this):-1;a!==-1&&(t[r]==this&&delete t[r],i.splice(a,1),i.length?t[r]=i[0]:delete n[r])}},_remove:function(e,t){var n=this._getOwner(),r=this._project,i=this._index;return this._style&&this._style._dispose(),n?(this._name&&this._removeNamed(),i!=null&&(r._activeLayer===this&&(r._activeLayer=this.getNextSibling()||this.getPreviousSibling()),a.splice(n._children,null,i,1)),this._installEvents(!1),e&&r._changes&&this._changed(5),t&&n._changed(11,this),this._parent=null,!0):!1},remove:function(){return this._remove(!0,!0)},replaceWith:function(e){var t=e&&e.insertBelow(this);return t&&this.remove(),t},removeChildren:function(e,t){if(!this._children)return null;e||=0,t=a.pick(t,this._children.length);for(var n=a.splice(this._children,null,e,t-e),r=n.length-1;r>=0;r--)n[r]._remove(!0,!1);return n.length>0&&this._changed(11),n},clear:`#removeChildren`,reverseChildren:function(){if(this._children){this._children.reverse();for(var e=0,t=this._children.length;e<t;e++)this._children[e]._index=e;this._changed(11)}},isEmpty:function(e){var t=this._children,n=t?t.length:0;if(e){for(var r=0;r<n;r++)if(!t[r].isEmpty(e))return!1;return!0}return!n},isEditable:function(){for(var e=this;e;){if(!e._visible||e._locked)return!1;e=e._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(e){function t(e){var t=[];do t.unshift(e);while(e=e._parent);return t}for(var n=t(this),r=t(e),i=0,a=Math.min(n.length,r.length);i<a;i++)if(n[i]!=r[i])return n[i]._index<r[i]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return this._parent?this._parent.isInserted():!1},isAbove:function(e){return this._getOrder(e)===-1},isBelow:function(e){return this._getOrder(e)===1},isParent:function(e){return this._parent===e},isChild:function(e){return e&&e._parent===this},isDescendant:function(e){for(var t=this;t=t._parent;)if(t===e)return!0;return!1},isAncestor:function(e){return e?e.isDescendant(this):!1},isSibling:function(e){return this._parent===e._parent},isGroupedWith:function(e){for(var t=this._parent;t;){if(t._parent&&/^(Group|Layer|CompoundPath)$/.test(t._class)&&e.isDescendant(t))return!0;t=t._parent}return!1}},a.each([`rotate`,`scale`,`shear`,`skew`],function(e){var t=e===`rotate`;this[e]=function(){var n=arguments,r=(t?a:h).read(n),i=h.read(n,0,{readNull:!0});return this.transform(new x()[e](r,i||this.getPosition(!0)))}},{translate:function(){var e=new x;return this.transform(e.translate.apply(e,arguments))},transform:function(e,t,n){var r=this._matrix,i=e&&!e.isIdentity(),a=n&&this._canApplyMatrix||this._applyMatrix&&(i||!r.isIdentity()||t&&this._children);if(!i&&!a)return this;if(i){!e.isInvertible()&&r.isInvertible()&&(r._backup=r.getValues()),r.prepend(e,!0);var o=this._style,s=o.getFillColor(!0),c=o.getStrokeColor(!0);s&&s.transform(e),c&&c.transform(e)}if(a&&=this._transformContent(r,t,n)){var l=this._pivot;l&&r._transformPoint(l,l,!0),r.reset(!0),n&&this._canApplyMatrix&&(this._applyMatrix=!0)}var u=this._bounds,d=this._position;(i||a)&&this._changed(25);var f=i&&u&&e.decompose();if(f&&f.skewing.isZero()&&f.rotation%90==0){for(var p in u){var m=u[p];if(m.nonscaling)delete u[p];else if(a||!m.internal){var h=m.rect;e._transformBounds(h,h)}}this._bounds=u;var g=u[this._getBoundsCacheKey(this._boundsOptions||{})];g&&(this._position=this._getPositionFromBounds(g.rect))}else i&&d&&this._pivot&&(this._position=e._transformPoint(d,d));return this},_transformContent:function(e,t,n){var r=this._children;if(r){for(var i=0,a=r.length;i<a;i++)r[i].transform(e,t,n);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(h.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(h.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(h.read(arguments))},localToParent:function(){return this._matrix._transformPoint(h.read(arguments))},fitBounds:function(e,t){e=y.read(arguments);var n=this.getBounds(),r=n.height/n.width,i=e.height/e.width,a=(t?r>i:r<i)?e.width/n.width:e.height/n.height,o=new y(new h,new _(n.width*a,n.height*a));o.setCenter(e.getCenter()),this.setBounds(o)}}),{_setStyles:function(e,t,n){var r=this._style,i=this._matrix;if(r.hasFill()&&(e.fillStyle=r.getFillColor().toCanvasStyle(e,i)),r.hasStroke()){e.strokeStyle=r.getStrokeColor().toCanvasStyle(e,i),e.lineWidth=r.getStrokeWidth();var a=r.getStrokeJoin(),o=r.getStrokeCap(),s=r.getMiterLimit();if(a&&(e.lineJoin=a),o&&(e.lineCap=o),s&&(e.miterLimit=s),G.support.nativeDash){var c=r.getDashArray(),l=r.getDashOffset();c&&c.length&&(`setLineDash`in e?(e.setLineDash(c),e.lineDashOffset=l):(e.mozDash=c,e.mozDashOffset=l))}}if(r.hasShadow()){var u=t.pixelRatio||1,d=n._shiftless().prepend(new x().scale(u,u)),f=d.transform(new h(r.getShadowBlur(),0)),p=d.transform(this.getShadowOffset());e.shadowColor=r.getShadowColor().toCanvasStyle(e),e.shadowBlur=f.getLength(),e.shadowOffsetX=p.x,e.shadowOffsetY=p.y}},draw:function(e,t,n){if(this._updateVersion=this._project._updateVersion,!(!this._visible||this._opacity===0)){var r=t.matrices,i=t.viewMatrix,a=this._matrix,o=r[r.length-1].appended(a);if(o.isInvertible()){i=i?i.appended(o):o,r.push(o),t.updateMatrix&&(this._globalMatrix=o);var s=this._blendMode,c=p.clamp(this._opacity,0,1),l=s===`normal`,u=ge.nativeModes[s],d=l&&c===1||t.dontStart||t.clip||(u||l&&c<1)&&this._canComposite(),f=t.pixelRatio||1,m,h,g;if(!d){var _=this.getStrokeBounds(i);if(!_.width||!_.height){r.pop();return}g=t.offset,h=t.offset=_.getTopLeft().floor(),m=e,e=U.getContext(_.getSize().ceil().add(1).multiply(f)),f!==1&&e.scale(f,f)}e.save();var v=n?n.appended(a):this._canScaleStroke&&!this.getStrokeScaling(!0)&&i,y=!d&&t.clipItem,b=!v||y;if(d?(e.globalAlpha=c,u&&(e.globalCompositeOperation=s)):b&&e.translate(-h.x,-h.y),b&&(d?a:i).applyToContext(e),y&&t.clipItem.draw(e,t.extend({clip:!0})),v){e.setTransform(f,0,0,f,0,0);var x=t.offset;x&&e.translate(-x.x,-x.y)}this._draw(e,t,i,v),e.restore(),r.pop(),t.clip&&!t.dontFinish&&e.clip(this.getFillRule()),d||(ge.process(s,e,m,c,h.subtract(g).multiply(f)),U.release(e),t.offset=g)}}},_isUpdated:function(e){var t=this._parent;if(t instanceof R)return t._isUpdated(e);var n=this._updateVersion===e;return!n&&t&&t._visible&&t._isUpdated(e)&&(this._updateVersion=e,n=!0),n},_drawSelection:function(e,t,n,r,i){var a=this._selection,o=a&1,s=a&2||o&&this._selectBounds,c=a&4;if(this._drawSelected||(o=!1),(o||s||c)&&this._isUpdated(i)){var l,u=this.getSelectedColor(!0)||(l=this.getLayer())&&l.getSelectedColor(!0),d=t.appended(this.getGlobalMatrix(!0)),f=n/2;if(e.strokeStyle=e.fillStyle=u?u.toCanvasStyle(e):`#009dec`,o&&this._drawSelected(e,d,r),c){var p=this.getPosition(!0),m=this._parent,h=m?m.localToGlobal(p):p,g=h.x,_=h.y;e.beginPath(),e.arc(g,_,f,0,Math.PI*2,!0),e.stroke();for(var v=[[0,-1],[1,0],[0,1],[-1,0]],y=f,b=n+1,x=0;x<4;x++){var S=v[x],C=S[0],w=S[1];e.moveTo(g+C*y,_+w*y),e.lineTo(g+C*b,_+w*b),e.stroke()}}if(s){var T=d._transformCorners(this.getInternalBounds());e.beginPath();for(var x=0;x<8;x++)e[x?`lineTo`:`moveTo`](T[x],T[++x]);e.closePath(),e.stroke();for(var x=0;x<8;x++)e.fillRect(T[x]-f,T[++x]-f,n,n)}}},_canComposite:function(){return!1}},a.each([`down`,`drag`,`up`,`move`],function(e){this[`removeOn`+a.capitalize(e)]=function(){var t={};return t[e]=!0,this.removeOn(t)}},{removeOn:function(e){for(var t in e)if(e[t]){var n=`mouse`+t,r=this._project,i=r._removeSets=r._removeSets||{};i[n]=i[n]||{},i[n][this._id]=this}return this}}),{tween:function(e,t,n){n||(n=t,t=e,e=null,n||(n=t,t=null));var r=n&&n.easing,i=n&&n.start,a=n!=null&&(typeof n==`number`?n:n.duration),o=new me(this,e,t,a,r,i);function s(e){o._handleFrame(e.time*1e3),o.running||this.off(`frame`,s)}return a&&this.on(`frame`,s),o},tweenTo:function(e,t){return this.tween(null,e,t)},tweenFrom:function(e,t){return this.tween(e,null,t)}}),T=w.extend({_class:`Group`,_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function(e){this._children=[],this._namedChildren={},this._initialize(e)||this.addChildren(Array.isArray(e)?e:arguments)},_changed:function e(t){e.base.call(this,t),t&2050&&(this._clipItem=n)},_getClipItem:function(){var e=this._clipItem;if(e===n){e=null;for(var t=this._children,r=0,i=t.length;r<i;r++)if(t[r]._clipMask){e=t[r];break}this._clipItem=e}return e},isClipped:function(){return!!this._getClipItem()},setClipped:function(e){var t=this.getFirstChild();t&&t.setClipMask(e)},_getBounds:function e(t,n){var r=this._getClipItem();return r?r._getCachedBounds(r._matrix.prepended(t),a.set({},n,{stroke:!1})):e.base.call(this,t,n)},_hitTestChildren:function e(t,n,r){var i=this._getClipItem();return(!i||i.contains(t))&&e.base.call(this,t,n,r,i)},_draw:function(e,t){var n=t.clip,r=!n&&this._getClipItem();t=t.extend({clipItem:r,clip:!1}),n?(e.beginPath(),t.dontStart=t.dontFinish=!0):r&&r.draw(e,t.extend({clip:!0}));for(var i=this._children,a=0,o=i.length;a<o;a++){var s=i[a];s!==r&&s.draw(e,t)}}}),E=T.extend({_class:`Layer`,initialize:function(){T.apply(this,arguments)},_getOwner:function(){return this._parent||this._index!=null&&this._project},isInserted:function e(){return this._parent?e.base.call(this):this._index!=null},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),D=w.extend({_class:`Shape`,_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(e,t){this._initialize(e,t)},_equals:function(e){return this._type===e._type&&this._size.equals(e._size)&&a.equals(this._radius,e._radius)},copyContent:function(e){this.setType(e._type),this.setSize(e._size),this.setRadius(e._radius)},getType:function(){return this._type},setType:function(e){this._type=e},getShape:`#getType`,setShape:`#setType`,getSize:function(){var e=this._size;return new v(e.width,e.height,this,`setSize`)},setSize:function(){var e=_.read(arguments);if(!this._size)this._size=e.clone();else if(!this._size.equals(e)){var t=this._type,n=e.width,r=e.height;t===`rectangle`?this._radius.set(_.min(this._radius,e.divide(2).abs())):t===`circle`?(n=r=(n+r)/2,this._radius=n/2):t===`ellipse`&&this._radius._set(n/2,r/2),this._size._set(n,r),this._changed(9)}},getRadius:function(){var e=this._radius;return this._type===`circle`?e:new v(e.width,e.height,this,`setRadius`)},setRadius:function(e){var t=this._type;if(t===`circle`){if(e===this._radius)return;var n=e*2;this._radius=e,this._size._set(n,n)}else if(e=_.read(arguments),!this._radius)this._radius=e.clone();else{if(this._radius.equals(e))return;if(this._radius.set(e),t===`rectangle`){var n=_.max(this._size,e.multiply(2));this._size.set(n)}else t===`ellipse`&&this._size._set(e.width*2,e.height*2)}this._changed(9)},isEmpty:function(){return!1},toPath:function(e){var t=new L[a.capitalize(this._type)]({center:new h,size:this._size,radius:this._radius,insert:!1});return t.copyAttributes(this),G.settings.applyMatrix&&t.setApplyMatrix(!0),(e===n||e)&&t.insertAbove(this),t},toShape:`#clone`,_asPathItem:function(){return this.toPath(!1)},_draw:function(e,t,n,r){var i=this._style,a=i.hasFill(),o=i.hasStroke(),s=t.dontFinish||t.clip,c=!r;if(a||o||s){var l=this._type,u=this._radius,d=l===`circle`;if(t.dontStart||e.beginPath(),c&&d)e.arc(0,0,u,0,Math.PI*2,!0);else{var f=d?u:u.width,p=d?u:u.height,m=this._size,h=m.width,g=m.height;if(c&&l===`rectangle`&&f===0&&p===0)e.rect(-h/2,-g/2,h,g);else{var _=h/2,v=g/2,y=.44771525016920644,b=f*y,x=p*y,S=[-_,-v+p,-_,-v+x,-_+b,-v,-_+f,-v,_-f,-v,_-b,-v,_,-v+x,_,-v+p,_,v-p,_,v-x,_-b,v,_-f,v,-_+f,v,-_+b,v,-_,v-x,-_,v-p];r&&r.transform(S,S,32),e.moveTo(S[0],S[1]),e.bezierCurveTo(S[2],S[3],S[4],S[5],S[6],S[7]),_!==f&&e.lineTo(S[8],S[9]),e.bezierCurveTo(S[10],S[11],S[12],S[13],S[14],S[15]),v!==p&&e.lineTo(S[16],S[17]),e.bezierCurveTo(S[18],S[19],S[20],S[21],S[22],S[23]),_!==f&&e.lineTo(S[24],S[25]),e.bezierCurveTo(S[26],S[27],S[28],S[29],S[30],S[31])}}e.closePath()}!s&&(a||o)&&(this._setStyles(e,t,n),a&&(e.fill(i.getFillRule()),e.shadowColor=`rgba(0,0,0,0)`),o&&e.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(e,t){var n=new y(this._size).setCenter(0,0),r=this._style,i=t.stroke&&r.hasStroke()&&r.getStrokeWidth();return e&&(n=e._transformBounds(n)),i?n.expand(L._getStrokePadding(i,this._getStrokeMatrix(e,t))):n}},new function(){function e(e,t,n){var r=e._radius;if(!r.isZero())for(var i=e._size.divide(2),a=1;a<=4;a++){var o=new h(a>1&&a<4?-1:1,a>2?-1:1),s=o.multiply(i),c=s.subtract(o.multiply(r));if(new y(n?s.add(o.multiply(n)):s,c).contains(t))return{point:c,quadrant:a}}}function t(e,t,n,r){var i=e.divide(t);return(!r||i.isInQuadrant(r))&&i.subtract(i.normalize()).multiply(t).divide(n).length<=1}return{_contains:function t(n){if(this._type===`rectangle`){var r=e(this,n);return r?n.subtract(r.point).divide(this._radius).getLength()<=1:t.base.call(this,n)}else return n.divide(this.size).getLength()<=.5},_hitTestSelf:function n(r,i,a,o){var s=!1,c=this._style,l=i.stroke&&c.hasStroke(),u=i.fill&&c.hasFill();if(l||u){var d=this._type,f=this._radius,p=l?c.getStrokeWidth()/2:0,m=i._tolerancePadding.add(L._getStrokePadding(p,!c.getStrokeScaling()&&o));if(d===`rectangle`){var h=m.multiply(2),g=e(this,r,h);if(g)s=t(r.subtract(g.point),f,m,g.quadrant);else{var _=new y(this._size).setCenter(0,0),v=_.expand(h),b=_.expand(h.negate());s=v._containsPoint(r)&&!b._containsPoint(r)}}else s=t(r,f,m)}return s?new j(l?`stroke`:`fill`,this):n.base.apply(this,arguments)}}},{statics:new function(){function e(e,t,n,r,i){var o=a.create(D.prototype);return o._type=e,o._size=n,o._radius=r,o._initialize(a.getNamed(i),t),o}return{Circle:function(){var t=arguments,n=h.readNamed(t,`center`),r=a.readNamed(t,`radius`);return e(`circle`,n,new _(r*2),r,t)},Rectangle:function(){var t=arguments,n=y.readNamed(t,`rectangle`),r=_.min(_.readNamed(t,`radius`),n.getSize(!0).divide(2));return e(`rectangle`,n.getCenter(!0),n.getSize(!0),r,t)},Ellipse:function(){var t=arguments,n=D._readEllipse(t),r=n.radius;return e(`ellipse`,n.center,r.multiply(2),r,t)},_readEllipse:function(e){var t,n;if(a.hasNamed(e,`radius`))t=h.readNamed(e,`center`),n=_.readNamed(e,`radius`);else{var r=y.readNamed(e,`rectangle`);t=r.getCenter(!0),n=r.getSize(!0).divide(2)}return{center:t,radius:n}}}}}),O=w.extend({_class:`Raster`,_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:[`crossOrigin`],_smoothing:`low`,beans:!0,initialize:function(e,t){if(!this._initialize(e,t!==n&&h.read(arguments))){var r,a=typeof e,o=a===`string`?i.getElementById(e):a===`object`?e:null;if(o&&o!==w.NO_INSERT){if(o.getContext||o.naturalHeight!=null)r=o;else if(o){var s=_.read(arguments);s.isZero()||(r=U.getCanvas(s))}}r?this.setImage(r):this.setSource(e)}this._size||(this._size=new _,this._loaded=!1)},_equals:function(e){return this.getSource()===e.getSource()},copyContent:function(e){var t=e._image,n=e._canvas;if(t)this._setImage(t);else if(n){var r=U.getCanvas(e._size);r.getContext(`2d`).drawImage(n,0,0),this._setImage(r)}this._crossOrigin=e._crossOrigin},getSize:function(){var e=this._size;return new v(e?e.width:0,e?e.height:0,this,`setSize`)},setSize:function(e,t){var n=_.read(arguments);if(n.equals(this._size))t&&this.clear();else if(n.width>0&&n.height>0){var r=!t&&this.getElement();this._setImage(U.getCanvas(n)),r&&this.getContext(!0).drawImage(r,0,0,n.width,n.height)}else this._canvas&&U.release(this._canvas),this._size=n.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(e){this.setSize(e,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(e){this.setSize(this.getWidth(),e)},getLoaded:function(){return this._loaded},isEmpty:function(){var e=this._size;return!e||e.width===0&&e.height===0},getResolution:function(){var e=this._matrix,t=new h(0,0).transform(e),n=new h(1,0).transform(e).subtract(t),r=new h(0,1).transform(e).subtract(t);return new _(72/n.getLength(),72/r.getLength())},getPpi:`#getResolution`,getImage:function(){return this._image},setImage:function(e){var t=this;function n(e){var n=t.getView(),r=e&&e.type||`load`;n&&t.responds(r)&&(G=n._scope,t.emit(r,new ce(e)))}this._setImage(e),this._loaded?setTimeout(n,0):e&&V.add(e,{load:function(r){t._setImage(e),n(r)},error:n})},_setImage:function(e){this._canvas&&U.release(this._canvas),e&&e.getContext?(this._image=null,this._canvas=e,this._loaded=!0):(this._image=e,this._canvas=null,this._loaded=!!(e&&e.src&&e.complete)),this._size=new _(e?e.naturalWidth||e.width:0,e?e.naturalHeight||e.height:0),this._context=null,this._changed(1033)},getCanvas:function(){if(!this._canvas){var e=U.getContext(this._size);try{this._image&&e.drawImage(this._image,0,0),this._canvas=e.canvas}catch{U.release(e)}}return this._canvas},setCanvas:`#setImage`,getContext:function(e){return this._context||=this.getCanvas().getContext(`2d`),e&&(this._image=null,this._changed(1025)),this._context},setContext:function(e){this._context=e},getSource:function(){var e=this._image;return e&&e.src||this.toDataURL()},setSource:function(t){var n=new e.Image,r=this._crossOrigin;r&&(n.crossOrigin=r),t&&(n.src=t),this.setImage(n)},getCrossOrigin:function(){var e=this._image;return e&&e.crossOrigin||this._crossOrigin||``},setCrossOrigin:function(e){this._crossOrigin=e;var t=this._image;t&&(t.crossOrigin=e)},getSmoothing:function(){return this._smoothing},setSmoothing:function(e){this._smoothing=typeof e==`string`?e:e?`low`:`off`,this._changed(257)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var e=y.read(arguments),t=U.getContext(e.getSize());return t.drawImage(this.getCanvas(),e.x,e.y,e.width,e.height,0,0,e.width,e.height),t.canvas},getSubRaster:function(){var e=y.read(arguments),t=new O(w.NO_INSERT);return t._setImage(this.getSubCanvas(e)),t.translate(e.getCenter().subtract(this.getSize().divide(2))),t._matrix.prepend(this._matrix),t.insertAbove(this),t},toDataURL:function(){var e=this._image,t=e&&e.src;if(/^data:/.test(t))return t;var n=this.getCanvas();return n?n.toDataURL.apply(n,arguments):null},drawImage:function(e){var t=h.read(arguments,1);this.getContext(!0).drawImage(e,t.x,t.y)},getAverageColor:function(e){var t,n;if(e?e instanceof I?(n=e,t=e.getBounds()):typeof e==`object`&&(`width`in e?t=new y(e):`x`in e&&(t=new y(e.x-.5,e.y-.5,1,1))):t=this.getBounds(),!t)return null;var r=32,i=Math.min(t.width,r),o=Math.min(t.height,r),s=O._sampleContext;s?s.clearRect(0,0,r+1,r+1):s=O._sampleContext=U.getContext(new _(r)),s.save();var c=new x().scale(i/t.width,o/t.height).translate(-t.x,-t.y);c.applyToContext(s),n&&n.draw(s,new a({clip:!0,matrices:[c]})),this._matrix.applyToContext(s);var l=this.getElement(),u=this._size;l&&s.drawImage(l,-u.width/2,-u.height/2),s.restore();for(var d=s.getImageData(.5,.5,Math.ceil(i),Math.ceil(o)).data,f=[0,0,0],p=0,m=0,h=d.length;m<h;m+=4){var g=d[m+3];p+=g,g/=255,f[0]+=d[m]*g,f[1]+=d[m+1]*g,f[2]+=d[m+2]*g}for(var m=0;m<3;m++)f[m]/=p;return p?z.read(f):null},getPixel:function(){var e=h.read(arguments),t=this.getContext().getImageData(e.x,e.y,1,1).data;return new z(`rgb`,[t[0]/255,t[1]/255,t[2]/255],t[3]/255)},setPixel:function(){var e=arguments,t=h.read(e),n=z.read(e),r=n._convert(`rgb`),i=n._alpha,a=this.getContext(!0),o=a.createImageData(1,1),s=o.data;s[0]=r[0]*255,s[1]=r[1]*255,s[2]=r[2]*255,s[3]=i==null?255:i*255,a.putImageData(o,t.x,t.y)},clear:function(){var e=this._size;this.getContext(!0).clearRect(0,0,e.width+1,e.height+1)},createImageData:function(){var e=_.read(arguments);return this.getContext().createImageData(e.width,e.height)},getImageData:function(){var e=y.read(arguments);return e.isEmpty()&&(e=new y(this._size)),this.getContext().getImageData(e.x,e.y,e.width,e.height)},putImageData:function(e){var t=h.read(arguments,1);this.getContext(!0).putImageData(e,t.x,t.y)},setImageData:function(e){this.setSize(e),this.getContext(!0).putImageData(e,0,0)},_getBounds:function(e,t){var n=new y(this._size).setCenter(0,0);return e?e._transformBounds(n):n},_hitTestSelf:function(e){if(this._contains(e)){var t=this;return new j(`pixel`,t,{offset:e.add(t._size.divide(2)).round(),color:{get:function(){return t.getPixel(this.offset)}}})}},_draw:function(e,t,n){var r=this.getElement();if(r&&r.width>0&&r.height>0){e.globalAlpha=p.clamp(this._opacity,0,1),this._setStyles(e,t,n);var i=this._smoothing,a=i===`off`;B.setPrefixed(e,a?`imageSmoothingEnabled`:`imageSmoothingQuality`,a?!1:i),e.drawImage(r,-this._size.width/2,-this._size.height/2)}},_canComposite:function(){return!0}}),k=w.extend({_class:`SymbolItem`,_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function(e,t){this._initialize(e,t!==n&&h.read(arguments,1))||this.setDefinition(e instanceof A?e:new A(e))},_equals:function(e){return this._definition===e._definition},copyContent:function(e){this.setDefinition(e._definition)},getDefinition:function(){return this._definition},setDefinition:function(e){this._definition=e,this._changed(9)},getSymbol:`#getDefinition`,setSymbol:`#setDefinition`,isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(e,t){var n=this._definition._item;return n._getCachedBounds(n._matrix.prepended(e),t)},_hitTestSelf:function(e,t,n){var r=t.extend({all:!1}),i=this._definition._item._hitTest(e,r,n);return i&&(i.item=this),i},_draw:function(e,t){this._definition._item.draw(e,t)}}),A=a.extend({_class:`SymbolDefinition`,initialize:function(e,t){this._id=m.get(),this.project=G.project,e&&this.setItem(e,t)},_serialize:function(e,t){return t.add(this,function(){return a.serialize([this._class,this._item],e,!1,t)})},_changed:function(e){e&8&&w._clearBoundsCache(this),e&1&&this.project._changed(e)},getItem:function(){return this._item},setItem:function(e,t){e._symbol&&(e=e.clone()),this._item&&(this._item._symbol=null),this._item=e,e.remove(),e.setSelected(!1),t||e.setPosition(new h),e._symbol=this,this._changed(9)},getDefinition:`#getItem`,setDefinition:`#setItem`,place:function(e){return new k(this,e)},clone:function(){return new A(this._item.clone(!1))},equals:function(e){return e===this||e&&this._item.equals(e._item)||!1}}),j=a.extend({_class:`HitResult`,initialize:function(e,t,n){this.type=e,this.item=t,n&&this.inject(n)},statics:{getOptions:function(e){var t=e&&a.read(e);return new a({type:null,tolerance:G.settings.hitTolerance,fill:!t,stroke:!t,segments:!t,handles:!1,ends:!1,position:!1,center:!1,bounds:!1,guides:!1,selected:!1},t)}}}),M=a.extend({_class:`Segment`,beans:!0,_selection:0,initialize:function(e,t,r,i,a,o){var s=arguments.length,c,l,u,d;s>0&&(e==null||typeof e==`object`?s===1&&e&&`point`in e?(c=e.point,l=e.handleIn,u=e.handleOut,d=e.selection):(c=e,l=t,u=r,d=i):(c=[e,t],l=r===n?null:[r,i],u=a===n?null:[a,o])),new N(c,this,`_point`),new N(l,this,`_handleIn`),new N(u,this,`_handleOut`),d&&this.setSelection(d)},_serialize:function(e,t){var n=this._point,r=this._selection,i=r||this.hasHandles()?[n,this._handleIn,this._handleOut]:n;return r&&i.push(r),a.serialize(i,e,!0,t)},_changed:function(e){var t=this._path;if(t){var n=t._curves,r=this._index,i;n&&((!e||e===this._point||e===this._handleIn)&&(i=r>0?n[r-1]:t._closed?n[n.length-1]:null)&&i._changed(),(!e||e===this._point||e===this._handleOut)&&(i=n[r])&&i._changed()),t._changed(41)}},getPoint:function(){return this._point},setPoint:function(){this._point.set(h.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(h.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(h.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var e=this._handleIn,t=this._handleOut;return!e.isZero()&&!t.isZero()&&e.isCollinear(t)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(e){var t=this._selection,n=this._path;this._selection=e||=0,n&&e!==t&&(n._updateSelection(this,t,e),n._changed(257))},_changeSelection:function(e,t){var n=this._selection;this.setSelection(t?n|e:n&~e)},isSelected:function(){return!!(this._selection&7)},setSelected:function(e){this._changeSelection(7,e)},getIndex:function(){return this._index===n?null:this._index},getPath:function(){return this._path||null},getCurve:function(){var e=this._path,t=this._index;return e?(t>0&&!e._closed&&t===e._segments.length-1&&t--,e.getCurves()[t]||null):null},getLocation:function(){var e=this.getCurve();return e?new F(e,this===e._segment1?0:1):null},getNext:function(){var e=this._path&&this._path._segments;return e&&(e[this._index+1]||this._path._closed&&e[0])||null},smooth:function(e,t,r){var i=e||{},a=i.type,o=i.factor,s=this.getPrevious(),c=this.getNext(),l=(s||this)._point,u=this._point,d=(c||this)._point,f=l.getDistance(u),p=u.getDistance(d);if(!a||a===`catmull-rom`){var m=o===n?.5:o,g=f**+m,_=g*g,v=p**+m,y=v*v;if(!t&&s){var b=2*y+3*v*g+_,x=3*v*(v+g);this.setHandleIn(x===0?new h:new h((y*l._x+b*u._x-_*d._x)/x-u._x,(y*l._y+b*u._y-_*d._y)/x-u._y))}if(!r&&c){var b=2*_+3*g*v+y,x=3*g*(g+v);this.setHandleOut(x===0?new h:new h((_*d._x+b*u._x-y*l._x)/x-u._x,(_*d._y+b*u._y-y*l._y)/x-u._y))}}else if(a===`geometric`){if(s&&c){var S=l.subtract(d),C=o===n?.4:o,w=C*f/(f+p);t||this.setHandleIn(S.multiply(w)),r||this.setHandleOut(S.multiply(w-C))}}else throw Error(`Smoothing method '`+a+`' not supported.`)},getPrevious:function(){var e=this._path&&this._path._segments;return e&&(e[this._index-1]||this._path._closed&&e[e.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var e=this._path;return e&&this._index===e._segments.length-1||!1},reverse:function(){var e=this._handleIn,t=this._handleOut,n=e.clone();e.set(t),t.set(n)},reversed:function(){return new M(this._point,this._handleOut,this._handleIn)},remove:function(){return this._path?!!this._path.removeSegment(this._index):!1},clone:function(){return new M(this._point,this._handleIn,this._handleOut)},equals:function(e){return e===this||e&&this._class===e._class&&this._point.equals(e._point)&&this._handleIn.equals(e._handleIn)&&this._handleOut.equals(e._handleOut)||!1},toString:function(){var e=[`point: `+this._point];return this._handleIn.isZero()||e.push(`handleIn: `+this._handleIn),this._handleOut.isZero()||e.push(`handleOut: `+this._handleOut),`{ `+e.join(`, `)+` }`},transform:function(e){this._transformCoordinates(e,[,,,,,,],!0),this._changed()},interpolate:function(e,t,n){var r=1-n,i=n,a=e._point,o=t._point,s=e._handleIn,c=t._handleIn,l=t._handleOut,u=e._handleOut;this._point._set(r*a._x+i*o._x,r*a._y+i*o._y,!0),this._handleIn._set(r*s._x+i*c._x,r*s._y+i*c._y,!0),this._handleOut._set(r*u._x+i*l._x,r*u._y+i*l._y,!0),this._changed()},_transformCoordinates:function(e,t,n){var r=this._point,i=!n||!this._handleIn.isZero()?this._handleIn:null,a=!n||!this._handleOut.isZero()?this._handleOut:null,o=r._x,s=r._y,c=2;return t[0]=o,t[1]=s,i&&(t[c++]=i._x+o,t[c++]=i._y+s),a&&(t[c++]=a._x+o,t[c++]=a._y+s),e&&(e._transformCoordinates(t,t,c/2),o=t[0],s=t[1],n?(r._x=o,r._y=s,c=2,i&&(i._x=t[c++]-o,i._y=t[c++]-s),a&&(a._x=t[c++]-o,a._y=t[c++]-s)):(i||(t[c++]=o,t[c++]=s),a||(t[c++]=o,t[c++]=s))),t}}),N=h.extend({initialize:function(e,t,r){var i,a,o;if(!e)i=a=0;else if((i=e[0])!==n)a=e[1];else{var s=e;(i=s.x)===n&&(s=h.read(arguments),i=s.x),a=s.y,o=s.selected}this._x=i,this._y=a,this._owner=t,t[r]=this,o&&this.setSelected(!0)},_set:function(e,t){return this._x=e,this._y=t,this._owner._changed(this),this},getX:function(){return this._x},setX:function(e){this._x=e,this._owner._changed(this)},getY:function(){return this._y},setY:function(e){this._y=e,this._owner._changed(this)},isZero:function(){var e=p.isZero;return e(this._x)&&e(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(e){this._owner._changeSelection(this._getSelection(),e)},_getSelection:function(){var e=this._owner;return this===e._point?1:this===e._handleIn?2:this===e._handleOut?4:0}}),P=a.extend({_class:`Curve`,beans:!0,initialize:function(e,t,n,r,i,a,o,s){var c=arguments.length,l,u,d,f,p,m;c===3?(this._path=e,l=t,u=n):c?c===1?`segment1`in e?(l=new M(e.segment1),u=new M(e.segment2)):`point1`in e?(d=e.point1,p=e.handle1,m=e.handle2,f=e.point2):Array.isArray(e)&&(d=[e[0],e[1]],f=[e[6],e[7]],p=[e[2]-e[0],e[3]-e[1]],m=[e[4]-e[6],e[5]-e[7]]):c===2?(l=new M(e),u=new M(t)):c===4?(d=e,p=t,m=n,f=r):c===8&&(d=[e,t],f=[o,s],p=[n-e,r-t],m=[i-o,a-s]):(l=new M,u=new M),this._segment1=l||new M(d,null,p),this._segment2=u||new M(f,m,null)},_serialize:function(e,t){return a.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],e,!0,t)},_changed:function(){this._length=this._bounds=n},clone:function(){return new P(this._segment1,this._segment2)},toString:function(){var e=[`point1: `+this._segment1._point];return this._segment1._handleOut.isZero()||e.push(`handle1: `+this._segment1._handleOut),this._segment2._handleIn.isZero()||e.push(`handle2: `+this._segment2._handleIn),e.push(`point2: `+this._segment2._point),`{ `+e.join(`, `)+` }`},classify:function(){return P.classify(this.getValues())},remove:function(){var e=!1;if(this._path){var t=this._segment2,n=t._handleOut;e=t.remove(),e&&this._segment1._handleOut.set(n)}return e},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(h.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(h.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(h.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(h.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var e=this._path&&this._path._curves;return e&&(e[this._segment1._index+1]||this._path._closed&&e[0])||null},getPrevious:function(){var e=this._path&&this._path._curves;return e&&(e[this._segment1._index-1]||this._path._closed&&e[e.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var e=this._path;return e&&this._segment1._index===e._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle1().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(e){this.getPoint1().setSelected(e),this.getHandle1().setSelected(e),this.getHandle2().setSelected(e),this.getPoint2().setSelected(e)},getValues:function(e){return P.getValues(this._segment1,this._segment2,e)},getPoints:function(){for(var e=this.getValues(),t=[],n=0;n<8;n+=2)t.push(new h(e[n],e[n+1]));return t}},{getLength:function(){return this._length??=P.getLength(this.getValues(),0,1),this._length},getArea:function(){return P.getArea(this.getValues())},getLine:function(){return new S(this._segment1._point,this._segment2._point)},getPart:function(e,t){return new P(P.getPart(this.getValues(),e,t))},getPartLength:function(e,t){return P.getLength(this.getValues(),e,t)},divideAt:function(e){return this.divideAtTime(e&&e.curve===this?e.time:this.getTimeAt(e))},divideAtTime:function(e,t){var n=1e-8,r=1-n,i=null;if(e>=n&&e<=r){var a=P.subdivide(this.getValues(),e),o=a[0],s=a[1],c=t||this.hasHandles(),l=this._segment1,u=this._segment2,d=this._path;c&&(l._handleOut._set(o[2]-o[0],o[3]-o[1]),u._handleIn._set(s[4]-s[6],s[5]-s[7]));var f=o[6],p=o[7],m=new M(new h(f,p),c&&new h(o[4]-f,o[5]-p),c&&new h(s[2]-f,s[3]-p));d?(d.insert(l._index+1,m),i=this.getNext()):(this._segment2=m,this._changed(),i=new P(m,u))}return i},splitAt:function(e){var t=this._path;return t?t.splitAt(e):null},splitAtTime:function(e){return this.splitAt(this.getLocationAtTime(e))},divide:function(e,t){return this.divideAtTime(e===n?.5:t?e:this.getTimeAt(e))},split:function(e,t){return this.splitAtTime(e===n?.5:t?e:this.getTimeAt(e))},reversed:function(){return new P(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(e,t,n,r){var i=e._point,a=e._handleOut,o=t._handleIn,s=t._point,c=i.x,l=i.y,u=s.x,d=s.y,f=r?[c,l,c,l,u,d,u,d]:[c,l,c+a._x,l+a._y,u+o._x,d+o._y,u,d];return n&&n._transformCoordinates(f,f,4),f},subdivide:function(e,t){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],c=e[5],l=e[6],u=e[7];t===n&&(t=.5);var d=1-t,f=d*r+t*a,p=d*i+t*o,m=d*a+t*s,h=d*o+t*c,g=d*s+t*l,_=d*c+t*u,v=d*f+t*m,y=d*p+t*h,b=d*m+t*g,x=d*h+t*_,S=d*v+t*b,C=d*y+t*x;return[[r,i,f,p,v,y,S,C],[S,C,b,x,g,_,l,u]]},getMonoCurves:function(e,t){var n=[],r=t?0:1,i=e[r+0],a=e[r+2],o=e[r+4],s=e[r+6];if(i>=a==a>=o&&a>=o==o>=s||P.isStraight(e))n.push(e);else{var c=3*(a-o)-i+s,l=2*(i+o)-4*a,u=a-i,d=1e-8,f=1-d,m=[],h=p.solveQuadratic(c,l,u,m,d,f);if(!h)n.push(e);else{m.sort();var g=m[0],_=P.subdivide(e,g);n.push(_[0]),h>1&&(g=(m[1]-g)/(1-g),_=P.subdivide(_[1],g),n.push(_[0])),n.push(_[1])}}return n},solveCubic:function(e,t,n,r,i,a){var o=e[t],s=e[t+2],c=e[t+4],l=e[t+6],u=0;if(!(o<n&&l<n&&s<n&&c<n||o>n&&l>n&&s>n&&c>n)){var d=3*(s-o),f=3*(c-s)-d,m=l-o-d-f;u=p.solveCubic(m,f,d,o-n,r,i,a)}return u},getTimeOf:function(e,t){var n=new h(e[0],e[1]),r=new h(e[6],e[7]),i=1e-12,a=1e-7;if((t.isClose(n,i)?0:t.isClose(r,i)?1:null)===null)for(var o=[t.x,t.y],s=[],c=0;c<2;c++)for(var l=P.solveCubic(e,c,o[c],s,0,1),u=0;u<l;u++){var d=s[u];if(t.isClose(P.getPoint(e,d),a))return d}return t.isClose(n,a)?0:t.isClose(r,a)?1:null},getNearestTime:function(e,t){if(P.isStraight(e)){var n=e[0],r=e[1],i=e[6],a=e[7],o=i-n,s=a-r,c=o*o+s*s;if(c===0)return 0;var l=((t.x-n)*o+(t.y-r)*s)/c;return l<1e-12?0:l>.999999999999?1:P.getTimeOf(e,new h(n+l*o,r+l*s))}var u=100,d=1/0,f=0;function p(n){if(n>=0&&n<=1){var r=t.getDistance(P.getPoint(e,n),!0);if(r<d)return d=r,f=n,!0}}for(var m=0;m<=u;m++)p(m/u);for(var g=1/(u*2);g>1e-8;)!p(f-g)&&!p(f+g)&&(g/=2);return f},getPart:function(e,t,n){var r=t>n;if(r){var i=t;t=n,n=i}return t>0&&(e=P.subdivide(e,t)[1]),n<1&&(e=P.subdivide(e,(n-t)/(1-t))[0]),r?[e[6],e[7],e[4],e[5],e[2],e[3],e[0],e[1]]:e},isFlatEnough:function(e,t){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],c=e[6],l=e[7],u=3*i-2*n-c,d=3*a-2*r-l,f=3*o-2*c-n,p=3*s-2*l-r;return Math.max(u*u,f*f)+Math.max(d*d,p*p)<=16*t*t},getArea:function(e){var t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],c=e[7];return 3*((c-n)*(r+a)-(s-t)*(i+o)+i*(t-a)-r*(n-o)+c*(a+t/3)-s*(o+n/3))/20},getBounds:function(e){for(var t=e.slice(0,2),n=t.slice(),r=[0,0],i=0;i<2;i++)P._addBounds(e[i],e[i+2],e[i+4],e[i+6],i,0,t,n,r);return new y(t[0],t[1],n[0]-t[0],n[1]-t[1])},_addBounds:function(e,t,n,r,i,a,o,s,c){function l(e,t){var n=e-t,r=e+t;n<o[i]&&(o[i]=n),r>s[i]&&(s[i]=r)}a/=2;var u=o[i]+a,d=s[i]-a;if(e<u||t<u||n<u||r<u||e>d||t>d||n>d||r>d)if(t<e!=t<r&&n<e!=n<r)l(e,0),l(r,0);else{var f=3*(t-n)-e+r,m=2*(e+n)-4*t,h=t-e,g=p.solveQuadratic(f,m,h,c),_=1e-8,v=1-_;l(r,0);for(var y=0;y<g;y++){var b=c[y],x=1-b;_<=b&&b<=v&&l(x*x*x*e+3*x*x*b*t+3*x*b*b*n+b*b*b*r,a)}}}}},a.each([`getBounds`,`getStrokeBounds`,`getHandleBounds`],function(e){this[e]=function(){this._bounds||={};var t=this._bounds[e];return t||=this._bounds[e]=L[e]([this._segment1,this._segment2],!1,this._path),t.clone()}},{}),a.each({isStraight:function(e,t,n,r){if(t.isZero()&&n.isZero())return!0;var i=r.subtract(e);if(i.isZero())return!1;if(i.isCollinear(t)&&i.isCollinear(n)){var a=new S(e,r),o=1e-7;if(a.getDistance(e.add(t))<o&&a.getDistance(r.add(n))<o){var s=i.dot(i),c=i.dot(t)/s,l=i.dot(n)/s;return c>=0&&c<=1&&l<=0&&l>=-1}}return!1},isLinear:function(e,t,n,r){var i=r.subtract(e).divide(3);return t.equals(i)&&n.negate().equals(i)}},function(e,t){this[t]=function(t){var n=this._segment1,r=this._segment2;return e(n._point,n._handleOut,r._handleIn,r._point,t)},this.statics[t]=function(t,n){var r=t[0],i=t[1],a=t[6],o=t[7];return e(new h(r,i),new h(t[2]-r,t[3]-i),new h(t[4]-a,t[5]-o),new h(a,o),n)}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(e){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(e||0)},isCollinear:function(e){return e&&this.isStraight()&&e.isStraight()&&this.getLine().isCollinear(e.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).y)<1e-8},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).x)<1e-8}}),{beans:!1,getLocationAt:function(e,t){return this.getLocationAtTime(t?e:this.getTimeAt(e))},getLocationAtTime:function(e){return e!=null&&e>=0&&e<=1?new F(this,e):null},getTimeAt:function(e,t){return P.getTimeAt(this.getValues(),e,t)},getParameterAt:`#getTimeAt`,getTimesWithTangent:function(){var e=h.read(arguments);return e.isZero()?[]:P.getTimesWithTangent(this.getValues(),e)},getOffsetAtTime:function(e){return this.getPartLength(0,e)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(h.read(arguments)))},getOffsetOf:function(){var e=this.getLocationOf.apply(this,arguments);return e?e.getOffset():null},getTimeOf:function(){return P.getTimeOf(this.getValues(),h.read(arguments))},getParameterOf:`#getTimeOf`,getNearestLocation:function(){var e=h.read(arguments),t=this.getValues(),n=P.getNearestTime(t,e),r=P.getPoint(t,n);return new F(this,n,r,null,e.getDistance(r))},getNearestPoint:function(){var e=this.getNearestLocation.apply(this,arguments);return e&&e.getPoint()}},new function(){var e=[`getPoint`,`getTangent`,`getNormal`,`getWeightedTangent`,`getWeightedNormal`,`getCurvature`];return a.each(e,function(e){this[e+`At`]=function(t,n){var r=this.getValues();return P[e](r,n?t:P.getTimeAt(r,t))},this[e+`AtTime`]=function(t){return P[e](this.getValues(),t)}},{statics:{_evaluateMethods:e}})},new function(){function e(e){var t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],c=e[7],l=9*(r-a)+3*(s-t),u=6*(t+a)-12*r,d=3*(r-t),f=9*(i-o)+3*(c-n),p=6*(n+o)-12*i,m=3*(i-n);return function(e){var t=(l*e+u)*e+d,n=(f*e+p)*e+m;return Math.sqrt(t*t+n*n)}}function t(e,t){return Math.max(2,Math.min(16,Math.ceil(Math.abs(t-e)*32)))}function r(e,t,n,r){if(t==null||t<0||t>1)return null;var i=e[0],a=e[1],o=e[2],s=e[3],c=e[4],l=e[5],u=e[6],d=e[7],f=p.isZero;f(o-i)&&f(s-a)&&(o=i,s=a),f(c-u)&&f(l-d)&&(c=u,l=d);var m=3*(o-i),g=3*(c-o)-m,_=u-i-m-g,v=3*(s-a),y=3*(l-s)-v,b=d-a-v-y,x,S;if(n===0)x=t===0?i:t===1?u:((_*t+g)*t+m)*t+i,S=t===0?a:t===1?d:((b*t+y)*t+v)*t+a;else{var C=1e-8,w=1-C;if(t<C?(x=m,S=v):t>w?(x=3*(u-c),S=3*(d-l)):(x=(3*_*t+2*g)*t+m,S=(3*b*t+2*y)*t+v),r){x===0&&S===0&&(t<C||t>w)&&(x=c-o,S=l-s);var T=Math.sqrt(x*x+S*S);T&&(x/=T,S/=T)}if(n===3){var c=6*_*t+2*g,l=6*b*t+2*y,E=(x*x+S*S)**(3/2);x=E===0?0:(x*l-S*c)/E,S=0}}return n===2?new h(S,-x):new h(x,S)}return{statics:{classify:function(e){var t=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],c=e[6],l=e[7],u=t*(l-s)+r*(o-c)+c*s-l*o,d=i*(r-l)+a*(c-t)+t*l-r*c,f=3*(o*(a-r)+s*(t-i)+i*r-a*t),m=f-d,h=m-d+u,g=Math.sqrt(h*h+m*m+f*f),_=g===0?0:1/g,v=p.isZero,y=`serpentine`;h*=_,m*=_,f*=_;function b(e,t,r){var i=t!==n,a=i&&t>0&&t<1,o=i&&r>0&&r<1;return i&&(!(a||o)||e===`loop`&&!(a&&o))&&(e=`arch`,a=o=!1),{type:e,roots:a||o?a&&o?t<r?[t,r]:[r,t]:[a?t:r]:null}}if(v(h))return v(m)?b(v(f)?`line`:`quadratic`):b(y,f/(3*m));var x=3*m*m-4*h*f;if(v(x))return b(`cusp`,m/(2*h));var S=x>0?Math.sqrt(x/3):Math.sqrt(-x),C=2*h;return b(x>0?y:`loop`,(m+S)/C,(m-S)/C)},getLength:function(r,i,a,o){if(i===n&&(i=0),a===n&&(a=1),P.isStraight(r)){var s=r;a<1&&(s=P.subdivide(s,a)[0],i/=a),i>0&&(s=P.subdivide(s,i)[1]);var c=s[6]-s[0],l=s[7]-s[1];return Math.sqrt(c*c+l*l)}return p.integrate(o||e(r),i,a,t(i,a))},getTimeAt:function(r,i,a){if(a===n&&(a=i<0?1:0),i===0)return a;var o=Math.abs,s=1e-12,c=i>0,l=c?a:0,u=c?1:a,d=e(r),f=P.getLength(r,l,u,d),m=o(i)-f;if(o(m)<s)return c?u:l;if(m>s)return null;var h=i/f,g=0;function _(e){return g+=p.integrate(d,a,e,t(a,e)),a=e,g-i}return p.findRoot(_,d,a+h,l,u,32,1e-12)},getPoint:function(e,t){return r(e,t,0,!1)},getTangent:function(e,t){return r(e,t,1,!0)},getWeightedTangent:function(e,t){return r(e,t,1,!1)},getNormal:function(e,t){return r(e,t,2,!0)},getWeightedNormal:function(e,t){return r(e,t,2,!1)},getCurvature:function(e,t){return r(e,t,3,!1).x},getPeaks:function(e){var t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],c=e[7],l=-t+3*r-3*a+s,u=3*t-6*r+3*a,d=-3*t+3*r,f=-n+3*i-3*o+c,m=3*n-6*i+3*o,h=-3*n+3*i,g=1e-8,_=1-g,v=[];return p.solveCubic(9*(l*l+f*f),9*(l*u+m*f),2*(u*u+m*m)+3*(d*l+h*f),d*u+m*h,v,g,_),v.sort()}}}},new function(){function e(e,t,n,r,i,a,o){var s=!o&&n.getPrevious()===i,c=!o&&n!==i&&n.getNext()===i,l=1e-8,u=1-l;if(r!==null&&r>=(s?l:0)&&r<=(c?u:1)&&a!==null&&a>=(c?l:0)&&a<=(s?u:1)){var d=new F(n,r,null,o),f=new F(i,a,null,o);d._intersection=f,f._intersection=d,(!t||t(d))&&F.insert(e,d,!0)}}function t(i,a,o,s,c,l,u,d,f,p,m,h,g){if(++f>=4096||++d>=40)return f;var _=1e-9,v=a[0],y=a[1],b=a[6],x=a[7],C=S.getSignedDistance,w=C(v,y,b,x,a[2],a[3]),T=C(v,y,b,x,a[4],a[5]),E=w*T>0?3/4:4/9,D=E*Math.min(0,w,T),O=E*Math.max(0,w,T),k=C(v,y,b,x,i[0],i[1]),A=C(v,y,b,x,i[2],i[3]),j=C(v,y,b,x,i[4],i[5]),M=C(v,y,b,x,i[6],i[7]),N=n(k,A,j,M),F=N[0],I=N[1],L,R;if(w===0&&T===0&&k===0&&A===0&&j===0&&M===0||(L=r(F,I,D,O))==null||(R=r(F.reverse(),I.reverse(),D,O))==null)return f;var ee=p+(m-p)*L,te=p+(m-p)*R;if(Math.max(g-h,te-ee)<_){var ne=(ee+te)/2,re=(h+g)/2;e(c,l,u?s:o,u?re:ne,u?o:s,u?ne:re)}else{i=P.getPart(i,L,R);var z=g-h;if(R-L>.8)if(te-ee>z){var ie=P.subdivide(i,.5),ne=(ee+te)/2;f=t(a,ie[0],s,o,c,l,!u,d,f,h,g,ee,ne),f=t(a,ie[1],s,o,c,l,!u,d,f,h,g,ne,te)}else{var ie=P.subdivide(a,.5),re=(h+g)/2;f=t(ie[0],i,s,o,c,l,!u,d,f,h,re,ee,te),f=t(ie[1],i,s,o,c,l,!u,d,f,re,g,ee,te)}else f=z===0||z>=_?t(a,i,s,o,c,l,!u,d,f,h,g,ee,te):t(i,a,o,s,c,l,u,d,f,ee,te,h,g)}return f}function n(e,t,n,r){var i=[0,e],a=[1/3,t],o=[2/3,n],s=[1,r],c=t-(2*e+r)/3,l=n-(e+2*r)/3,u;if(c*l<0)u=[[i,a,s],[i,o,s]];else{var d=c/l;u=[d>=2?[i,a,s]:d<=.5?[i,o,s]:[i,a,o,s],[i,s]]}return(c||l)<0?u.reverse():u}function r(e,t,n,r){return e[0][1]<n?i(e,!0,n):t[0][1]>r?i(t,!1,r):e[0][0]}function i(e,t,n){for(var r=e[0][0],i=e[0][1],a=1,o=e.length;a<o;a++){var s=e[a][0],c=e[a][1];if(t?c>=n:c<=n)return c===n?s:r+(n-i)*(s-r)/(c-i);r=s,i=c}return null}function a(e,t,n,r,i){var a=p.isZero;if(a(r)&&a(i)){var o=P.getTimeOf(e,new h(t,n));return o===null?[]:[o]}for(var s=Math.atan2(-i,r),c=Math.sin(s),l=Math.cos(s),u=[],d=[],f=0;f<8;f+=2){var m=e[f]-t,g=e[f+1]-n;u.push(m*l-g*c,m*c+g*l)}return P.solveCubic(u,1,0,d,0,1),d}function o(t,n,r,i,o,s,c){for(var l=n[0],u=n[1],d=n[6],f=n[7],p=a(t,l,u,d-l,f-u),m=0,h=p.length;m<h;m++){var g=p[m],_=P.getPoint(t,g),v=P.getTimeOf(n,_);v!==null&&e(o,s,c?i:r,c?v:g,c?r:i,c?g:v)}}function s(t,n,r,i,a,o){var s=S.intersect(t[0],t[1],t[6],t[7],n[0],n[1],n[6],n[7]);s&&e(a,o,r,P.getTimeOf(t,s),i,P.getTimeOf(n,s))}function c(n,r,i,a,c,l){var u=1e-12,d=Math.min,p=Math.max;if(p(n[0],n[2],n[4],n[6])+u>d(r[0],r[2],r[4],r[6])&&d(n[0],n[2],n[4],n[6])-u<p(r[0],r[2],r[4],r[6])&&p(n[1],n[3],n[5],n[7])+u>d(r[1],r[3],r[5],r[7])&&d(n[1],n[3],n[5],n[7])-u<p(r[1],r[3],r[5],r[7])){var m=f(n,r);if(m)for(var g=0;g<2;g++){var _=m[g];e(c,l,i,_[0],a,_[1],!0)}else{var v=P.isStraight(n),y=P.isStraight(r),b=v&&y,x=v&&!y,S=c.length;if((b?s:v||y?o:t)(x?r:n,x?n:r,x?a:i,x?i:a,c,l,x,0,0,0,1,0,1),!b||c.length===S)for(var g=0;g<4;g++){var C=g>>1,w=g&1,T=C*6,E=w*6,D=new h(n[T],n[T+1]),O=new h(r[E],r[E+1]);D.isClose(O,u)&&e(c,l,i,C,a,w)}}}return c}function l(t,n,r,i){var a=P.classify(t);if(a.type===`loop`){var o=a.roots;e(r,i,n,o[0],n,o[1])}return r}function u(e,t,n,r,i,a){var o=1e-7,s=!t;s&&(t=e);for(var u=e.length,f=t.length,p=Array(u),m=s?p:Array(f),h=[],g=0;g<u;g++)p[g]=e[g].getValues(r);if(!s)for(var g=0;g<f;g++)m[g]=t[g].getValues(i);for(var _=d.findCurveBoundsCollisions(p,m,o),v=0;v<u;v++){var y=e[v],b=p[v];s&&l(b,y,h,n);var x=_[v];if(x)for(var S=0;S<x.length;S++){if(a&&h.length)return h;var C=x[S];if(!s||C>v){var w=t[C],T=m[C];c(b,T,y,w,h,n)}}}return h}function f(e,t){function n(e){var t=e[6]-e[0],n=e[7]-e[1];return t*t+n*n}var r=Math.abs,i=S.getDistance,a=1e-8,o=1e-7,s=P.isStraight(e),c=P.isStraight(t),l=s&&c,u=n(e)<n(t),d=u?t:e,f=u?e:t,p=d[0],m=d[1],g=d[6]-p,_=d[7]-m;if(i(p,m,g,_,f[0],f[1],!0)<o&&i(p,m,g,_,f[6],f[7],!0)<o)!l&&i(p,m,g,_,d[2],d[3],!0)<o&&i(p,m,g,_,d[4],d[5],!0)<o&&i(p,m,g,_,f[2],f[3],!0)<o&&i(p,m,g,_,f[4],f[5],!0)<o&&(s=c=l=!0);else if(l)return null;if(s^c)return null;for(var v=[e,t],y=[],b=0;b<4&&y.length<2;b++){var x=b&1,C=x^1,w=b>>1,T=P.getTimeOf(v[x],new h(v[C][w?6:0],v[C][w?7:1]));if(T!=null){var E=x?[w,T]:[T,w];(!y.length||r(E[0]-y[0][0])>a&&r(E[1]-y[0][1])>a)&&y.push(E)}if(b>2&&!y.length)break}if(y.length!==2)y=null;else if(!l){var D=P.getPart(e,y[0][0],y[1][0]),O=P.getPart(t,y[0][1],y[1][1]);(r(O[2]-D[2])>o||r(O[3]-D[3])>o||r(O[4]-D[4])>o||r(O[5]-D[5])>o)&&(y=null)}return y}function m(e,t){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],c=e[6],l=e[7],u=t.normalize(),d=u.x,f=u.y,m=3*c-9*o+9*i-3*n,h=3*l-9*s+9*a-3*r,g=6*o-12*i+6*n,_=6*s-12*a+6*r,v=3*i-3*n,y=3*a-3*r,b=2*m*f-2*h*d,x=[];if(Math.abs(b)<p.CURVETIME_EPSILON){var S=m*y-h*v,b=m*_-h*g;if(b!=0){var C=-S/b;C>=0&&C<=1&&x.push(C)}}else{var w=(g*g-4*m*v)*f*f+(-2*g*_+4*h*v+4*m*y)*d*f+(_*_-4*h*y)*d*d,T=g*f-_*d;if(w>=0&&b!=0){var E=Math.sqrt(w),D=-(T+E)/b,O=(-T+E)/b;D>=0&&D<=1&&x.push(D),O>=0&&O<=1&&x.push(O)}}return x}return{getIntersections:function(e){var t=this.getValues(),n=e&&e!==this&&e.getValues();return n?c(t,n,this,e,[]):l(t,this,[])},statics:{getOverlaps:f,getIntersections:u,getCurveLineIntersections:a,getTimesWithTangent:m}}}),F=a.extend({_class:`CurveLocation`,initialize:function(e,t,n,r,i){if(t>=.99999999){var a=e.getNext();a&&(t=0,e=a)}this._setCurve(e),this._time=t,this._point=n||e.getPointAtTime(t),this._overlap=r,this._distance=i,this._intersection=this._next=this._previous=null},_setPath:function(e){this._path=e,this._version=e?e._version:0},_setCurve:function(e){this._setPath(e._path),this._curve=e,this._segment=null,this._segment1=e._segment1,this._segment2=e._segment2},_setSegment:function(e){var t=e.getCurve();t?this._setCurve(t):(this._setPath(e._path),this._segment1=e,this._segment2=null),this._segment=e,this._time=e===this._segment1?0:1,this._point=e._point.clone()},getSegment:function(){var e=this._segment;if(!e){var t=this.getCurve(),n=this.getTime();n===0?e=t._segment1:n===1?e=t._segment2:n!=null&&(e=t.getPartLength(0,n)<t.getPartLength(n,1)?t._segment1:t._segment2),this._segment=e}return e},getCurve:function(){var e=this._path,t=this;e&&e._version!==this._version&&(this._time=this._offset=this._curveOffset=this._curve=null);function n(e){var n=e&&e.getCurve();if(n&&(t._time=n.getTimeOf(t._point))!=null)return t._setCurve(n),n}return this._curve||n(this._segment)||n(this._segment1)||n(this._segment2.getPrevious())},getPath:function(){var e=this.getCurve();return e&&e._path},getIndex:function(){var e=this.getCurve();return e&&e.getIndex()},getTime:function(){var e=this.getCurve(),t=this._time;return e&&t==null?this._time=e.getTimeOf(this._point):t},getParameter:`#getTime`,getPoint:function(){return this._point},getOffset:function(){var e=this._offset;if(e==null){e=0;var t=this.getPath(),n=this.getIndex();if(t&&n!=null)for(var r=t.getCurves(),i=0;i<n;i++)e+=r[i].getLength();this._offset=e+=this.getCurveOffset()}return e},getCurveOffset:function(){var e=this._curveOffset;if(e==null){var t=this.getCurve(),n=this.getTime();this._curveOffset=e=n!=null&&t&&t.getPartLength(0,n)}return e},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var e=this.getCurve(),t=e&&e.divideAtTime(this.getTime());return t&&this._setSegment(t._segment1),t},split:function(){var e=this.getCurve(),t=e._path,n=e&&e.splitAtTime(this.getTime());return n&&this._setSegment(t.getLastSegment()),n},equals:function(e,t){var n=this===e;if(!n&&e instanceof F){var r=this.getCurve(),i=e.getCurve(),a=r._path;if(a===i._path){var o=Math.abs,s=1e-7,c=o(this.getOffset()-e.getOffset()),l=!t&&this._intersection,u=!t&&e._intersection;n=(c<s||a&&o(a.getLength()-c)<s)&&(!l&&!u||l&&u&&l.equals(u,!0))}}return n},toString:function(){var e=[],t=this.getPoint(),n=f.instance;t&&e.push(`point: `+t);var r=this.getIndex();r!=null&&e.push(`index: `+r);var i=this.getTime();return i!=null&&e.push(`time: `+n.number(i)),this._distance!=null&&e.push(`distance: `+n.number(this._distance)),`{ `+e.join(`, `)+` }`},isTouching:function(){var e=this._intersection;if(e&&this.getTangent().isCollinear(e.getTangent())){var t=this.getCurve(),n=e.getCurve();return!(t.isStraight()&&n.isStraight()&&t.getLine().intersect(n.getLine()))}return!1},isCrossing:function(){var e=this._intersection;if(!e)return!1;var t=this.getTime(),n=e.getTime(),r=1e-8,i=1-r,a=t>=r&&t<=i,o=n>=r&&n<=i;if(a&&o)return!this.isTouching();var s=this.getCurve(),c=s&&t<r?s.getPrevious():s,l=e.getCurve(),u=l&&n<r?l.getPrevious():l;if(t>i&&(s=s.getNext()),n>i&&(l=l.getNext()),!c||!s||!u||!l)return!1;var d=[];function f(e,t){var n=e.getValues(),r=P.classify(n).roots||P.getPeaks(n),i=r.length,a=P.getLength(n,t&&i?r[i-1]:0,!t&&i?r[0]:1);d.push(i?a:a/32)}function p(e,t,n){return t<n?e>t&&e<n:e>t||e<n}a||(f(c,!0),f(s,!1)),o||(f(u,!0),f(l,!1));var m=this.getPoint(),h=Math.min.apply(Math,d),g=a?s.getTangentAtTime(t):s.getPointAt(h).subtract(m),_=a?g.negate():c.getPointAt(-h).subtract(m),v=o?l.getTangentAtTime(n):l.getPointAt(h).subtract(m),y=o?v.negate():u.getPointAt(-h).subtract(m),b=_.getAngle(),x=g.getAngle(),S=y.getAngle(),C=v.getAngle();return!!(a?p(b,S,C)^p(x,S,C)&&p(b,C,S)^p(x,C,S):p(S,b,x)^p(C,b,x)&&p(S,x,b)^p(C,x,b))},hasOverlap:function(){return!!this._overlap}},a.each(P._evaluateMethods,function(e){var t=e+`At`;this[e]=function(){var e=this.getCurve(),n=this.getTime();return n!=null&&e&&e[t](n,!0)}},{preserve:!0}),new function(){function e(e,t,n){var r=e.length,i=0,a=r-1;function o(n,i){for(var a=n+i;a>=-1&&a<=r;a+=i){var o=e[(a%r+r)%r];if(!t.getPoint().isClose(o.getPoint(),1e-7))break;if(t.equals(o))return o}return null}for(;i<=a;){var s=i+a>>>1,c=e[s],l;if(n&&(l=t.equals(c)?c:o(s,-1)||o(s,1)))return t._overlap&&(l._overlap=l._intersection._overlap=!0),l;var u=t.getPath(),d=c.getPath();(u===d?t.getIndex()+t.getTime()-(c.getIndex()+c.getTime()):u._id-d._id)<0?a=s-1:i=s+1}return e.splice(i,0,t),t}return{statics:{insert:e,expand:function(t){for(var n=t.slice(),r=t.length-1;r>=0;r--)e(n,t[r]._intersection,!1);return n}}}}),I=w.extend({_class:`PathItem`,_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function(){},statics:{create:function(e){var t,n,r;if(a.isPlainObject(e)?(n=e.segments,t=e.pathData):Array.isArray(e)?n=e:typeof e==`string`&&(t=e),n){var i=n[0];r=i&&Array.isArray(i[0])}else t&&(r=(t.match(/m/gi)||[]).length>1||/z\s*\S+/i.test(t));return new(r?R:L)(e)}},_asPathItem:function(){return this},isClockwise:function(){return this.getArea()>=0},setClockwise:function(e){this.isClockwise()!=(e=!!e)&&this.reverse()},setPathData:function(e){var t=e&&e.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/gi),n,r=!1,i,a,o=new h,s=new h;function c(e,t){var i=+n[e];return r&&(i+=o[t]),i}function l(e){return new h(c(e,`x`),c(e+1,`y`))}this.clear();for(var u=0,d=t&&t.length;u<d;u++){var f=t[u],p=f[0],m=p.toLowerCase();n=f.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g);var g=n&&n.length;switch(r=p===m,i===`z`&&!/[mz]/.test(m)&&this.moveTo(o),m){case`m`:case`l`:for(var v=m===`m`,y=0;y<g;y+=2)this[v?`moveTo`:`lineTo`](o=l(y)),v&&=(s=o,!1);a=o;break;case`h`:case`v`:var b=m===`h`?`x`:`y`;o=o.clone();for(var y=0;y<g;y++)o[b]=c(y,b),this.lineTo(o);a=o;break;case`c`:for(var y=0;y<g;y+=6)this.cubicCurveTo(l(y),a=l(y+2),o=l(y+4));break;case`s`:for(var y=0;y<g;y+=4)this.cubicCurveTo(/[cs]/.test(i)?o.multiply(2).subtract(a):o,a=l(y),o=l(y+2)),i=m;break;case`q`:for(var y=0;y<g;y+=4)this.quadraticCurveTo(a=l(y),o=l(y+2));break;case`t`:for(var y=0;y<g;y+=2)this.quadraticCurveTo(a=/[qt]/.test(i)?o.multiply(2).subtract(a):o,o=l(y)),i=m;break;case`a`:for(var y=0;y<g;y+=7)this.arcTo(o=l(y+5),new _(+n[y],+n[y+1]),+n[y+2],+n[y+4],+n[y+3]);break;case`z`:this.closePath(1e-12),o=s;break}i=m}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(e){var t=e.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(e):{};return t.onPath||!!(this.getFillRule()===`evenodd`?t.windingL&1||t.windingR&1:t.winding)},getIntersections:function(e,t,n,r){var i=this===e||!e,a=this._matrix._orNullIfIdentity(),o=i?a:(n||e._matrix)._orNullIfIdentity();return i||this.getBounds(a).intersects(e.getBounds(o),1e-12)?P.getIntersections(this.getCurves(),!i&&e.getCurves(),t,a,o,r):[]},getCrossings:function(e){return this.getIntersections(e,function(e){return e.isCrossing()})},getNearestLocation:function(){for(var e=h.read(arguments),t=this.getCurves(),n=1/0,r=null,i=0,a=t.length;i<a;i++){var o=t[i].getNearestLocation(e);o._distance<n&&(n=o._distance,r=o)}return r},getNearestPoint:function(){var e=this.getNearestLocation.apply(this,arguments);return e&&e.getPoint()},interpolate:function(e,t,n){var r=!this._children,i=r?`_segments`:`_children`,a=e[i],o=t[i],s=this[i];if(!a||!o||a.length!==o.length)throw Error(`Invalid operands in interpolate() call: `+e+`, `+t);var c=s.length,l=o.length;if(c<l)for(var u=r?M:L,d=c;d<l;d++)this.add(new u);else c>l&&this[r?`removeSegments`:`removeChildren`](l,c);for(var d=0;d<l;d++)s[d].interpolate(a[d],o[d],n);r&&(this.setClosed(e._closed),this._changed(9))},compare:function(e){var t=!1;if(e){var n=this._children||[this],r=e._children?e._children.slice():[e],i=n.length,a=r.length,o=[],s=0;t=!0;for(var c=d.findItemBoundsCollisions(n,r,p.GEOMETRIC_EPSILON),l=i-1;l>=0&&t;l--){var u=n[l];t=!1;var f=c[l];if(f)for(var m=f.length-1;m>=0&&!t;m--)u.compare(r[f[m]])&&(o[f[m]]||(o[f[m]]=!0,s++),t=!0)}t&&=s===a}return t}}),L=I.extend({_class:`Path`,_serializeFields:{segments:[],closed:!1},initialize:function(e){this._closed=!1,this._segments=[],this._version=0;var t=arguments,r=Array.isArray(e)?typeof e[0]==`object`?e:t:e&&e.size===n&&(e.x!==n||e.point!==n)?t:null;r&&r.length>0?this.setSegments(r):(this._curves=n,this._segmentSelection=0,!r&&typeof e==`string`&&(this.setPathData(e),e=null)),this._initialize(!r&&e)},_equals:function(e){return this._closed===e._closed&&a.equals(this._segments,e._segments)},copyContent:function(e){this.setSegments(e._segments),this._closed=e._closed},_changed:function e(t){if(e.base.call(this,t),t&8){if(this._length=this._area=n,t&32)this._version++;else if(this._curves)for(var r=0,i=this._curves.length;r<i;r++)this._curves[r]._changed()}else t&64&&(this._bounds=n)},getStyle:function(){var e=this._parent;return(e instanceof R?e:this)._style},getSegments:function(){return this._segments},setSegments:function(e){var t=this.isFullySelected(),r=e&&e.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=n,r){var i=e[r-1];typeof i==`boolean`&&(this.setClosed(i),r--),this._add(M.readList(e,0,{},r))}t&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var e=this._curves,t=this._segments;if(!e){var n=this._countCurves();e=this._curves=Array(n);for(var r=0;r<n;r++)e[r]=new P(this,t[r],t[r+1]||t[0])}return e},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var e=this.getCurves();return e[e.length-1]},isClosed:function(){return this._closed},setClosed:function(e){if(this._closed!=(e=!!e)){if(this._closed=e,this._curves){var t=this._curves.length=this._countCurves();e&&(this._curves[t-1]=new P(this,this._segments[t-1],this._segments[0]))}this._changed(41)}}},{beans:!0,getPathData:function(e,t){var n=this._segments,r=n.length,i=new f(t),a=[,,,,,,],o=!0,s,c,l,u,d,p,m,h,g=[];function _(t,n){if(t._transformCoordinates(e,a),s=a[0],c=a[1],o)g.push(`M`+i.pair(s,c)),o=!1;else if(d=a[2],p=a[3],d===s&&p===c&&m===l&&h===u){if(!n){var r=s-l,f=c-u;g.push(r===0?`v`+i.number(f):f===0?`h`+i.number(r):`l`+i.pair(r,f))}}else g.push(`c`+i.pair(m-l,h-u)+` `+i.pair(d-l,p-u)+` `+i.pair(s-l,c-u));l=s,u=c,m=a[4],h=a[5]}if(!r)return``;for(var v=0;v<r;v++)_(n[v]);return this._closed&&r>0&&(_(n[0],!0),g.push(`z`)),g.join(``)},isEmpty:function(){return!this._segments.length},_transformContent:function(e){for(var t=this._segments,n=[,,,,,,],r=0,i=t.length;r<i;r++)t[r]._transformCoordinates(e,n,!0);return!0},_add:function(e,t){for(var n=this._segments,r=this._curves,i=e.length,o=t==null,t=o?n.length:t,s=0;s<i;s++){var c=e[s];c._path&&(c=e[s]=c.clone()),c._path=this,c._index=t+s,c._selection&&this._updateSelection(c,0,c._selection)}if(o)a.push(n,e);else{n.splice.apply(n,[t,0].concat(e));for(var s=t+i,l=n.length;s<l;s++)n[s]._index=s}if(r){var u=this._countCurves(),d=t>0&&t+i-1===u?t-1:t,f=d,p=Math.min(d+i,u);e._curves&&(r.splice.apply(r,[d,0].concat(e._curves)),f+=e._curves.length);for(var s=f;s<p;s++)r.splice(s,0,new P(this,null,null));this._adjustCurves(d,p)}return this._changed(41),e},_adjustCurves:function(e,t){for(var n=this._segments,r=this._curves,i,a=e;a<t;a++)i=r[a],i._path=this,i._segment1=n[a],i._segment2=n[a+1]||n[0],i._changed();(i=r[this._closed&&!e?n.length-1:e-1])&&(i._segment2=n[e]||n[0],i._changed()),(i=r[t])&&(i._segment1=n[t],i._changed())},_countCurves:function(){var e=this._segments.length;return!this._closed&&e>0?e-1:e},add:function(e){var t=arguments;return t.length>1&&typeof e!=`number`?this._add(M.readList(t)):this._add([M.read(t)])[0]},insert:function(e,t){var n=arguments;return n.length>2&&typeof t!=`number`?this._add(M.readList(n,1),e):this._add([M.read(n,1)],e)[0]},addSegment:function(){return this._add([M.read(arguments)])[0]},insertSegment:function(e){return this._add([M.read(arguments,1)],e)[0]},addSegments:function(e){return this._add(M.readList(e))},insertSegments:function(e,t){return this._add(M.readList(t),e)},removeSegment:function(e){return this.removeSegments(e,e+1)[0]||null},removeSegments:function(e,t,n){e||=0,t=a.pick(t,this._segments.length);var r=this._segments,i=this._curves,o=r.length,s=r.splice(e,t-e),c=s.length;if(!c)return s;for(var l=0;l<c;l++){var u=s[l];u._selection&&this._updateSelection(u,u._selection,0),u._index=u._path=null}for(var l=e,d=r.length;l<d;l++)r[l]._index=l;if(i){for(var f=e>0&&t===o+(this._closed?1:0)?e-1:e,i=i.splice(f,c),l=i.length-1;l>=0;l--)i[l]._path=null;n&&(s._curves=i.slice(1)),this._adjustCurves(f,f)}return this._changed(41),s},clear:`#removeSegments`,hasHandles:function(){for(var e=this._segments,t=0,n=e.length;t<n;t++)if(e[t].hasHandles())return!0;return!1},clearHandles:function(){for(var e=this._segments,t=0,n=e.length;t<n;t++)e[t].clearHandles()},getLength:function(){if(this._length==null){for(var e=this.getCurves(),t=0,n=0,r=e.length;n<r;n++)t+=e[n].getLength();this._length=t}return this._length},getArea:function(){var e=this._area;if(e==null){var t=this._segments,n=this._closed;e=0;for(var r=0,i=t.length;r<i;r++){var a=r+1===i;e+=P.getArea(P.getValues(t[r],t[a?0:r+1],null,a&&!n))}this._area=e}return e},isFullySelected:function(){var e=this._segments.length;return this.isSelected()&&e>0&&this._segmentSelection===e*7},setFullySelected:function(e){e&&this._selectSegments(!0),this.setSelected(e)},setSelection:function e(t){t&1||this._selectSegments(!1),e.base.call(this,t)},_selectSegments:function(e){var t=this._segments,n=t.length,r=e?7:0;this._segmentSelection=r*n;for(var i=0;i<n;i++)t[i]._selection=r},_updateSelection:function(e,t,n){e._selection=n,(this._segmentSelection+=n-t)>0&&this.setSelected(!0)},divideAt:function(e){var t=this.getLocationAt(e),n;return t&&(n=t.getCurve().divideAt(t.getCurveOffset()))?n._segment1:null},splitAt:function(e){var t=this.getLocationAt(e),n=t&&t.index,r=t&&t.time,i=1e-8,a=1-i;r>a&&(n++,r=0);var o=this.getCurves();if(n>=0&&n<o.length){r>=i&&o[n++].divideAtTime(r);var s=this.removeSegments(n,this._segments.length,!0),c;return this._closed?(this.setClosed(!1),c=this):(c=new L(w.NO_INSERT),c.insertAbove(this),c.copyAttributes(this)),c._add(s,0),this.addSegment(s[0]),c}return null},split:function(e,t){var r,i=t===n?e:(r=this.getCurves()[e])&&r.getLocationAtTime(t);return i==null?null:this.splitAt(i)},join:function(e,t){var n=t||0;if(e&&e!==this){var r=e._segments,i=this.getLastSegment(),a=e.getLastSegment();if(!a)return this;i&&i._point.isClose(a._point,n)&&e.reverse();var o=e.getFirstSegment();if(i&&i._point.isClose(o._point,n))i.setHandleOut(o._handleOut),this._add(r.slice(1));else{var s=this.getFirstSegment();s&&s._point.isClose(o._point,n)&&e.reverse(),a=e.getLastSegment(),s&&s._point.isClose(a._point,n)?(s.setHandleIn(a._handleIn),this._add(r.slice(0,r.length-1),0)):this._add(r.slice())}e._closed&&this._add([r[0]]),e.remove()}var c=this.getFirstSegment(),l=this.getLastSegment();return c!==l&&c._point.isClose(l._point,n)&&(c.setHandleIn(l._handleIn),l.remove(),this.setClosed(!0)),this},reduce:function(e){for(var t=this.getCurves(),n=e&&e.simplify,r=n?1e-7:0,i=t.length-1;i>=0;i--){var a=t[i];!a.hasHandles()&&(!a.hasLength(r)||n&&a.isCollinear(a.getNext()))&&a.remove()}return this},reverse:function(){this._segments.reverse();for(var e=0,t=this._segments.length;e<t;e++){var n=this._segments[e],r=n._handleIn;n._handleIn=n._handleOut,n._handleOut=r,n._index=e}this._curves=null,this._changed(9)},flatten:function(e){for(var t=new ee(this,e||.25,256,!0).parts,n=t.length,r=[],i=0;i<n;i++)r.push(new M(t[i].curve.slice(0,2)));!this._closed&&n>0&&r.push(new M(t[n-1].curve.slice(6))),this.setSegments(r)},simplify:function(e){var t=new te(this).fit(e||2.5);return t&&this.setSegments(t),!!t},smooth:function(e){var t=this,r=e||{},i=r.type||`asymmetric`,a=this._segments,o=a.length,s=this._closed;function c(e,n){var r=e&&e.index;if(r!=null){var i=e.path;if(i&&i!==t)throw Error(e._class+` `+r+` of `+i+` is not part of `+t);n&&e instanceof P&&r++}else r=typeof e==`number`?e:n;return Math.min(r<0&&s?r%o:r<0?r+o:r,o-1)}var l=s&&r.from===n&&r.to===n,u=c(r.from,0),d=c(r.to,o-1);if(u>d)if(s)u-=o;else{var f=u;u=d,d=f}if(/^(?:asymmetric|continuous)$/.test(i)){var p=i===`asymmetric`,m=Math.min,h=d-u+1,g=h-1,_=l?m(h,4):1,v=_,y=_,b=[];if(s||(v=m(1,u),y=m(1,o-d-1)),g+=v+y,g<=1)return;for(var x=0,S=u-v;x<=g;x++,S++)b[x]=a[(S<0?S+o:S)%o]._point;for(var C=b[0]._x+2*b[1]._x,w=b[0]._y+2*b[1]._y,T=2,E=g-1,D=[C],O=[w],k=[T],A=[],j=[],x=1;x<g;x++){var M=x<E,N=M||p?1:2,F=M?4:p?2:7,I=M?4:p?3:8,L=M?2:p?0:1,R=N/T;T=k[x]=F-R,C=D[x]=I*b[x]._x+L*b[x+1]._x-R*C,w=O[x]=I*b[x]._y+L*b[x+1]._y-R*w}A[E]=D[E]/k[E],j[E]=O[E]/k[E];for(var x=g-2;x>=0;x--)A[x]=(D[x]-A[x+1])/k[x],j[x]=(O[x]-j[x+1])/k[x];A[g]=(3*b[g]._x-A[E])/2,j[g]=(3*b[g]._y-j[E])/2;for(var x=v,ee=g-y,S=u;x<=ee;x++,S++){var te=a[S<0?S+o:S],ne=te._point,re=A[x]-ne._x,z=j[x]-ne._y;(l||x<ee)&&te.setHandleOut(re,z),(l||x>v)&&te.setHandleIn(-re,-z)}}else for(var x=u;x<=d;x++)a[x<0?x+o:x].smooth(r,!l&&x===u,!l&&x===d)},toShape:function(e){if(!this._closed)return null;var t=this._segments,r,i,a,o;function s(e,n){var r=t[e],i=r.getNext(),a=t[n],o=a.getNext();return r._handleOut.isZero()&&i._handleIn.isZero()&&a._handleOut.isZero()&&o._handleIn.isZero()&&i._point.subtract(r._point).isCollinear(o._point.subtract(a._point))}function c(e){var n=t[e],r=n.getPrevious(),i=n.getNext();return r._handleOut.isZero()&&n._handleIn.isZero()&&n._handleOut.isZero()&&i._handleIn.isZero()&&n._point.subtract(r._point).isOrthogonal(i._point.subtract(n._point))}function l(e){var n=t[e],r=n.getNext(),i=n._handleOut,a=r._handleIn,o=.5522847498307936;if(i.isOrthogonal(a)){var s=n._point,c=r._point,l=new S(s,i,!0).intersect(new S(c,a,!0),!0);return l&&p.isZero(i.getLength()/l.subtract(s).getLength()-o)&&p.isZero(a.getLength()/l.subtract(c).getLength()-o)}return!1}function u(e,n){return t[e]._point.getDistance(t[n]._point)}if(!this.hasHandles()&&t.length===4&&s(0,2)&&s(1,3)&&c(1)?(r=D.Rectangle,i=new _(u(0,3),u(0,1)),o=t[1]._point.add(t[2]._point).divide(2)):t.length===8&&l(0)&&l(2)&&l(4)&&l(6)&&s(1,5)&&s(3,7)?(r=D.Rectangle,i=new _(u(1,6),u(0,3)),a=i.subtract(new _(u(0,7),u(1,2))).divide(2),o=t[3]._point.add(t[4]._point).divide(2)):t.length===4&&l(0)&&l(1)&&l(2)&&l(3)&&(p.isZero(u(0,2)-u(1,3))?(r=D.Circle,a=u(0,2)/2):(r=D.Ellipse,a=new _(u(2,0)/2,u(3,1)/2)),o=t[1]._point),r){var d=this.getPosition(!0),f=new r({center:d,size:i,radius:a,insert:!1});return f.copyAttributes(this,!0),f._matrix.prepend(this._matrix),f.rotate(o.subtract(d).getAngle()+90),(e===n||e)&&f.insertAbove(this),f}return null},toPath:`#clone`,compare:function e(t){if(!t||t instanceof R)return e.base.call(this,t);var n=this.getCurves(),r=t.getCurves(),i=n.length,a=r.length;if(!i||!a)return i==a;for(var o=n[0].getValues(),s=[],c=0,l,u=0,d,f=0;f<a;f++){var p=r[f].getValues();s.push(p);var m=P.getOverlaps(o,p);if(m){l=!f&&m[0][0]>0?a-1:f,d=m[0][1];break}}for(var h=Math.abs,g=1e-8,p=s[l],_;o&&p;){var m=P.getOverlaps(o,p);if(m){var v=m[0][0];if(h(v-u)<g){u=m[1][0],u===1&&(o=++c<i?n[c].getValues():null,u=0);var y=m[0][1];if(h(y-d)<g){if(_||=[l,y],d=m[1][1],d===1&&(++l>=a&&(l=0),p=s[l]||r[l].getValues(),d=0),!o)return _[0]===l&&_[1]===d;continue}}}break}return!1},_hitTestSelf:function(e,t,n,r){var i=this,a=this.getStyle(),o=this._segments,s=o.length,c=this._closed,l=t._tolerancePadding,u=l,d,f,p,m,h,g,_=t.stroke&&a.hasStroke(),v=t.fill&&a.hasFill(),y=t.curves,b=_?a.getStrokeWidth()/2:v&&t.tolerance>0||y?0:null;b!==null&&(b>0?(d=a.getStrokeJoin(),f=a.getStrokeCap(),p=a.getMiterLimit(),u=u.add(L._getStrokePadding(b,r))):d=f=`round`);function x(t,n){return e.subtract(t).divide(n).length<=1}function S(e,n,r){if(!t.selected||n.isSelected()){var a=e._point;if(n!==a&&(n=n.add(a)),x(n,u))return new j(r,i,{segment:e,point:n})}}function C(e,n){return(n||t.segments)&&S(e,e._point,`segment`)||!n&&t.handles&&(S(e,e._handleIn,`handle-in`)||S(e,e._handleOut,`handle-out`))}function w(e){m.add(e)}function T(t){var n=c||t._index>0&&t._index<s-1;if((n?d:f)===`round`)return x(t._point,u);if(m=new L({internal:!0,closed:!0}),n?t.isSmooth()||L._addBevelJoin(t,d,b,p,null,r,w,!0):f===`square`&&L._addSquareCap(t,f,b,null,r,w,!0),!m.isEmpty()){var i;return m.contains(e)||(i=m.getNearestLocation(e))&&x(i.getPoint(),l)}}if(t.ends&&!t.segments&&!c){if(g=C(o[0],!0)||C(o[s-1],!0))return g}else if(t.segments||t.handles){for(var E=0;E<s;E++)if(g=C(o[E]))return g}if(b!==null){if(h=this.getNearestLocation(e),h){var D=h.getTime();D===0||D===1&&s>1?T(h.getSegment())||(h=null):x(h.getPoint(),u)||(h=null)}if(!h&&d===`miter`&&s>1)for(var E=0;E<s;E++){var O=o[E];if(e.getDistance(O._point)<=p*b&&T(O)){h=O.getLocation();break}}}return!h&&v&&this._contains(e)||h&&!_&&!y?new j(`fill`,this):h?new j(_?`stroke`:`curve`,this,{location:h,point:h.getPoint()}):null}},a.each(P._evaluateMethods,function(e){this[e+`At`]=function(t){var n=this.getLocationAt(t);return n&&n[e]()}},{beans:!1,getLocationOf:function(){for(var e=h.read(arguments),t=this.getCurves(),n=0,r=t.length;n<r;n++){var i=t[n].getLocationOf(e);if(i)return i}return null},getOffsetOf:function(){var e=this.getLocationOf.apply(this,arguments);return e?e.getOffset():null},getLocationAt:function(e){if(typeof e==`number`){for(var t=this.getCurves(),n=0,r=0,i=t.length;r<i;r++){var a=n,o=t[r];if(n+=o.getLength(),n>e)return o.getLocationAt(e-a)}if(t.length>0&&e<=this.getLength())return new F(t[t.length-1],1)}else if(e&&e.getPath&&e.getPath()===this)return e;return null},getOffsetsWithTangent:function(){var e=h.read(arguments);if(e.isZero())return[];for(var t=[],n=0,r=this.getCurves(),i=0,a=r.length;i<a;i++){for(var o=r[i],s=o.getTimesWithTangent(e),c=0,l=s.length;c<l;c++){var u=n+o.getOffsetAtTime(s[c]);t.indexOf(u)<0&&t.push(u)}n+=o.length}return t}}),new function(){function e(e,t,n,r){if(r<=0)return;var i=r/2,a=r-2,o=i-1,s=[,,,,,,],c,l;function u(t){var n=s[t],r=s[t+1];(c!=n||l!=r)&&(e.beginPath(),e.moveTo(c,l),e.lineTo(n,r),e.stroke(),e.beginPath(),e.arc(n,r,i,0,Math.PI*2,!0),e.fill())}for(var d=0,f=t.length;d<f;d++){var p=t[d],m=p._selection;if(p._transformCoordinates(n,s),c=s[0],l=s[1],m&2&&u(2),m&4&&u(4),e.fillRect(c-i,l-i,r,r),a>0&&!(m&1)){var h=e.fillStyle;e.fillStyle=`#ffffff`,e.fillRect(c-o,l-o,a,a),e.fillStyle=h}}}function t(e,t,n){var r=t._segments,i=r.length,a=[,,,,,,],o=!0,s,c,l,u,d,f,p,m;function h(t){if(n)t._transformCoordinates(n,a),s=a[0],c=a[1];else{var r=t._point;s=r._x,c=r._y}if(o)e.moveTo(s,c),o=!1;else{if(n)d=a[2],f=a[3];else{var i=t._handleIn;d=s+i._x,f=c+i._y}d===s&&f===c&&p===l&&m===u?e.lineTo(s,c):e.bezierCurveTo(p,m,d,f,s,c)}if(l=s,u=c,n)p=a[4],m=a[5];else{var i=t._handleOut;p=l+i._x,m=u+i._y}}for(var g=0;g<i;g++)h(r[g]);t._closed&&i>0&&h(r[0])}return{_draw:function(e,n,r,i){var a=n.dontStart,o=n.dontFinish||n.clip,s=this.getStyle(),c=s.hasFill(),l=s.hasStroke(),u=s.getDashArray(),d=!G.support.nativeDash&&l&&u&&u.length;a||e.beginPath(),(c||l&&!d||o)&&(t(e,this,i),this._closed&&e.closePath());function f(e){return u[(e%d+d)%d]}if(!o&&(c||l)&&(this._setStyles(e,n,r),c&&(e.fill(s.getFillRule()),e.shadowColor=`rgba(0,0,0,0)`),l)){if(d){a||e.beginPath();for(var p=new ee(this,.25,32,!1,i),m=p.length,h=-s.getDashOffset(),g,_=0;h>0;)h-=f(_--)+f(_--);for(;h<m;)g=h+f(_++),(h>0||g>0)&&p.drawPart(e,Math.max(h,0),Math.max(g,0)),h=g+f(_++)}e.stroke()}},_drawSelected:function(n,r){n.beginPath(),t(n,this,r),n.stroke(),e(n,this._segments,r,G.settings.handleSize)}}},new function(){function e(e){var t=e._segments;if(!t.length)throw Error(`Use a moveTo() command first`);return t[t.length-1]}return{moveTo:function(){var e=this._segments;e.length===1&&this.removeSegment(0),e.length||this._add([new M(h.read(arguments))])},moveBy:function(){throw Error(`moveBy() is unsupported on Path items.`)},lineTo:function(){this._add([new M(h.read(arguments))])},cubicCurveTo:function(){var t=arguments,n=h.read(t),r=h.read(t),i=h.read(t),a=e(this);a.setHandleOut(n.subtract(a._point)),this._add([new M(i,r.subtract(i))])},quadraticCurveTo:function(){var t=arguments,n=h.read(t),r=h.read(t),i=e(this)._point;this.cubicCurveTo(n.add(i.subtract(n).multiply(1/3)),n.add(r.subtract(n).multiply(1/3)),r)},curveTo:function(){var t=arguments,n=h.read(t),r=h.read(t),i=a.pick(a.read(t),.5),o=1-i,s=e(this)._point,c=n.subtract(s.multiply(o*o)).subtract(r.multiply(i*i)).divide(2*i*o);if(c.isNaN())throw Error(`Cannot put a curve through points with parameter = `+i);this.quadraticCurveTo(c,r)},arcTo:function(){var t=arguments,n=Math.abs,r=Math.sqrt,i=e(this),o=i._point,s=h.read(t),c,l=a.peek(t),u=a.pick(l,!0),d,f,m,g;if(typeof u==`boolean`)var v=o.add(s).divide(2),c=v.add(v.subtract(o).rotate(u?-90:90));else if(a.remain(t)<=2)c=s,s=h.read(t);else if(!o.equals(s)){var y=_.read(t),b=p.isZero;if(b(y.width)||b(y.height))return this.lineTo(s);var C=a.read(t),u=!!a.read(t),w=!!a.read(t),v=o.add(s).divide(2),T=o.subtract(v).rotate(-C),E=T.x,D=T.y,O=n(y.width),k=n(y.height),A=O*O,j=k*k,N=E*E,P=D*D,F=r(N/A+P/j);if(F>1&&(O*=F,k*=F,A=O*O,j=k*k),F=(A*j-A*P-j*N)/(A*P+j*N),n(F)<1e-12&&(F=0),F<0)throw Error(`Cannot create an arc with the given arguments`);d=new h(O*D/k,-k*E/O).multiply((w===u?-1:1)*r(F)).rotate(C).add(v),g=new x().translate(d).rotate(C).scale(O,k),m=g._inverseTransform(o),f=m.getDirectedAngle(g._inverseTransform(s)),!u&&f>0?f-=360:u&&f<0&&(f+=360)}if(c){var I=new S(o.add(c).divide(2),c.subtract(o).rotate(90),!0),L=new S(c.add(s).divide(2),s.subtract(c).rotate(90),!0),R=new S(o,s),ee=R.getSide(c);if(d=I.intersect(L,!0),!d){if(!ee)return this.lineTo(s);throw Error(`Cannot create an arc with the given arguments`)}m=o.subtract(d),f=m.getDirectedAngle(s.subtract(d));var te=R.getSide(d,!0);te===0?f=ee*n(f):ee===te&&(f+=f<0?360:-360)}if(f){for(var ne=1e-5,re=n(f),z=re>=360?4:Math.ceil((re-ne)/90),ie=f/z,ae=ie*Math.PI/360,oe=4/3*Math.sin(ae)/(1+Math.cos(ae)),B=[],V=0;V<=z;V++){var T=s,H=null;if(V<z&&(H=m.rotate(90).multiply(oe),g?(T=g._transformPoint(m),H=g._transformPoint(m.add(H)).subtract(T)):T=d.add(m)),!V)i.setHandleOut(H);else{var se=m.rotate(-90).multiply(oe);g&&(se=g._transformPoint(m.add(se)).subtract(T)),B.push(new M(T,se,H))}m=m.rotate(ie)}this._add(B)}},lineBy:function(){var t=h.read(arguments),n=e(this)._point;this.lineTo(n.add(t))},curveBy:function(){var t=arguments,n=h.read(t),r=h.read(t),i=a.read(t),o=e(this)._point;this.curveTo(o.add(n),o.add(r),i)},cubicCurveBy:function(){var t=arguments,n=h.read(t),r=h.read(t),i=h.read(t),a=e(this)._point;this.cubicCurveTo(a.add(n),a.add(r),a.add(i))},quadraticCurveBy:function(){var t=arguments,n=h.read(t),r=h.read(t),i=e(this)._point;this.quadraticCurveTo(i.add(n),i.add(r))},arcBy:function(){var t=arguments,n=e(this)._point,r=n.add(h.read(t)),i=a.pick(a.peek(t),!0);typeof i==`boolean`?this.arcTo(r,i):this.arcTo(r,n.add(h.read(t)))},closePath:function(e){this.setClosed(!0),this.join(this,e)}}},{_getBounds:function(e,t){return L[t.handle?`getHandleBounds`:t.stroke?`getStrokeBounds`:`getBounds`](this._segments,this._closed,this,e,t)},statics:{getBounds:function(e,t,n,r,i,a){var o=e[0];if(!o)return new y;var s=[,,,,,,],c=o._transformCoordinates(r,[,,,,,,]),l=c.slice(0,2),u=l.slice(),d=[,,];function f(e){e._transformCoordinates(r,s);for(var t=0;t<2;t++)P._addBounds(c[t],c[t+4],s[t+2],s[t],t,a?a[t]:0,l,u,d);var n=c;c=s,s=n}for(var p=1,m=e.length;p<m;p++)f(e[p]);return t&&f(o),new y(l[0],l[1],u[0]-l[0],u[1]-l[1])},getStrokeBounds:function(e,t,n,r,i){var a=n.getStyle(),o=a.hasStroke(),s=a.getStrokeWidth(),c=o&&n._getStrokeMatrix(r,i),l=o&&L._getStrokePadding(s,c),u=L.getBounds(e,t,n,r,i,l);if(!o)return u;var d=s/2,f=a.getStrokeJoin(),p=a.getStrokeCap(),m=a.getMiterLimit(),h=new y(new _(l));function g(e){u=u.include(e)}function v(e){u=u.unite(h.setCenter(e._point.transform(r)))}function b(e,t){t===`round`||e.isSmooth()?v(e):L._addBevelJoin(e,t,d,m,r,c,g)}function x(e,t){t===`round`?v(e):L._addSquareCap(e,t,d,r,c,g)}var S=e.length-(t?0:1);if(S>0){for(var C=1;C<S;C++)b(e[C],f);t?b(e[0],f):(x(e[0],p),x(e[e.length-1],p))}return u},_getStrokePadding:function(e,t){if(!t)return[e,e];var n=new h(e,0).transform(t),r=new h(0,e).transform(t),i=n.getAngleInRadians(),a=n.getLength(),o=r.getLength(),s=Math.sin(i),c=Math.cos(i),l=Math.tan(i),u=Math.atan2(o*l,a),d=Math.atan2(o,l*a);return[Math.abs(a*Math.cos(u)*c+o*Math.sin(u)*s),Math.abs(o*Math.sin(d)*c+a*Math.cos(d)*s)]},_addBevelJoin:function(e,t,n,r,i,a,o,s){var c=e.getCurve(),l=c.getPrevious(),u=c.getPoint1().transform(i),d=l.getNormalAtTime(1).multiply(n).transform(a),f=c.getNormalAtTime(0).multiply(n).transform(a),p=d.getDirectedAngle(f);if((p<0||p>=180)&&(d=d.negate(),f=f.negate()),s&&o(u),o(u.add(d)),t===`miter`){var m=new S(u.add(d),new h(-d.y,d.x),!0).intersect(new S(u.add(f),new h(-f.y,f.x),!0),!0);m&&u.getDistance(m)<=r*n&&o(m)}o(u.add(f))},_addSquareCap:function(e,t,n,r,i,a,o){var s=e._point.transform(r),c=e.getLocation(),l=c.getNormal().multiply(c.getTime()===0?n:-n).transform(i);t===`square`&&(o&&(a(s.subtract(l)),a(s.add(l))),s=s.add(l.rotate(-90))),a(s.add(l)),a(s.subtract(l))},getHandleBounds:function(e,t,n,r,i){var a=n.getStyle(),o=i.stroke&&a.hasStroke(),s,c;if(o){var l=n._getStrokeMatrix(r,i),u=a.getStrokeWidth()/2,d=u;a.getStrokeJoin()===`miter`&&(d=u*a.getMiterLimit()),a.getStrokeCap()===`square`&&(d=Math.max(d,u*Math.SQRT2)),s=L._getStrokePadding(u,l),c=L._getStrokePadding(d,l)}for(var f=[,,,,,,],p=1/0,m=-p,h=p,g=m,_=0,v=e.length;_<v;_++){e[_]._transformCoordinates(r,f);for(var b=0;b<6;b+=2){var x=b?s:c,S=x?x[0]:0,C=x?x[1]:0,w=f[b],T=f[b+1],E=w-S,D=w+S,O=T-C,k=T+C;E<p&&(p=E),D>m&&(m=D),O<h&&(h=O),k>g&&(g=k)}}return new y(p,h,m-p,g-h)}}});L.inject({statics:new function(){var e=.5522847498307936,t=[new M([-1,0],[0,e],[0,-e]),new M([0,-1],[-e,0],[e,0]),new M([1,0],[0,-e],[0,e]),new M([0,1],[e,0],[-e,0])];function n(e,t,n){var r=a.getNamed(n),i=new L(r&&(r.insert==1?w.INSERT:r.insert==0?w.NO_INSERT:null));return i._add(e),i._closed=t,i.set(r,w.INSERT)}function r(e,r,i){for(var a=[,,,,],o=0;o<4;o++){var s=t[o];a[o]=new M(s._point.multiply(r).add(e),s._handleIn.multiply(r),s._handleOut.multiply(r))}return n(a,!0,i)}return{Line:function(){var e=arguments;return n([new M(h.readNamed(e,`from`)),new M(h.readNamed(e,`to`))],!1,e)},Circle:function(){var e=arguments;return r(h.readNamed(e,`center`),new _(a.readNamed(e,`radius`)),e)},Rectangle:function(){var t=arguments,r=y.readNamed(t,`rectangle`),i=_.readNamed(t,`radius`,0,{readNull:!0}),a=r.getBottomLeft(!0),o=r.getTopLeft(!0),s=r.getTopRight(!0),c=r.getBottomRight(!0),l;if(!i||i.isZero())l=[new M(a),new M(o),new M(s),new M(c)];else{i=_.min(i,r.getSize(!0).divide(2));var u=i.width,d=i.height,f=u*e,p=d*e;l=[new M(a.add(u,0),null,[-f,0]),new M(a.subtract(0,d),[0,p]),new M(o.add(0,d),null,[0,-p]),new M(o.add(u,0),[-f,0],null),new M(s.subtract(u,0),null,[f,0]),new M(s.add(0,d),[0,-p],null),new M(c.subtract(0,d),null,[0,p]),new M(c.subtract(u,0),[f,0])]}return n(l,!0,t)},RoundRectangle:`#Rectangle`,Ellipse:function(){var e=arguments,t=D._readEllipse(e);return r(t.center,t.radius,e)},Oval:`#Ellipse`,Arc:function(){var e=arguments,t=h.readNamed(e,`from`),n=h.readNamed(e,`through`),r=h.readNamed(e,`to`),i=a.getNamed(e),o=new L(i&&i.insert==0&&w.NO_INSERT);return o.moveTo(t),o.arcTo(n,r),o.set(i)},RegularPolygon:function(){for(var e=arguments,t=h.readNamed(e,`center`),r=a.readNamed(e,`sides`),i=a.readNamed(e,`radius`),o=360/r,s=r%3==0,c=new h(0,s?-i:i),l=s?-1:.5,u=Array(r),d=0;d<r;d++)u[d]=new M(t.add(c.rotate((d+l)*o)));return n(u,!0,e)},Star:function(){for(var e=arguments,t=h.readNamed(e,`center`),r=a.readNamed(e,`points`)*2,i=a.readNamed(e,`radius1`),o=a.readNamed(e,`radius2`),s=360/r,c=new h(0,-1),l=Array(r),u=0;u<r;u++)l[u]=new M(t.add(c.rotate(s*u).multiply(u%2?o:i)));return n(l,!0,e)}}}});var R=I.extend({_class:`CompoundPath`,_serializeFields:{children:[]},beans:!0,initialize:function(e){this._children=[],this._namedChildren={},this._initialize(e)||(typeof e==`string`?this.setPathData(e):this.addChildren(Array.isArray(e)?e:arguments))},insertChildren:function e(t,n){var r=n,i=r[0];i&&typeof i[0]==`number`&&(r=[r]);for(var o=n.length-1;o>=0;o--){var s=r[o];r===n&&!(s instanceof L)&&(r=a.slice(r)),Array.isArray(s)?r[o]=new L({segments:s,insert:!1}):s instanceof R&&(r.splice.apply(r,[o,1].concat(s.removeChildren())),s.remove())}return e.base.call(this,t,r)},reduce:function e(t){for(var n=this._children,r=n.length-1;r>=0;r--){var i=n[r].reduce(t);i.isEmpty()&&i.remove()}if(!n.length){var i=new L(w.NO_INSERT);return i.copyAttributes(this),i.insertAbove(this),this.remove(),i}return e.base.call(this)},isClosed:function(){for(var e=this._children,t=0,n=e.length;t<n;t++)if(!e[t]._closed)return!1;return!0},setClosed:function(e){for(var t=this._children,n=0,r=t.length;n<r;n++)t[n].setClosed(e)},getFirstSegment:function(){var e=this.getFirstChild();return e&&e.getFirstSegment()},getLastSegment:function(){var e=this.getLastChild();return e&&e.getLastSegment()},getCurves:function(){for(var e=this._children,t=[],n=0,r=e.length;n<r;n++)a.push(t,e[n].getCurves());return t},getFirstCurve:function(){var e=this.getFirstChild();return e&&e.getFirstCurve()},getLastCurve:function(){var e=this.getLastChild();return e&&e.getLastCurve()},getArea:function(){for(var e=this._children,t=0,n=0,r=e.length;n<r;n++)t+=e[n].getArea();return t},getLength:function(){for(var e=this._children,t=0,n=0,r=e.length;n<r;n++)t+=e[n].getLength();return t},getPathData:function(e,t){for(var n=this._children,r=[],i=0,a=n.length;i<a;i++){var o=n[i],s=o._matrix;r.push(o.getPathData(e&&!s.isIdentity()?e.appended(s):e,t))}return r.join(``)},_hitTestChildren:function e(t,n,r){return e.base.call(this,t,n.class===L||n.type===`path`?n:a.set({},n,{fill:!1}),r)},_draw:function(e,t,n,r){var i=this._children;if(i.length){t=t.extend({dontStart:!0,dontFinish:!0}),e.beginPath();for(var a=0,o=i.length;a<o;a++)i[a].draw(e,t,r);if(!t.clip){this._setStyles(e,t,n);var s=this._style;s.hasFill()&&(e.fill(s.getFillRule()),e.shadowColor=`rgba(0,0,0,0)`),s.hasStroke()&&e.stroke()}}},_drawSelected:function(e,t,n){for(var r=this._children,i=0,a=r.length;i<a;i++){var o=r[i],s=o._matrix;n[o._id]||o._drawSelected(e,s.isIdentity()?t:t.appended(s))}}},new function(){function e(e,t){var n=e._children;if(t&&!n.length)throw Error(`Use a moveTo() command first`);return n[n.length-1]}return a.each([`lineTo`,`cubicCurveTo`,`quadraticCurveTo`,`curveTo`,`arcTo`,`lineBy`,`cubicCurveBy`,`quadraticCurveBy`,`curveBy`,`arcBy`],function(t){this[t]=function(){var n=e(this,!0);n[t].apply(n,arguments)}},{moveTo:function(){var t=e(this),n=t&&t.isEmpty()?t:new L(w.NO_INSERT);n!==t&&this.addChild(n),n.moveTo.apply(n,arguments)},moveBy:function(){var t=e(this,!0),n=t&&t.getLastSegment(),r=h.read(arguments);this.moveTo(n?r.add(n._point):r)},closePath:function(t){e(this,!0).closePath(t)}})},a.each([`reverse`,`flatten`,`simplify`,`smooth`],function(e){this[e]=function(t){for(var n=this._children,r,i=0,a=n.length;i<a;i++)r=n[i][e](t)||r;return r}},{}));I.inject(new function(){var e=Math.min,t=Math.max,r=Math.abs,i={unite:{1:!0,2:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0,"-1":!0}};function o(e){return e._children||[e]}function s(e,t){var n=e.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);if(t){for(var r=o(n),i=0,a=r.length;i<a;i++){var e=r[i];!e._closed&&!e.isEmpty()&&(e.closePath(1e-12),e.getFirstSegment().setHandleIn(0,0),e.getLastSegment().setHandleOut(0,0))}n=n.resolveCrossings().reorient(n.getFillRule()===`nonzero`,!0)}return n}function c(e,t,n,r,i){var a=new R(w.NO_INSERT);return a.addChildren(e,!0),a=a.reduce({simplify:t}),i&&i.insert==0||a.insertAbove(r&&n.isSibling(r)&&n.getIndex()<r.getIndex()?r:n),a.copyAttributes(n,!0),a}function l(e){return e.hasOverlap()||e.isCrossing()}function u(e,t,n,r){if(r&&(r.trace==0||r.stroke)&&/^(subtract|intersect)$/.test(n))return f(e,t,n);var u=s(e,!0),p=t&&e!==t&&s(t,!0),m=i[n];m[n]=!0,p&&(m.subtract||m.exclude)^(p.isClockwise()^u.isClockwise())&&p.reverse();var h=_(F.expand(u.getIntersections(p,l))),v=o(u),x=p&&o(p),S=[],C=[],w;function T(e){for(var t=0,n=e.length;t<n;t++){var r=e[t];a.push(S,r._segments),a.push(C,r.getCurves()),r._overlapsOnly=!0}}function E(e){for(var t=[],n=0,r=e&&e.length;n<r;n++)t.push(C[e[n]]);return t}if(h.length){T(v),x&&T(x);for(var D=Array(C.length),O=0,k=C.length;O<k;O++)D[O]=C[O].getValues();for(var A=d.findCurveBoundsCollisions(D,D,0,!0),j={},O=0;O<C.length;O++){var M=C[O],N=M._path._id,P=j[N]=j[N]||{};P[M.getIndex()]={hor:E(A[O].hor),ver:E(A[O].ver)}}for(var O=0,k=h.length;O<k;O++)y(h[O]._segment,u,p,j,m);for(var O=0,k=S.length;O<k;O++){var I=S[O],L=I._intersection;I._winding||y(I,u,p,j,m),L&&L._overlap||(I._path._overlapsOnly=!1)}w=b(S,m)}else w=g(x?v.concat(x):v.slice(),function(e){return!!m[e]});return c(w,!0,e,t,r)}function f(e,t,n){var r=s(e),i=s(t),a=r.getIntersections(i,l),o=n===`subtract`,u=n===`divide`,d={},f=[];function p(e){if(!d[e._id]&&(u||i.contains(e.getPointAt(e.getLength()/2))^o))return f.unshift(e),d[e._id]=!0}for(var m=a.length-1;m>=0;m--){var h=a[m].split();h&&(p(h)&&h.getFirstSegment().setHandleIn(0,0),r.getLastSegment().setHandleOut(0,0))}return p(r),c(f,!1,e,t)}function m(e,t){for(var n=e;n;){if(n===t)return;n=n._previous}for(;e._next&&e._next!==t;)e=e._next;if(!e._next){for(;t._previous;)t=t._previous;e._next=t,t._previous=e}}function h(e){for(var t=e.length-1;t>=0;t--)e[t].clearHandles()}function g(e,t,n){var i=e&&e.length;if(i){var o=a.each(e,function(e,t){this[e._id]={container:null,winding:e.isClockwise()?1:-1,index:t}},{}),s=e.slice().sort(function(e,t){return r(t.getArea())-r(e.getArea())}),c=s[0],l=d.findItemBoundsCollisions(s,null,p.GEOMETRIC_EPSILON);n??=c.isClockwise();for(var u=0;u<i;u++){var f=s[u],m=o[f._id],h=0,g=l[u];if(g){for(var _=null,v=g.length-1;v>=0;v--)if(g[v]<u){_||=f.getInteriorPoint();var y=s[g[v]];if(y.contains(_)){var b=o[y._id];h=b.winding,m.winding+=h,m.container=b.exclude?b.container:y;break}}}if(t(m.winding)===t(h))m.exclude=!0,e[m.index]=null;else{var x=m.container;f.setClockwise(x?!x.isClockwise():n)}}}return e}function _(e,t,n){var r=t&&[],i=1e-8,a=1-i,o=!1,s=n||[],c=n&&{},l,u,d;function f(e){return e._path._id+`.`+e._segment1._index}for(var p=(n&&n.length)-1;p>=0;p--){var g=n[p];g._path&&(c[f(g)]=!0)}for(var p=e.length-1;p>=0;p--){var _=e[p],v=_._time,y=v,b=t&&!t(_),g=_._curve,x;if(g&&(g===u?d>=i&&(v/=d):(o=!g.hasHandles()||c&&c[f(g)],l=[],d=null,u=g)),b){l&&l.push(_);continue}else t&&r.unshift(_);if(d=y,v<i)x=g._segment1;else if(v>a)x=g._segment2;else{var S=g.divideAtTime(v,!0);o&&s.push(g,S),x=S._segment1;for(var C=l.length-1;C>=0;C--){var w=l[C];w._time=(w._time-v)/(1-v)}}_._setSegment(x);var T=x._intersection,E=_._intersection;if(T){m(T,E);for(var D=T;D;)m(D._intersection,T),D=D._next}else x._intersection=E}return n||h(s),r||e}function v(n,i,a,o,s){var c=Array.isArray(i)?i:i[a?`hor`:`ver`],l=a?1:0,u=l^1,d=[n.x,n.y],f=d[l],p=d[u],m=1e-9,h=1e-6,g=f-m,_=f+m,y=0,b=0,x=0,S=0,C=!1,w=!1,T=1,E=[],D,O;function k(r){var c=r[u+0],d=r[u+6];if(!(p<e(c,d)||p>t(c,d))){var m=r[l+0],y=r[l+2],b=r[l+4],w=r[l+6];if(c===d){(m<_&&w>g||w<_&&m>g)&&(C=!0);return}var O=p===c?0:p===d||g>t(m,y,b,w)||_<e(m,y,b,w)?1:P.solveCubic(r,u,p,E,0,1)>0?E[0]:1,k=O===0?m:O===1?w:P.getPoint(r,O)[a?`y`:`x`],A=c>d?1:-1,j=D[u]>D[u+6]?1:-1,M=D[l+6];return p===c?(A===j?m!=M&&(M<_&&k>_?(S+=A,C=!0):M>g&&k<g&&(x+=A,C=!0)):m<g?x+=A:m>_&&(S+=A),T/=4):(k<g?x+=A:k>_?S+=A:C=!0,k>f-h&&k<f+h&&(T/=2)),D=r,!s&&k>g&&k<_&&P.getTangent(r,O)[a?`x`:`y`]===0&&v(n,i,!a,o,!0)}}function A(n){var r=n[u+0],i=n[u+2],o=n[u+4],s=n[u+6];if(p<=t(r,i,o,s)&&p>=e(r,i,o,s)){for(var c=n[l+0],d=n[l+2],f=n[l+4],m=n[l+6],h=g>t(c,d,f,m)||_<e(c,d,f,m)?[n]:P.getMonoCurves(n,a),v,y=0,b=h.length;y<b;y++)if(v=k(h[y]))return v}}for(var j=0,M=c.length;j<M;j++){var N=c[j],F=N._path,I=N.getValues(),L;if((!j||c[j-1]._path!==F)&&(D=null,F._closed||(O=P.getValues(F.getLastCurve().getSegment2(),N.getSegment1(),null,!o),O[u]!==O[u+6]&&(D=O)),!D)){D=I;for(var R=F.getLastCurve();R&&R!==N;){var ee=R.getValues();if(ee[u]!==ee[u+6]){D=ee;break}R=R.getPrevious()}}if(L=A(I))return L;if(j+1===M||c[j+1]._path!==F){if(O&&(L=A(O)))return L;C&&!x&&!S&&(x=S=F.isClockwise(o)^a?1:-1),y+=x,b+=S,x=S=0,C&&=(w=!0,!1),O=null}}return y=r(y),b=r(b),{winding:t(y,b),windingL:y,windingR:b,quality:T,onPath:w}}function y(e,t,n,i,a){var o=[],s=e,c=0,l;do{var u=e.getCurve();if(u){var d=u.getLength();o.push({segment:e,curve:u,length:d}),c+=d}e=e.getNext()}while(e&&!e._intersection&&e!==s);for(var f=[.5,.25,.75],l={winding:0,quality:-1},m=.001,h=1-m,g=0;g<f.length&&l.quality<.5;g++)for(var d=c*f[g],_=0,y=o.length;_<y;_++){var b=o[_],x=b.length;if(d<=x){var u=b.curve,S=u._path,C=S._parent,w=C instanceof R?C:S,T=p.clamp(u.getTimeAt(d),m,h),E=u.getPointAtTime(T),D=r(u.getTangentAtTime(T).y)<Math.SQRT1_2,O=null;if(a.subtract&&n){var k=(w===t?n:t)._getWinding(E,D,!0);if(w===t&&k.winding||w===n&&!k.winding){if(k.quality<1)continue;O={winding:0,quality:1}}}O||=v(E,i[S._id][u.getIndex()],D,!0),O.quality>l.quality&&(l=O);break}d-=x}for(var _=o.length-1;_>=0;_--)o[_].segment._winding=l}function b(e,t){var n=[],r;function i(e){var n;return!!(e&&!e._visited&&(!t||t[(n=e._winding||{}).winding]&&!(t.unite&&n.winding===2&&n.windingL&&n.windingR)))}function a(e){if(e){for(var t=0,n=r.length;t<n;t++)if(e===r[t])return!0}return!1}function o(e){for(var t=e._segments,n=0,r=t.length;n<r;n++)t[n]._visited=!0}function s(e,t){var n=e._intersection,o=n,s=[];t&&(r=[e]);function c(n,o){for(;n&&n!==o;){var c=n._segment,l=c&&c._path;if(l){var u=c.getNext()||l.getFirstSegment(),d=u._intersection;c!==e&&(a(c)||a(u)||u&&i(c)&&(i(u)||d&&i(d._segment)))&&s.push(c),t&&r.push(c)}n=n._next}}if(n){for(c(n);n&&n._previous;)n=n._previous;c(n,o)}return s}e.sort(function(e,t){var n=e._intersection,r=t._intersection,i=!!(n&&n._overlap),a=!!(r&&r._overlap),o=e._path,s=t._path;return i^a?i?1:-1:!n^!r?n?1:-1:o===s?e._index-t._index:o._id-s._id});for(var c=0,l=e.length;c<l;c++){var u=e[c],d=i(u),f=null,p=!1,m=!0,h=[],g,_,v;if(d&&u._path._overlapsOnly){var y=u._path,b=u._intersection._segment._path;y.compare(b)&&(y.getArea()&&n.push(y.clone(!1)),o(y),o(b),d=!1)}for(;d;){var x=!f,S=s(u,x),C=S.shift(),p=!x&&(a(u)||a(C)),T=!p&&C;if(x&&(f=new L(w.NO_INSERT),g=null),p){(u.isFirst()||u.isLast())&&(m=u._path._closed),u._visited=!0;break}if(T&&g&&(h.push(g),g=null),g||=(T&&S.push(u),{start:f._segments.length,crossings:S,visited:_=[],handleIn:v}),T&&(u=C),!i(u)){f.removeSegments(g.start);for(var E=0,D=_.length;E<D;E++)_[E]._visited=!1;_.length=0;do u=g&&g.crossings.shift(),(!u||!u._path)&&(u=null,g=h.pop(),g&&(_=g.visited,v=g.handleIn));while(g&&!i(u));if(!u)break}var O=u.getNext();f.add(new M(u._point,v,O&&u._handleOut)),u._visited=!0,_.push(u),u=O||u._path.getFirstSegment(),v=O&&O._handleIn}p&&(m&&(f.getFirstSegment().setHandleIn(v),f.setClosed(m)),f.getArea()!==0&&n.push(f))}return n}return{_getWinding:function(e,t,n){return v(e,this.getCurves(),t,n)},unite:function(e,t){return u(this,e,`unite`,t)},intersect:function(e,t){return u(this,e,`intersect`,t)},subtract:function(e,t){return u(this,e,`subtract`,t)},exclude:function(e,t){return u(this,e,`exclude`,t)},divide:function(e,t){return t&&(t.trace==0||t.stroke)?f(this,e,`divide`):c([this.subtract(e,t),this.intersect(e,t)],!0,this,e,t)},resolveCrossings:function(){var e=this._children,t=e||[this];function n(e,t){var n=e&&e._intersection;return n&&n._overlap&&n._path===t}var r=!1,i=!1,o=this.getIntersections(null,function(e){return e.hasOverlap()&&(r=!0)||e.isCrossing()&&(i=!0)}),s=r&&i&&[];if(o=F.expand(o),r)for(var c=_(o,function(e){return e.hasOverlap()},s),l=c.length-1;l>=0;l--){var u=c[l],d=u._path,f=u._segment,p=f.getPrevious(),m=f.getNext();n(p,d)&&n(m,d)&&(f.remove(),p._handleOut._set(0,0),m._handleIn._set(0,0),p!==f&&!p.getCurve().hasLength()&&(m._handleIn.set(p._handleIn),p.remove()))}i&&(_(o,r&&function(e){var t=e.getCurve(),n=e.getSegment(),r=e._intersection,i=r._curve,a=r._segment;if(t&&i&&t._path&&i._path)return!0;n&&(n._intersection=null),a&&(a._intersection=null)},s),s&&h(s),t=b(a.each(t,function(e){a.push(this,e._segments)},[])));var g=t.length,v;return g>1&&e?(t!==e&&this.setChildren(t),v=this):g===1&&!e&&(t[0]!==this&&this.setSegments(t[0].removeSegments()),v=this),v||(v=new R(w.NO_INSERT),v.addChildren(t),v=v.reduce(),v.copyAttributes(this),this.replaceWith(v)),v},reorient:function(e,t){var r=this._children;return r&&r.length?this.setChildren(g(this.removeChildren(),function(t){return!!(e?t:t&1)},t)):t!==n&&this.setClockwise(t),this},getInteriorPoint:function(){var n=this.getBounds().getCenter(!0);if(!this.contains(n)){for(var r=this.getCurves(),i=n.y,a=[],o=[],s=0,c=r.length;s<c;s++){var l=r[s].getValues(),u=l[1],d=l[3],f=l[5],p=l[7];if(i>=e(u,d,f,p)&&i<=t(u,d,f,p))for(var m=P.getMonoCurves(l),h=0,g=m.length;h<g;h++){var _=m[h],v=_[1],y=_[7];if(v!==y&&(i>=v&&i<=y||i>=y&&i<=v)){var b=i===v?_[0]:i===y?_[6]:P.solveCubic(_,1,i,o,0,1)===1?P.getPoint(_,o[0]).x:(_[0]+_[6])/2;a.push(b)}}}a.length>1&&(a.sort(function(e,t){return e-t}),n.x=(a[0]+a[1])/2)}return n}}});var ee=a.extend({_class:`PathFlattener`,initialize:function(e,t,n,r,i){var a=[],o=[],s=0,c=1/(n||32),l=e._segments,u=l[0],d;function f(e,t){var n=P.getValues(e,t,i);a.push(n),p(n,e._index,0,1)}function p(e,n,i,a){if(a-i>c&&!(r&&P.isStraight(e))&&!P.isFlatEnough(e,t||.25)){var l=P.subdivide(e,.5),u=(i+a)/2;p(l[0],n,i,u),p(l[1],n,u,a)}else{var d=e[6]-e[0],f=e[7]-e[1],m=Math.sqrt(d*d+f*f);m>0&&(s+=m,o.push({offset:s,curve:e,index:n,time:a}))}}for(var m=1,h=l.length;m<h;m++)d=l[m],f(u,d),u=d;e._closed&&f(d||u,l[0]),this.curves=a,this.parts=o,this.length=s,this.index=0},_get:function(e){for(var t=this.parts,n=t.length,r,i=this.index;r=i,!(!i||t[--i].offset<e););for(;r<n;r++){var a=t[r];if(a.offset>=e){this.index=r;var o=t[r-1],s=o&&o.index===a.index?o.time:0,c=o?o.offset:0;return{index:a.index,time:s+(a.time-s)*(e-c)/(a.offset-c)}}}return{index:t[n-1].index,time:1}},drawPart:function(e,t,n){for(var r=this._get(t),i=this._get(n),a=r.index,o=i.index;a<=o;a++){var s=P.getPart(this.curves[a],a===r.index?r.time:0,a===i.index?i.time:1);a===r.index&&e.moveTo(s[0],s[1]),e.bezierCurveTo.apply(e,s.slice(2))}}},a.each(P._evaluateMethods,function(e){this[e+`At`]=function(t){var n=this._get(t);return P[e](this.curves[n.index],n.time)}},{})),te=a.extend({initialize:function(e){for(var t=this.points=[],n=e._segments,r=e._closed,i=0,a,o=n.length;i<o;i++){var s=n[i].point;(!a||!a.equals(s))&&t.push(a=s.clone())}r&&(t.unshift(t[t.length-1]),t.push(t[1])),this.closed=r},fit:function(e){var t=this.points,n=t.length,r=null;return n>0&&(r=[new M(t[0])],n>1&&(this.fitCubic(r,e,0,n-1,t[1].subtract(t[0]),t[n-2].subtract(t[n-1])),this.closed&&(r.shift(),r.pop()))),r},fitCubic:function(e,t,n,r,i,a){var o=this.points;if(r-n===1){var s=o[n],c=o[r],l=s.getDistance(c)/3;this.addCurve(e,[s,s.add(i.normalize(l)),c.add(a.normalize(l)),c]);return}for(var u=this.chordLengthParameterize(n,r),d=Math.max(t,t*t),f,p=!0,m=0;m<=4;m++){var h=this.generateBezier(n,r,u,i,a),g=this.findMaxError(n,r,h,u);if(g.error<t&&p){this.addCurve(e,h);return}if(f=g.index,g.error>=d)break;p=this.reparameterize(n,r,u,h),d=g.error}var _=o[f-1].subtract(o[f+1]);this.fitCubic(e,t,n,f,i,_),this.fitCubic(e,t,f,r,_.negate(),a)},addCurve:function(e,t){e[e.length-1].setHandleOut(t[1].subtract(t[0])),e.push(new M(t[3],t[2].subtract(t[3])))},generateBezier:function(e,t,n,r,i){for(var a=1e-12,o=Math.abs,s=this.points,c=s[e],l=s[t],u=[[0,0],[0,0]],d=[0,0],f=0,p=t-e+1;f<p;f++){var m=n[f],h=1-m,g=3*m*h,_=h*h*h,v=g*h,y=g*m,b=m*m*m,x=r.normalize(v),S=i.normalize(y),C=s[e+f].subtract(c.multiply(_+v)).subtract(l.multiply(y+b));u[0][0]+=x.dot(x),u[0][1]+=x.dot(S),u[1][0]=u[0][1],u[1][1]+=S.dot(S),d[0]+=x.dot(C),d[1]+=S.dot(C)}var w=u[0][0]*u[1][1]-u[1][0]*u[0][1],T,E;if(o(w)>a){var D=u[0][0]*d[1]-u[1][0]*d[0];T=(d[0]*u[1][1]-d[1]*u[0][1])/w,E=D/w}else{var O=u[0][0]+u[0][1],k=u[1][0]+u[1][1];T=E=o(O)>a?d[0]/O:o(k)>a?d[1]/k:0}var A=l.getDistance(c),j=a*A,M,N;if(T<j||E<j)T=E=A/3;else{var P=l.subtract(c);M=r.normalize(T),N=i.normalize(E),M.dot(P)-N.dot(P)>A*A&&(T=E=A/3,M=N=null)}return[c,c.add(M||r.normalize(T)),l.add(N||i.normalize(E)),l]},reparameterize:function(e,t,n,r){for(var i=e;i<=t;i++)n[i-e]=this.findRoot(r,this.points[i],n[i-e]);for(var i=1,a=n.length;i<a;i++)if(n[i]<=n[i-1])return!1;return!0},findRoot:function(e,t,n){for(var r=[],i=[],a=0;a<=2;a++)r[a]=e[a+1].subtract(e[a]).multiply(3);for(var a=0;a<=1;a++)i[a]=r[a+1].subtract(r[a]).multiply(2);var o=this.evaluate(3,e,n),s=this.evaluate(2,r,n),c=this.evaluate(1,i,n),l=o.subtract(t),u=s.dot(s)+l.dot(c);return p.isMachineZero(u)?n:n-l.dot(s)/u},evaluate:function(e,t,n){for(var r=t.slice(),i=1;i<=e;i++)for(var a=0;a<=e-i;a++)r[a]=r[a].multiply(1-n).add(r[a+1].multiply(n));return r[0]},chordLengthParameterize:function(e,t){for(var n=[0],r=e+1;r<=t;r++)n[r-e]=n[r-e-1]+this.points[r].getDistance(this.points[r-1]);for(var r=1,i=t-e;r<=i;r++)n[r]/=n[i];return n},findMaxError:function(e,t,n,r){for(var i=Math.floor((t-e+1)/2),a=0,o=e+1;o<t;o++){var s=this.evaluate(3,n,r[o-e]).subtract(this.points[o]),c=s.x*s.x+s.y*s.y;c>=a&&(a=c,i=o)}return{error:a,index:i}}}),ne=w.extend({_class:`TextItem`,_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function(e){this._content=``,this._lines=[];var t=e&&a.isPlainObject(e)&&e.x===n&&e.y===n;this._initialize(t&&e,!t&&h.read(arguments))},_equals:function(e){return this._content===e._content},copyContent:function(e){this.setContent(e._content)},getContent:function(){return this._content},setContent:function(e){this._content=``+e,this._lines=this._content.split(/\r\n|\n|\r/gm),this._changed(521)},isEmpty:function(){return!this._content},getCharacterStyle:`#getStyle`,setCharacterStyle:`#setStyle`,getParagraphStyle:`#getStyle`,setParagraphStyle:`#setStyle`}),re=ne.extend({_class:`PointText`,initialize:function(){ne.apply(this,arguments)},getPoint:function(){var e=this._matrix.getTranslation();return new g(e.x,e.y,this,`setPoint`)},setPoint:function(){var e=h.read(arguments);this.translate(e.subtract(this._matrix.getTranslation()))},_draw:function(e,t,n){if(this._content){this._setStyles(e,t,n);var r=this._lines,i=this._style,a=i.hasFill(),o=i.hasStroke(),s=i.getLeading(),c=e.shadowColor;e.font=i.getFontStyle(),e.textAlign=i.getJustification();for(var l=0,u=r.length;l<u;l++){e.shadowColor=c;var d=r[l];a&&(e.fillText(d,0,0),e.shadowColor=`rgba(0,0,0,0)`),o&&e.strokeText(d,0,0),e.translate(0,s)}}},_getBounds:function(e,t){var n=this._style,r=this._lines,i=r.length,a=n.getJustification(),o=n.getLeading(),s=this.getView().getTextWidth(n.getFontStyle(),r),c=0;a!==`left`&&(c-=s/(a===`center`?2:1));var l=new y(c,i?-.75*o:0,s,i*o);return e?e._transformBounds(l,l):l}}),z=a.extend(new function(){var e={gray:[`gray`],rgb:[`red`,`green`,`blue`],hsb:[`hue`,`saturation`,`brightness`],hsl:[`hue`,`saturation`,`lightness`],gradient:[`gradient`,`origin`,`destination`,`highlight`]},t={},n={transparent:[0,0,0,0]},i;function o(e){var t=e.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})([\da-f]{2})?$/i)||e.match(/^#([\da-f])([\da-f])([\da-f])([\da-f])?$/i),a=`rgb`,o;if(t){var s=t[4]?4:3;o=Array(s);for(var c=0;c<s;c++){var l=t[c+1];o[c]=parseInt(l.length==1?l+l:l,16)/255}}else if(t=e.match(/^(rgb|hsl)a?\((.*)\)$/)){a=t[1],o=t[2].trim().split(/[,\s]+/g);for(var u=a===`hsl`,c=0,d=Math.min(o.length,4);c<d;c++){var f=o[c],l=parseFloat(f);if(u)if(c===0){var p=f.match(/([a-z]*)$/)[1];l*={turn:360,rad:180/Math.PI,grad:.9}[p]||1}else c<3&&(l/=100);else c<3&&(l/=/%$/.test(f)?100:255);o[c]=l}}else{var m=n[e];if(!m)if(r){i||(i=U.getContext(1,1,{willReadFrequently:!0}),i.globalCompositeOperation=`copy`),i.fillStyle=`rgba(0,0,0,0)`,i.fillStyle=e,i.fillRect(0,0,1,1);var h=i.getImageData(0,0,1,1).data;m=n[e]=[h[0]/255,h[1]/255,h[2]/255]}else m=[0,0,0];o=m.slice()}return[a,o]}var s=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],c={"rgb-hsb":function(e,t,n){var r=Math.max(e,t,n),i=r-Math.min(e,t,n);return[i===0?0:(r==e?(t-n)/i+(t<n?6:0):r==t?(n-e)/i+2:(e-t)/i+4)*60,r===0?0:i/r,r]},"hsb-rgb":function(e,t,n){e=(e/60%6+6)%6;var r=Math.floor(e),i=e-r,r=s[r],a=[n,n*(1-t),n*(1-t*i),n*(1-t*(1-i))];return[a[r[0]],a[r[1]],a[r[2]]]},"rgb-hsl":function(e,t,n){var r=Math.max(e,t,n),i=Math.min(e,t,n),a=r-i,o=a===0,s=o?0:(r==e?(t-n)/a+(t<n?6:0):r==t?(n-e)/a+2:(e-t)/a+4)*60,c=(r+i)/2;return[s,o?0:c<.5?a/(r+i):a/(2-r-i),c]},"hsl-rgb":function(e,t,n){if(e=(e/360%1+1)%1,t===0)return[n,n,n];for(var r=[e+1/3,e,e-1/3],i=n<.5?n*(1+t):n+t-n*t,a=2*n-i,o=[],s=0;s<3;s++){var c=r[s];c<0&&(c+=1),c>1&&--c,o[s]=6*c<1?a+(i-a)*6*c:2*c<1?i:3*c<2?a+(i-a)*(2/3-c)*6:a}return o},"rgb-gray":function(e,t,n){return[e*.2989+t*.587+n*.114]},"gray-rgb":function(e){return[e,e,e]},"gray-hsb":function(e){return[0,0,e]},"gray-hsl":function(e){return[0,0,e]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return a.each(e,function(n,r){t[r]=[],a.each(n,function(n,i){var o=a.capitalize(n),s=/^(hue|saturation)$/.test(n),c=t[r][i]=r===`gradient`?n===`gradient`?function(e){var t=this._components[0];return e=ie.read(Array.isArray(e)?e:arguments,0,{readNull:!0}),t!==e&&(t&&t._removeOwner(this),e&&e._addOwner(this)),e}:function(){return h.read(arguments,0,{readNull:n===`highlight`,clone:!0})}:function(e){return e==null||isNaN(e)?0:+e};this[`get`+o]=function(){return this._type===r||s&&/^hs[bl]$/.test(this._type)?this._components[i]:this._convert(r)[i]},this[`set`+o]=function(t){this._type!==r&&!(s&&/^hs[bl]$/.test(this._type))&&(this._components=this._convert(r),this._properties=e[r],this._type=r),this._components[i]=c.call(this,t),this._changed()}},this)},{_class:`Color`,_readIndex:!0,initialize:function n(r){var i=arguments,s=this.__read,c=0,l,u,d,f;Array.isArray(r)&&(i=r,r=i[0]);var p=r!=null&&typeof r;if(p===`string`&&r in e&&(l=r,r=i[1],Array.isArray(r)?(u=r,d=i[2]):(s&&(c=1),i=a.slice(i,1),p=typeof r)),!u){if(f=p===`number`?i:p===`object`&&r.length!=null?r:null,f){l||=f.length>=3?`rgb`:`gray`;var m=e[l].length;d=f[m],s&&(c+=f===arguments?m+(d==null?0:1):1),f.length>m&&(f=a.slice(f,0,m))}else if(p===`string`){var h=o(r);l=h[0],u=h[1],u.length===4&&(d=u[3],u.length--)}else if(p===`object`)if(r.constructor===n){if(l=r._type,u=r._components.slice(),d=r._alpha,l===`gradient`)for(var g=1,_=u.length;g<_;g++){var v=u[g];v&&(u[g]=v.clone())}}else if(r.constructor===ie)l=`gradient`,f=i;else{l=`hue`in r?`lightness`in r?`hsl`:`hsb`:`gradient`in r||`stops`in r||`radial`in r?`gradient`:`gray`in r?`gray`:`rgb`;var y=e[l],b=t[l];this._components=u=[];for(var g=0,_=y.length;g<_;g++){var x=r[y[g]];x==null&&!g&&l===`gradient`&&`stops`in r&&(x={stops:r.stops,radial:r.radial}),x=b[g].call(this,x),x!=null&&(u[g]=x)}d=r.alpha}s&&l&&(c=1)}if(this._type=l||`rgb`,!u){this._components=u=[];for(var b=t[this._type],g=0,_=b.length;g<_;g++){var x=b[g].call(this,f&&f[g]);x!=null&&(u[g]=x)}}return this._components=u,this._properties=e[this._type],this._alpha=d,s&&(this.__read=c),this},set:`#initialize`,_serialize:function(e,t){var n=this.getComponents();return a.serialize(/^(gray|rgb)$/.test(this._type)?n:[this._type].concat(n),e,!0,t)},_changed:function(){this._canvasStyle=null,this._owner&&(this._setter?this._owner[this._setter](this):this._owner._changed(129))},_convert:function(e){var t;return this._type===e?this._components.slice():(t=c[this._type+`-`+e])?t.apply(this,this._components):c[`rgb-`+e].apply(this,c[this._type+`-rgb`].apply(this,this._components))},convert:function(e){return new z(e,this._convert(e),this._alpha)},getType:function(){return this._type},setType:function(t){this._components=this._convert(t),this._properties=e[t],this._type=t},getComponents:function(){var e=this._components.slice();return this._alpha!=null&&e.push(this._alpha),e},getAlpha:function(){return this._alpha==null?1:this._alpha},setAlpha:function(e){this._alpha=e==null?null:Math.min(Math.max(e,0),1),this._changed()},hasAlpha:function(){return this._alpha!=null},equals:function(e){var t=a.isPlainValue(e,!0)?z.read(arguments):e;return t===this||t&&this._class===t._class&&this._type===t._type&&this.getAlpha()===t.getAlpha()&&a.equals(this._components,t._components)||!1},toString:function(){for(var e=this._properties,t=[],n=this._type===`gradient`,r=f.instance,i=0,a=e.length;i<a;i++){var o=this._components[i];o!=null&&t.push(e[i]+`: `+(n?o:r.number(o)))}return this._alpha!=null&&t.push(`alpha: `+r.number(this._alpha)),`{ `+t.join(`, `)+` }`},toCSS:function(e){var t=this._convert(`rgb`),n=e||this._alpha==null?1:this._alpha;function r(e){return Math.round((e<0?0:e>1?1:e)*255)}return t=[r(t[0]),r(t[1]),r(t[2])],n<1&&t.push(n<0?0:n),e?`#`+((1<<24)+(t[0]<<16)+(t[1]<<8)+t[2]).toString(16).slice(1):(t.length==4?`rgba(`:`rgb(`)+t.join(`,`)+`)`},toCanvasStyle:function(e,t){if(this._canvasStyle)return this._canvasStyle;if(this._type!==`gradient`)return this._canvasStyle=this.toCSS();var n=this._components,r=n[0],i=r._stops,a=n[1],o=n[2],s=n[3],c=t&&t.inverted(),l;if(c&&(a=c._transformPoint(a),o=c._transformPoint(o),s&&=c._transformPoint(s)),r._radial){var u=o.getDistance(a);if(s){var d=s.subtract(a);d.getLength()>u&&(s=a.add(d.normalize(u-.1)))}var f=s||a;l=e.createRadialGradient(f.x,f.y,0,a.x,a.y,u)}else l=e.createLinearGradient(a.x,a.y,o.x,o.y);for(var p=0,m=i.length;p<m;p++){var h=i[p],g=h._offset;l.addColorStop(g??p/(m-1),h._color.toCanvasStyle())}return this._canvasStyle=l},transform:function(e){if(this._type===`gradient`){for(var t=this._components,n=1,r=t.length;n<r;n++){var i=t[n];e._transformPoint(i,i,!0)}this._changed()}},statics:{_types:e,random:function(){var e=Math.random;return new z(e(),e(),e())},_setOwner:function(e,t,n){return e&&(e._owner&&t&&e._owner!==t&&(e=e.clone()),!e._owner^!t&&(e._owner=t||null,e._setter=n||null)),e}}})},new function(){return a.each({add:function(e,t){return e+t},subtract:function(e,t){return e-t},multiply:function(e,t){return e*t},divide:function(e,t){return e/t}},function(e,t){this[t]=function(t){t=z.read(arguments);for(var n=this._type,r=this._components,i=t._convert(n),a=0,o=r.length;a<o;a++)i[a]=e(r[a],i[a]);return new z(n,i,this._alpha==null?null:e(this._alpha,t.getAlpha()))}},{})}),ie=a.extend({_class:`Gradient`,initialize:function(e,t){this._id=m.get(),e&&a.isPlainObject(e)&&(this.set(e),e=t=null),this._stops??this.setStops(e||[`white`,`black`]),this._radial??this.setRadial(typeof t==`string`&&t===`radial`||t||!1)},_serialize:function(e,t){return t.add(this,function(){return a.serialize([this._stops,this._radial],e,!0,t)})},_changed:function(){for(var e=0,t=this._owners&&this._owners.length;e<t;e++)this._owners[e]._changed()},_addOwner:function(e){this._owners||=[],this._owners.push(e)},_removeOwner:function(e){var t=this._owners?this._owners.indexOf(e):-1;t!=-1&&(this._owners.splice(t,1),this._owners.length||(this._owners=n))},clone:function(){for(var e=[],t=0,n=this._stops.length;t<n;t++)e[t]=this._stops[t].clone();return new ie(e,this._radial)},getStops:function(){return this._stops},setStops:function(e){if(e.length<2)throw Error(`Gradient stop list needs to contain at least two stops.`);var t=this._stops;if(t)for(var r=0,i=t.length;r<i;r++)t[r]._owner=n;t=this._stops=ae.readList(e,0,{clone:!0});for(var r=0,i=t.length;r<i;r++)t[r]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(e){this._radial=e,this._changed()},equals:function(e){if(e===this)return!0;if(e&&this._class===e._class){var t=this._stops,n=e._stops,r=t.length;if(r===n.length){for(var i=0;i<r;i++)if(!t[i].equals(n[i]))return!1;return!0}}return!1}}),ae=a.extend({_class:`GradientStop`,initialize:function(e,t){var r=e,i=t;typeof e==`object`&&t===n&&(Array.isArray(e)&&typeof e[0]!=`number`?(r=e[0],i=e[1]):(`color`in e||`offset`in e||`rampPoint`in e)&&(r=e.color,i=e.offset||e.rampPoint||0)),this.setColor(r),this.setOffset(i)},clone:function(){return new ae(this._color.clone(),this._offset)},_serialize:function(e,t){var n=this._color,r=this._offset;return a.serialize(r==null?[n]:[n,r],e,!0,t)},_changed:function(){this._owner&&this._owner._changed(129)},getOffset:function(){return this._offset},setOffset:function(e){this._offset=e,this._changed()},getRampPoint:`#getOffset`,setRampPoint:`#setOffset`,getColor:function(){return this._color},setColor:function(){z._setOwner(this._color,null),this._color=z._setOwner(z.read(arguments,0),this,`setColor`),this._changed()},equals:function(e){return e===this||e&&this._class===e._class&&this._color.equals(e._color)&&this._offset==e._offset||!1}}),oe=a.extend(new function(){var e={fillColor:null,fillRule:`nonzero`,strokeColor:null,strokeWidth:1,strokeCap:`butt`,strokeJoin:`miter`,strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new h,selectedColor:null},t=a.set({},e,{fontFamily:`sans-serif`,fontWeight:`normal`,fontSize:12,leading:null,justification:`left`}),r=a.set({},t,{fillColor:new z}),i={strokeWidth:193,strokeCap:193,strokeJoin:193,strokeScaling:201,miterLimit:193,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},o={beans:!0},s={_class:`Style`,beans:!0,initialize:function(n,i,a){this._values={},this._owner=i,this._project=i&&i._project||a||G.project,this._defaults=!i||i instanceof T?t:i instanceof ne?r:e,n&&this.set(n)}};return a.each(t,function(e,t){var r=/Color$/.test(t),c=t===`shadowOffset`,l=a.capitalize(t),u=i[t],d=`set`+l,f=`get`+l;s[d]=function(e){var n=this._owner,i=n&&n._children,a=i&&i.length>0&&!(n instanceof R);if(a)for(var o=0,s=i.length;o<s;o++)i[o]._style[d](e);if((t===`selectedColor`||!a)&&t in this._defaults){var c=this._values[t];c!==e&&(r&&(c&&(z._setOwner(c,null),c._canvasStyle=null),e&&e.constructor===z&&(e=z._setOwner(e,n,a&&d))),this._values[t]=e,n&&n._changed(u||129))}},s[f]=function(e){var i=this._owner,o=i&&i._children,s=o&&o.length>0&&!(i instanceof R),l;if(s&&!e)for(var u=0,p=o.length;u<p;u++){var m=o[u]._style[f]();if(!u)l=m;else if(!a.equals(l,m))return n}else if(t in this._defaults){var l=this._values[t];if(l===n)l=this._defaults[t],l&&l.clone&&(l=l.clone());else{var g=r?z:c?h:null;g&&!(l&&l.constructor===g)&&(this._values[t]=l=g.read([l],0,{readNull:!0,clone:!0}))}}return l&&r&&(l=z._setOwner(l,i,s&&d)),l},o[f]=function(e){return this._style[f](e)},o[d]=function(e){this._style[d](e)}}),a.each({Font:`FontFamily`,WindingRule:`FillRule`},function(e,t){var n=`get`+t,r=`set`+t;s[n]=o[n]=`#get`+e,s[r]=o[r]=`#set`+e}),w.inject(o),s},{set:function(e){var t=e instanceof oe,n=t?e._values:e;if(n){for(var r in n)if(r in this._defaults){var i=n[r];this[r]=i&&t&&i.clone?i.clone():i}}},equals:function(e){function t(e,t,r){var i=e._values,o=t._values,s=t._defaults;for(var c in i){var l=i[c],u=o[c];if(!(r&&c in o)&&!a.equals(l,u===n?s[c]:u))return!1}return!0}return e===this||e&&this._class===e._class&&t(this,e)&&t(e,this,!0)||!1},_dispose:function(){var e=this.getFillColor();e&&(e._canvasStyle=null),e=this.getStrokeColor(),e&&(e._canvasStyle=null),e=this.getShadowColor(),e&&(e._canvasStyle=null)},hasFill:function(){var e=this.getFillColor();return!!e&&e.alpha>0},hasStroke:function(){var e=this.getStrokeColor();return!!e&&e.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var e=this.getShadowColor();return!!e&&e.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var e=this.getFontSize();return this.getFontWeight()+` `+e+(/[a-z]/i.test(e+``)?` `:`px `)+this.getFontFamily()},getFont:`#getFontFamily`,setFont:`#setFontFamily`,getLeading:function e(){var t=e.base.call(this),n=this.getFontSize();return/pt|em|%|px/.test(n)&&(n=this.getView().getPixelSize(n)),t??n*1.2}}),B=new function(){function e(e,t,n,r){for(var i=[``,`webkit`,`moz`,`Moz`,`ms`,`o`],a=t[0].toUpperCase()+t.substring(1),o=0;o<6;o++){var s=i[o],c=s?s+a:t;if(c in e){if(n)e[c]=r;else return e[c];break}}}return{getStyles:function(e){var t=e&&e.nodeType!==9?e.ownerDocument:e,n=t&&t.defaultView;return n&&n.getComputedStyle(e,``)},getBounds:function(e,t){var n=e.ownerDocument,r=n.body,i=n.documentElement,a;try{a=e.getBoundingClientRect()}catch{a={left:0,top:0,width:0,height:0}}var o=a.left-(i.clientLeft||r.clientLeft||0),s=a.top-(i.clientTop||r.clientTop||0);if(!t){var c=n.defaultView;o+=c.pageXOffset||i.scrollLeft||r.scrollLeft,s+=c.pageYOffset||i.scrollTop||r.scrollTop}return new y(o,s,a.width,a.height)},getViewportBounds:function(e){var t=e.ownerDocument,n=t.defaultView,r=t.documentElement;return new y(0,0,n.innerWidth||r.clientWidth,n.innerHeight||r.clientHeight)},getOffset:function(e,t){return B.getBounds(e,t).getPoint()},getSize:function(e){return B.getBounds(e,!0).getSize()},isInvisible:function(e){return B.getSize(e).equals(new _(0,0))},isInView:function(e){return!B.isInvisible(e)&&B.getViewportBounds(e).intersects(B.getBounds(e,!0))},isInserted:function(e){return i.body.contains(e)},getPrefixed:function(t,n){return t&&e(t,n)},setPrefixed:function(t,n,r){if(typeof n==`object`)for(var i in n)e(t,i,!0,n[i]);else e(t,n,!0,r)}}},V={add:function(e,t){if(e)for(var n in t)for(var r=t[n],a=n.split(/[\s,]+/g),o=0,s=a.length;o<s;o++){var c=a[o],l=e===i&&(c===`touchstart`||c===`touchmove`)?{passive:!1}:!1;e.addEventListener(c,r,l)}},remove:function(e,t){if(e)for(var n in t)for(var r=t[n],i=n.split(/[\s,]+/g),a=0,o=i.length;a<o;a++)e.removeEventListener(i[a],r,!1)},getPoint:function(e){var t=e.targetTouches?e.targetTouches.length?e.targetTouches[0]:e.changedTouches[0]:e;return new h(t.pageX||t.clientX+i.documentElement.scrollLeft,t.pageY||t.clientY+i.documentElement.scrollTop)},getTarget:function(e){return e.target||e.srcElement},getRelatedTarget:function(e){return e.relatedTarget||e.toElement},getOffset:function(e,t){return V.getPoint(e).subtract(B.getOffset(t||V.getTarget(e)))}};V.requestAnimationFrame=new function(){var e=B.getPrefixed(r,`requestAnimationFrame`),t=!1,n=[],i;function a(){var r=n;n=[];for(var i=0,o=r.length;i<o;i++)r[i]();t=e&&n.length,t&&e(a)}return function(r){n.push(r),e?t||=(e(a),!0):i||=setInterval(a,1e3/60)}};var H=a.extend(o,{_class:`View`,initialize:function e(t,n){function a(e){return n[e]||parseInt(n.getAttribute(e),10)}function o(){var e=B.getSize(n);return e.isNaN()||e.isZero()?new _(a(`width`),a(`height`)):e}var c;if(r&&n){this._id=n.getAttribute(`id`),this._id??n.setAttribute(`id`,this._id=`paper-view-`+ e._id++),V.add(n,this._viewEvents);var l=`none`;if(B.setPrefixed(n.style,{userDrag:l,userSelect:l,touchCallout:l,contentZooming:l,tapHighlightColor:`rgba(0,0,0,0)`}),s.hasAttribute(n,`resize`)){var u=this;V.add(r,this._windowEvents={resize:function(){u.setViewSize(o())}})}if(c=o(),s.hasAttribute(n,`stats`)&&typeof Stats<`u`){this._stats=new Stats;var d=this._stats.domElement,f=d.style,p=B.getOffset(n);f.position=`absolute`,f.left=p.x+`px`,f.top=p.y+`px`,i.body.appendChild(d)}}else c=new _(n),n=null;this._project=t,this._scope=t._scope,this._element=n,this._pixelRatio||=r&&r.devicePixelRatio||1,this._setElementSize(c.width,c.height),this._viewSize=c,e._views.push(this),e._viewsById[this._id]=this,(this._matrix=new x)._owner=this,e._focused||=this,this._frameItems={},this._frameItemCount=0,this._itemEvents={native:{},virtual:{}},this._autoUpdate=!G.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;H._focused===this&&(H._focused=null),H._views.splice(H._views.indexOf(this),1),delete H._viewsById[this._id];var e=this._project;return e._view===this&&(e._view=null),V.remove(this._element,this._viewEvents),V.remove(r,this._windowEvents),this._element=this._project=null,this.off(`frame`),this._animate=!1,this._frameItems={},!0},_events:a.each(w._itemHandlers.concat([`onResize`,`onKeyDown`,`onKeyUp`]),function(e){this[e]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(e){this._autoUpdate=e,e&&this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var e=this;V.requestAnimationFrame(function(){if(e._requested=!1,e._animate){e.requestUpdate();var t=e._element;(!B.getPrefixed(i,`hidden`)||s.getAttribute(t,`keepalive`)===`true`)&&B.isInView(t)&&e._handleFrame()}e._autoUpdate&&e.update()}),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){G=this._scope;var e=Date.now()/1e3,t=this._last?e-this._last:0;this._last=e,this.emit(`frame`,new a({delta:t,time:this._time+=t,count:this._count++})),this._stats&&this._stats.update()},_animateItem:function(e,t){var n=this._frameItems;t?(n[e._id]={item:e,time:0,count:0},++this._frameItemCount===1&&this.on(`frame`,this._handleFrameItems)):(delete n[e._id],--this._frameItemCount===0&&this.off(`frame`,this._handleFrameItems))},_handleFrameItems:function(e){for(var t in this._frameItems){var n=this._frameItems[t];n.item.emit(`frame`,new a(e,{time:n.time+=e.delta,count:n.count++}))}},_changed:function(){this._project._changed(4097),this._bounds=this._decomposed=n},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return this._pixelRatio*72},getViewSize:function(){var e=this._viewSize;return new v(e.width,e.height,this,`setViewSize`)},setViewSize:function(){var e=_.read(arguments),t=e.subtract(this._viewSize);t.isZero()||(this._setElementSize(e.width,e.height),this._viewSize.set(e),this._changed(),this.emit(`resize`,{size:e,delta:t}),this._autoUpdate&&this.update())},_setElementSize:function(e,t){var n=this._element;n&&(n.width!==e&&(n.width=e),n.height!==t&&(n.height=t))},getBounds:function(){return this._bounds||=this._matrix.inverted()._transformBounds(new y(new h,this._viewSize)),this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return B.isInView(this._element)},isInserted:function(){return B.isInserted(this._element)},getPixelSize:function(e){var t=this._element,n;if(t){var r=t.parentNode,a=i.createElement(`div`);a.style.fontSize=e,r.appendChild(a),n=parseFloat(B.getStyles(a).fontSize),r.removeChild(a)}else n=parseFloat(n);return n},getTextWidth:function(e,t){return 0}},a.each([`rotate`,`scale`,`shear`,`skew`],function(e){var t=e===`rotate`;this[e]=function(){var n=arguments,r=(t?a:h).read(n),i=h.read(n,0,{readNull:!0});return this.transform(new x()[e](r,i||this.getCenter(!0)))}},{_decompose:function(){return this._decomposed||=this._matrix.decompose()},translate:function(){var e=new x;return this.transform(e.translate.apply(e,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var e=h.read(arguments);this.translate(this.getCenter().subtract(e))},getZoom:function(){var e=this._decompose().scaling;return(e.x+e.y)/2},setZoom:function(e){this.transform(new x().scale(e/this.getZoom(),this.getCenter()))},getRotation:function(){return this._decompose().rotation},setRotation:function(e){var t=this.getRotation();t!=null&&e!=null&&this.rotate(e-t)},getScaling:function(){var e=this._decompose().scaling;return new g(e.x,e.y,this,`setScaling`)},setScaling:function(){var e=this.getScaling(),t=h.read(arguments,0,{clone:!0,readNull:!0});e&&t&&this.scale(t.x/e.x,t.y/e.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var e=this._matrix;e.set.apply(e,arguments)},transform:function(e){this._matrix.append(e)},scrollBy:function(){this.translate(h.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(h.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(h.read(arguments))},getEventPoint:function(e){return this.viewToProject(V.getOffset(e,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(e,t){return i&&typeof t==`string`&&(t=i.getElementById(t)),new(r?se:H)(e,t)}}},new function(){if(!r)return;var e,t,n=!1,a=!1;function o(e){var t=V.getTarget(e);return t.getAttribute&&H._viewsById[t.getAttribute(`id`)]}function s(){var e=H._focused;if(!e||!e.isVisible()){for(var n=0,r=H._views.length;n<r;n++)if((e=H._views[n]).isVisible()){H._focused=t=e;break}}}function c(e,t,n){e._handleMouseEvent(`mousemove`,t,n)}var l=r.navigator,u,d,f;l.pointerEnabled||l.msPointerEnabled?(u=`pointerdown MSPointerDown`,d=`pointermove MSPointerMove`,f=`pointerup pointercancel MSPointerUp MSPointerCancel`):(u=`touchstart`,d=`touchmove`,f=`touchend touchcancel`,`ontouchstart`in r&&l.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(u+=` mousedown`,d+=` mousemove`,f+=` mouseup`));var p={},m={mouseout:function(e){var t=H._focused,n=V.getRelatedTarget(e);if(t&&(!n||n.nodeName===`HTML`)){var r=V.getOffset(e,t._element),i=r.x,a=Math.abs,o=a(i),s=o-(1<<25);r.x=a(s)<o?s*(i<0?-1:1):i,c(t,e,t.viewToProject(r))}},scroll:s};p[u]=function(e){var t=H._focused=o(e);n||(n=!0,t._handleMouseEvent(`mousedown`,e))},m[d]=function(n){var r=H._focused;if(!a){var i=o(n);i?r!==i&&(r&&c(r,n),e||=r,r=H._focused=t=i):t&&t===r&&(e&&!e.isInserted()&&(e=null),r=H._focused=e,e=null,s())}r&&c(r,n)},m[u]=function(){a=!0},m[f]=function(e){var t=H._focused;t&&n&&t._handleMouseEvent(`mouseup`,e),a=n=!1},V.add(i,m),V.add(r,{load:s});var h=!1,g=!1,_={doubleclick:`click`,mousedrag:`mousemove`},v=!1,y,b,x,S,C,w,T,E;function D(e,t,n,r,i,a,o){var s=!1,c;function l(e,n){if(e.responds(n)){if(c||=new de(n,r,i,t||e,a?i.subtract(a):null),e.emit(n,c)&&(h=!0,c.prevented&&(g=!0),c.stopped))return s=!0}else{var o=_[n];if(o)return l(e,o)}}for(;e&&e!==o&&!l(e,n);)e=e._parent;return s}function O(e,t,n,r,i,a){return e._project.removeOn(n),g=h=!1,C&&D(C,null,n,r,i,a)||t&&t!==C&&!t.isDescendant(C)&&D(t,null,n===`mousedrag`?`mousemove`:n,r,i,a,C)||D(e,C||t||e,n,r,i,a)}var k={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:p,_handleMouseEvent:function(e,t,r){var i=this._itemEvents,a=i.native[e],o=e===`mousemove`,s=this._scope.tool,c=this;function l(e){return i.virtual[e]||c.responds(e)||s&&s.responds(e)}o&&n&&l(`mousedrag`)&&(e=`mousedrag`),r||=this.getEventPoint(t);var u=this.getBounds().contains(r),d=a&&u&&c._project.hitTest(r,{tolerance:0,fill:!0,stroke:!0}),f=d&&d.item||null,p=!1,m={};if(m[e.substr(5)]=!0,a&&f!==S&&(S&&D(S,null,`mouseleave`,t,r),f&&D(f,null,`mouseenter`,t,r),S=f),v^u&&(D(this,null,u?`mouseenter`:`mouseleave`,t,r),p=!0),(u||m.drag)&&!r.equals(b)&&(O(this,f,o?e:`mousemove`,t,r,b),p=!0),v=u,m.down&&u||m.up&&y){if(O(this,f,e,t,r,y),m.down){if(E=f===w&&Date.now()-T<300,x=w=f,!g&&f){for(var _=f;_&&!_.responds(`mousedrag`);)_=_._parent;_&&(C=f)}y=r}else m.up&&(!g&&f===x&&(T=Date.now(),O(this,f,E?`doubleclick`:`click`,t,r,y),E=!1),x=C=null);v=!1,p=!0}b=r,p&&s&&(h=s._handleMouseEvent(e,t,r,m)||h),t.cancelable!==!1&&(h&&!m.move||m.down&&l(`mouseup`))&&t.preventDefault()},_handleKeyEvent:function(e,t,n,r){var i=this._scope,a=i.tool,o;function s(a){a.responds(e)&&(G=i,a.emit(e,o||=new le(e,t,n,r)))}this.isVisible()&&(s(this),a&&a.responds(e)&&s(a))},_countItemEvent:function(e,t){var n=this._itemEvents,r=n.native,i=n.virtual;for(var a in k)r[a]=(r[a]||0)+(k[a][e]||0)*t;i[e]=(i[e]||0)+t},statics:{updateFocus:s,_resetState:function(){n=a=h=v=!1,e=t=y=b=x=S=C=w=T=E=null}}}}),se=H.extend({_class:`CanvasView`,initialize:function(e,t){if(!(t instanceof r.HTMLCanvasElement)){var n=_.read(arguments,1);if(n.isZero())throw Error(`Cannot create CanvasView with the provided argument: `+a.slice(arguments,1));t=U.getCanvas(n)}var i=this._context=t.getContext(`2d`);i.save(),this._pixelRatio=1,/^off|false$/.test(s.getAttribute(t,`hidpi`))||(this._pixelRatio=(r.devicePixelRatio||1)/(B.getPrefixed(i,`backingStorePixelRatio`)||1)),H.call(this,e,t),this._needsUpdate=!0},remove:function e(){return this._context.restore(),e.base.call(this)},_setElementSize:function e(t,n){var r=this._pixelRatio;if(e.base.call(this,t*r,n*r),r!==1){var i=this._element,a=this._context;if(!s.hasAttribute(i,`resize`)){var o=i.style;o.width=t+`px`,o.height=n+`px`}a.restore(),a.save(),a.scale(r,r)}},getContext:function(){return this._context},getPixelSize:function e(t){var n=G.agent,r;if(n&&n.firefox)r=e.base.call(this,t);else{var i=this._context,a=i.font;i.font=t+` serif`,r=parseFloat(i.font),i.font=a}return r},getTextWidth:function(e,t){var n=this._context,r=n.font,i=0;n.font=e;for(var a=0,o=t.length;a<o;a++)i=Math.max(i,n.measureText(t[a]).width);return n.font=r,i},update:function(){if(!this._needsUpdate)return!1;var e=this._project,t=this._context,n=this._viewSize;return t.clearRect(0,0,n.width+1,n.height+1),e&&e.draw(t,this._matrix,this._pixelRatio),this._needsUpdate=!1,!0}}),ce=a.extend({_class:`Event`,initialize:function(e){this.event=e,this.type=e&&e.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return ue.modifiers}}),le=ce.extend({_class:`KeyEvent`,initialize:function(e,t,n,r){this.type=e,this.event=t,this.key=n,this.character=r},toString:function(){return`{ type: '`+this.type+`', key: '`+this.key+`', character: '`+this.character+`', modifiers: `+this.getModifiers()+` }`}}),ue=new function(){var e={"	":`tab`," ":`space`,"\b":`backspace`,"":`delete`,Spacebar:`space`,Del:`delete`,Win:`meta`,Esc:`escape`},t={tab:`	`,space:` `,enter:`\r`},o={},s={},c,l,u=new a({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var e=G&&G.agent;return e&&e.mac?this.meta:this.control}}});function d(t){var r=t.key||t.keyIdentifier;return r=/^U\+/.test(r)?String.fromCharCode(parseInt(r.substr(2),16)):/^Arrow[A-Z]/.test(r)?r.substr(5):r===`Unidentified`||r===n?String.fromCharCode(t.keyCode):r,e[r]||(r.length>1?a.hyphenate(r):r.toLowerCase())}function f(e,t,n,r){var i=H._focused,l;if(o[t]=e,e?s[t]=n:delete s[t],t.length>1&&(l=a.camelize(t))in u){u[l]=e;var d=G&&G.agent;if(l===`meta`&&d&&d.mac)if(e)c={};else{for(var p in c)p in s&&f(!1,p,c[p],r);c=null}}else e&&c&&(c[t]=n);i&&i._handleKeyEvent(e?`keydown`:`keyup`,r,t,n)}return V.add(i,{keydown:function(e){var n=d(e),r=G&&G.agent;n.length>1||r&&r.chrome&&(e.altKey||r.mac&&e.metaKey||!r.mac&&e.ctrlKey)?f(!0,n,t[n]||(n.length>1?``:n),e):l=n},keypress:function(e){if(l){var t=d(e),n=e.charCode,r=n>=32?String.fromCharCode(n):t.length>1?``:t;t!==l&&(t=r.toLowerCase()),f(!0,t,r,e),l=null}},keyup:function(e){var t=d(e);t in s&&f(!1,t,s[t],e)}}),V.add(r,{blur:function(e){for(var t in s)f(!1,t,s[t],e)}}),{modifiers:u,isDown:function(e){return!!o[e]}}},de=ce.extend({_class:`MouseEvent`,initialize:function(e,t,n,r,i){this.type=e,this.event=t,this.point=n,this.target=r,this.delta=i},toString:function(){return`{ type: '`+this.type+`', point: `+this.point+`, target: `+this.target+(this.delta?`, delta: `+this.delta:``)+`, modifiers: `+this.getModifiers()+` }`}}),fe=ce.extend({_class:`ToolEvent`,_item:null,initialize:function(e,t,n){this.tool=e,this.type=t,this.event=n},_choosePoint:function(e,t){return e||(t?t.clone():null)},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(e){this._point=e},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(e){this._lastPoint=e},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(e){this._downPoint=e},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(e){this._middlePoint=e},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(e){this._delta=e},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?`_downCount`:`_moveCount`]},setCount:function(e){this.tool[/^mouse(down|up)$/.test(this.type)?`downCount`:`count`]=e},getItem:function(){if(!this._item){var e=this.tool._scope.project.hitTest(this.getPoint());if(e){for(var t=e.item,n=t._parent;/^(Group|CompoundPath)$/.test(n._class);)t=n,n=n._parent;this._item=t}}return this._item},setItem:function(e){this._item=e},toString:function(){return`{ type: `+this.type+`, point: `+this.getPoint()+`, count: `+this.getCount()+`, modifiers: `+this.getModifiers()+` }`}}),pe=c.extend({_class:`Tool`,_list:`tools`,_reference:`tool`,_events:[`onMouseDown`,`onMouseUp`,`onMouseDrag`,`onMouseMove`,`onActivate`,`onDeactivate`,`onEditOptions`,`onKeyDown`,`onKeyUp`],initialize:function(e){c.call(this),this._moveCount=-1,this._downCount=-1,this.set(e)},getMinDistance:function(){return this._minDistance},setMinDistance:function(e){this._minDistance=e,e!=null&&this._maxDistance!=null&&e>this._maxDistance&&(this._maxDistance=e)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(e){this._maxDistance=e,this._minDistance!=null&&e!=null&&e<this._minDistance&&(this._minDistance=e)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(e){this._minDistance=this._maxDistance=e},_handleMouseEvent:function(e,t,n,r){G=this._scope,r.drag&&!this.responds(e)&&(e=`mousemove`);var i=r.move||r.drag,a=this.responds(e),o=!1,s=this;function c(e,t){var a=n,o=i?s._point:s._downPoint||a;if(i){if(s._moveCount>=0&&a.equals(o))return!1;if(o&&(e!=null||t!=null)){var c=a.subtract(o),l=c.getLength();if(l<(e||0))return!1;t&&(a=o.add(c.normalize(Math.min(l,t))))}s._moveCount++}return s._point=a,s._lastPoint=o||a,r.down&&(s._moveCount=-1,s._downPoint=a,s._downCount++),!0}function l(){a&&(o=s.emit(e,new fe(s,e,t))||o)}if(r.down)c(),l();else if(r.up)c(null,this._maxDistance),l();else if(a)for(;c(this._minDistance,this._maxDistance);)l();return o}}),me=a.extend(o,{_class:`Tween`,statics:{easings:new a({linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:-1+2*(2-e)*e},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}})},initialize:function e(t,n,r,i,a,o){this.object=t;var s=typeof a,c=s===`function`;this.type=c?s:s===`string`?a:`linear`,this.easing=c?a:e.easings[this.type],this.duration=i,this.running=!1,this._then=null,this._startTime=null;var l=n||r;this._keys=l?Object.keys(l):[],this._parsedKeys=this._parseKeys(this._keys),this._from=l&&this._getState(n),this._to=l&&this._getState(r),o!==!1&&this.start()},then:function(e){return this._then=e,this},start:function(){return this._startTime=null,this.running=!0,this},stop:function(){return this.running=!1,this},update:function(e){if(this.running){e>=1&&(e=1,this.running=!1);for(var t=this.easing(e),n=this._keys,r=function(n){return typeof n==`function`?n(t,e):n},i=0,o=n&&n.length;i<o;i++){var s=n[i],c=r(this._from[s]),l=r(this._to[s]),u=c&&l&&c.__add&&l.__add?l.__subtract(c).__multiply(t).__add(c):(l-c)*t+c;this._setProperty(this._parsedKeys[s],u)}this.responds(`update`)&&this.emit(`update`,new a({progress:e,factor:t})),!this.running&&this._then&&this._then(this.object)}return this},_events:{onUpdate:{}},_handleFrame:function(e){var t=this._startTime,n=t?(e-t)/this.duration:0;t||(this._startTime=e),this.update(n)},_getState:function(e){for(var t=this._keys,n={},r=0,i=t.length;r<i;r++){var a=t[r],o=this._parsedKeys[a],s=this._getProperty(o),c;if(e){var l=this._resolveValue(s,e[a]);this._setProperty(o,l),c=this._getProperty(o),c=c&&c.clone?c.clone():c,this._setProperty(o,s)}else c=s&&s.clone?s.clone():s;n[a]=c}return n},_resolveValue:function(e,t){if(t){if(Array.isArray(t)&&t.length===2){var n=t[0];return n&&n.match&&n.match(/^[+\-\*\/]=/)?this._calculate(e,n[0],t[1]):t}else if(typeof t==`string`){var r=t.match(/^[+\-*/]=(.*)/);if(r){var i=JSON.parse(r[1].replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:/g,`"$2": `));return this._calculate(e,t[0],i)}}}return t},_calculate:function(e,t,n){return G.PaperScript.calculateBinary(e,t,n)},_parseKeys:function(e){for(var t={},n=0,r=e.length;n<r;n++){var i=e[n];t[i]=i.replace(/\.([^.]*)/g,`/$1`).replace(/\[['"]?([^'"\]]*)['"]?\]/g,`/$1`).split(`/`)}return t},_getProperty:function(e,t){for(var n=this.object,r=0,i=e.length-(t||0);r<i&&n;r++)n=n[e[r]];return n},_setProperty:function(e,t){var n=this._getProperty(e,1);n&&(n[e[e.length-1]]=t)}}),he={request:function(t){var n=new e.XMLHttpRequest;return n.open((t.method||`get`).toUpperCase(),t.url,a.pick(t.async,!0)),t.mimeType&&n.overrideMimeType(t.mimeType),n.onload=function(){var e=n.status;e===0||e===200?t.onLoad&&t.onLoad.call(n,n.responseText):n.onerror()},n.onerror=function(){var e=n.status,r=`Could not load "`+t.url+`" (Status: `+e+`)`;if(t.onError)t.onError(r,e);else throw Error(r)},n.send(null)}},U=a.exports.CanvasProvider={canvases:[],getCanvas:function(e,t,n){if(!r)return null;var a,o=!0;typeof e==`object`&&(t=e.height,e=e.width),this.canvases.length?a=this.canvases.pop():(a=i.createElement(`canvas`),o=!1);var s=a.getContext(`2d`,n||{});if(!s)throw Error(`Canvas `+a+` is unable to provide a 2D context.`);return a.width===e&&a.height===t?o&&s.clearRect(0,0,e+1,t+1):(a.width=e,a.height=t),s.save(),a},getContext:function(e,t,n){var r=this.getCanvas(e,t,n);return r?r.getContext(`2d`,n||{}):null},release:function(e){var t=e&&e.canvas?e.canvas:e;t&&t.getContext&&(t.getContext(`2d`).restore(),this.canvases.push(t))}},ge=new function(){var e=Math.min,t=Math.max,n=Math.abs,r,i,o,s,c,l,u,d,f,p,m;function h(e,t,n){return .2989*e+.587*t+.114*n}function g(n,r,i,a){var o=a-h(n,r,i);f=n+o,p=r+o,m=i+o;var a=h(f,p,m),s=e(f,p,m),c=t(f,p,m);if(s<0){var l=a-s;f=a+(f-a)*a/l,p=a+(p-a)*a/l,m=a+(m-a)*a/l}if(c>255){var u=255-a,d=c-a;f=a+(f-a)*u/d,p=a+(p-a)*u/d,m=a+(m-a)*u/d}}function _(n,r,i){return t(n,r,i)-e(n,r,i)}function v(n,r,i,a){var o=[n,r,i],s=t(n,r,i),c=e(n,r,i),l;c=c===n?0:c===r?1:2,s=s===n?0:s===r?1:2,l=e(c,s)===0?t(c,s)===1?2:1:0,o[s]>o[c]?(o[l]=(o[l]-o[c])*a/(o[s]-o[c]),o[s]=a):o[l]=o[s]=0,o[c]=0,f=o[0],p=o[1],m=o[2]}var y={multiply:function(){f=c*r/255,p=l*i/255,m=u*o/255},screen:function(){f=c+r-c*r/255,p=l+i-l*i/255,m=u+o-u*o/255},overlay:function(){f=c<128?2*c*r/255:255-2*(255-c)*(255-r)/255,p=l<128?2*l*i/255:255-2*(255-l)*(255-i)/255,m=u<128?2*u*o/255:255-2*(255-u)*(255-o)/255},"soft-light":function(){var e=r*c/255;f=e+c*(255-(255-c)*(255-r)/255-e)/255,e=i*l/255,p=e+l*(255-(255-l)*(255-i)/255-e)/255,e=o*u/255,m=e+u*(255-(255-u)*(255-o)/255-e)/255},"hard-light":function(){f=r<128?2*r*c/255:255-2*(255-r)*(255-c)/255,p=i<128?2*i*l/255:255-2*(255-i)*(255-l)/255,m=o<128?2*o*u/255:255-2*(255-o)*(255-u)/255},"color-dodge":function(){f=c===0?0:r===255?255:e(255,255*c/(255-r)),p=l===0?0:i===255?255:e(255,255*l/(255-i)),m=u===0?0:o===255?255:e(255,255*u/(255-o))},"color-burn":function(){f=c===255?255:r===0?0:t(0,255-(255-c)*255/r),p=l===255?255:i===0?0:t(0,255-(255-l)*255/i),m=u===255?255:o===0?0:t(0,255-(255-u)*255/o)},darken:function(){f=c<r?c:r,p=l<i?l:i,m=u<o?u:o},lighten:function(){f=c>r?c:r,p=l>i?l:i,m=u>o?u:o},difference:function(){f=c-r,f<0&&(f=-f),p=l-i,p<0&&(p=-p),m=u-o,m<0&&(m=-m)},exclusion:function(){f=c+r*(255-c-c)/255,p=l+i*(255-l-l)/255,m=u+o*(255-u-u)/255},hue:function(){v(r,i,o,_(c,l,u)),g(f,p,m,h(c,l,u))},saturation:function(){v(c,l,u,_(r,i,o)),g(f,p,m,h(c,l,u))},luminosity:function(){g(c,l,u,h(r,i,o))},color:function(){g(r,i,o,h(c,l,u))},add:function(){f=e(c+r,255),p=e(l+i,255),m=e(u+o,255)},subtract:function(){f=t(c-r,0),p=t(l-i,0),m=t(u-o,0)},average:function(){f=(c+r)/2,p=(l+i)/2,m=(u+o)/2},negation:function(){f=255-n(255-r-c),p=255-n(255-i-l),m=255-n(255-o-u)}},b=this.nativeModes=a.each([`source-over`,`source-in`,`source-out`,`source-atop`,`destination-over`,`destination-in`,`destination-out`,`destination-atop`,`lighter`,`darker`,`copy`,`xor`],function(e){this[e]=!0},{}),x=U.getContext(1,1,{willReadFrequently:!0});x&&(a.each(y,function(e,t){var n=t===`darken`,r=!1;x.save();try{x.fillStyle=n?`#300`:`#a00`,x.fillRect(0,0,1,1),x.globalCompositeOperation=t,x.globalCompositeOperation===t&&(x.fillStyle=n?`#a00`:`#300`,x.fillRect(0,0,1,1),r=x.getImageData(0,0,1,1).data[0]===n?51:170)}catch{}x.restore(),b[t]=r}),U.release(x)),this.process=function(e,t,n,a,h){var g=t.canvas,_=e===`normal`;if(_||b[e])n.save(),n.setTransform(1,0,0,1,0,0),n.globalAlpha=a,_||(n.globalCompositeOperation=e),n.drawImage(g,h.x,h.y),n.restore();else{var v=y[e];if(!v)return;for(var x=n.getImageData(h.x,h.y,g.width,g.height),S=x.data,C=t.getImageData(0,0,g.width,g.height).data,w=0,T=S.length;w<T;w+=4){r=C[w],c=S[w],i=C[w+1],l=S[w+1],o=C[w+2],u=S[w+2],s=C[w+3],d=S[w+3],v();var E=s*a/255,D=1-E;S[w]=E*f+D*c,S[w+1]=E*p+D*l,S[w+2]=E*m+D*u,S[w+3]=s*a+D*d}n.putImageData(x,h.x,h.y)}}},W=new function(){var e=`http://www.w3.org/2000/svg`,t=`http://www.w3.org/2000/xmlns`,n=`http://www.w3.org/1999/xlink`,r={href:n,xlink:t,xmlns:t+`/`,"xmlns:xlink":t+`/`};function a(t,n,r){return s(i.createElementNS(e,t),n,r)}function o(e,t){var n=r[t],i=n?e.getAttributeNS(n,t):e.getAttribute(t);return i===`null`?null:i}function s(e,t,n){for(var i in t){var a=t[i],o=r[i];typeof a==`number`&&n&&(a=n.number(a)),o?e.setAttributeNS(o,i,a):e.setAttribute(i,a)}return e}return{svg:e,xmlns:t,xlink:n,create:a,get:o,set:s}},_e=a.each({fillColor:[`fill`,`color`],fillRule:[`fill-rule`,`string`],strokeColor:[`stroke`,`color`],strokeWidth:[`stroke-width`,`number`],strokeCap:[`stroke-linecap`,`string`],strokeJoin:[`stroke-linejoin`,`string`],strokeScaling:[`vector-effect`,`lookup`,{true:`none`,false:`non-scaling-stroke`},function(e,t){return!t&&(e instanceof I||e instanceof D||e instanceof ne)}],miterLimit:[`stroke-miterlimit`,`number`],dashArray:[`stroke-dasharray`,`array`],dashOffset:[`stroke-dashoffset`,`number`],fontFamily:[`font-family`,`string`],fontWeight:[`font-weight`,`string`],fontSize:[`font-size`,`number`],justification:[`text-anchor`,`lookup`,{left:`start`,center:`middle`,right:`end`}],opacity:[`opacity`,`number`],blendMode:[`mix-blend-mode`,`style`]},function(e,t){var n=a.capitalize(t),r=e[2];this[t]={type:e[1],property:t,attribute:e[0],toSVG:r,fromSVG:r&&a.each(r,function(e,t){this[e]=t},{}),exportFilter:e[3],get:`get`+n,set:`set`+n}},{});new function(){var t;function n(e,n,r){var i=new a,o=e.getTranslation();if(n){var s;e.isInvertible()?(e=e._shiftless(),s=e._inverseTransform(o),o=null):s=new h,i[r?`cx`:`x`]=s.x,i[r?`cy`:`y`]=s.y}if(!e.isIdentity()){var c=e.decompose();if(c){var l=[],u=c.rotation,d=c.scaling,f=c.skewing;o&&!o.isZero()&&l.push(`translate(`+t.point(o)+`)`),u&&l.push(`rotate(`+t.number(u)+`)`),(!p.isZero(d.x-1)||!p.isZero(d.y-1))&&l.push(`scale(`+t.point(d)+`)`),f.x&&l.push(`skewX(`+t.number(f.x)+`)`),f.y&&l.push(`skewY(`+t.number(f.y)+`)`),i.transform=l.join(` `)}else i.transform=`matrix(`+e.getValues().join(`,`)+`)`}return i}function r(e,r){for(var i=n(e._matrix),a=e._children,o=W.create(`g`,i,t),s=0,c=a.length;s<c;s++){var l=a[s],u=E(l,r);if(u)if(l.isClipMask()){var d=W.create(`clipPath`);d.appendChild(u),S(l,d,`clip`),W.set(o,{"clip-path":`url(#`+d.id+`)`})}else o.appendChild(u)}return o}function i(e,r){var i=n(e._matrix,!0),a=e.getSize(),o=e.getImage();return i.x-=a.width/2,i.y-=a.height/2,i.width=a.width,i.height=a.height,i.href=r.embedImages==0&&o&&o.src||e.toDataURL(),W.create(`image`,i,t)}function o(e,r){var i=r.matchShapes;if(i){var a=e.toShape(!1);if(a)return s(a,r)}var o=e._segments,c=o.length,l,u=n(e._matrix);if(i&&c>=2&&!e.hasHandles())if(c>2){l=e._closed?`polygon`:`polyline`;for(var d=[],f=0;f<c;f++)d.push(t.point(o[f]._point));u.points=d.join(` `)}else{l=`line`;var p=o[0]._point,m=o[1]._point;u.set({x1:p.x,y1:p.y,x2:m.x,y2:m.y})}else l=`path`,u.d=e.getPathData(null,r.precision);return W.create(l,u,t)}function s(e){var r=e._type,i=e._radius,a=n(e._matrix,!0,r!==`rectangle`);if(r===`rectangle`){r=`rect`;var o=e._size,s=o.width,c=o.height;a.x-=s/2,a.y-=c/2,a.width=s,a.height=c,i.isZero()&&(i=null)}return i&&(r===`circle`?a.r=i:(a.rx=i.width,a.ry=i.height)),W.create(r,a,t)}function c(e,r){var i=n(e._matrix),a=e.getPathData(null,r.precision);return a&&(i.d=a),W.create(`path`,i,t)}function l(e,r){var i=n(e._matrix,!0),a=e._definition,o=b(a,`symbol`),s=a._item,c=s.getStrokeBounds();return o||(o=W.create(`symbol`,{viewBox:t.rectangle(c)}),o.appendChild(E(s,r)),S(a,o,`symbol`)),i.href=`#`+o.id,i.x+=c.x,i.y+=c.y,i.width=c.width,i.height=c.height,i.overflow=`visible`,W.create(`use`,i,t)}function u(e){var n=b(e,`color`);if(!n){var r=e.getGradient(),i=r._radial,a=e.getOrigin(),o=e.getDestination(),s;if(i){s={cx:a.x,cy:a.y,r:a.getDistance(o)};var c=e.getHighlight();c&&(s.fx=c.x,s.fy=c.y)}else s={x1:a.x,y1:a.y,x2:o.x,y2:o.y};s.gradientUnits=`userSpaceOnUse`,n=W.create((i?`radial`:`linear`)+`Gradient`,s,t);for(var l=r._stops,u=0,d=l.length;u<d;u++){var f=l[u],p=f._color,m=p.getAlpha();s={offset:f._offset??u/(d-1)},p&&(s[`stop-color`]=p.toCSS(!0)),m<1&&(s[`stop-opacity`]=m),n.appendChild(W.create(`stop`,s,t))}S(e,n,`color`)}return`url(#`+n.id+`)`}function d(e){var r=W.create(`text`,n(e._matrix,!0),t);return r.textContent=e._content,r}var g={Group:r,Layer:r,Raster:i,Path:o,Shape:s,CompoundPath:c,SymbolItem:l,PointText:d};function _(e,n,r,i){var o={},s=!i&&e.getParent(),c=[];return e._name!=null&&(o.id=e._name),a.each(_e,function(t){var n=t.get,i=t.type,l=e[n]();if(t.exportFilter?t.exportFilter(e,l):r.reduceAttributes==0||!s||!a.equals(s[n](),l)){if(i===`color`&&l!=null){var d=l.getAlpha();d<1&&(o[t.attribute+`-opacity`]=d)}i===`style`?c.push(t.attribute+`: `+l):o[t.attribute]=l==null?`none`:i===`color`?l.gradient?u(l,e):l.toCSS(!0):i===`array`?l.join(`,`):i===`lookup`?t.toSVG[l]:l}}),c.length&&(o.style=c.join(`;`)),o.opacity===1&&delete o.opacity,e._visible||(o.visibility=`hidden`),W.set(n,o,t)}var v;function b(e,t){return v||={ids:{},svgs:{}},e&&v.svgs[t+`-`+(e._id||e.__id||(e.__id=m.get(`svg`)))]}function S(e,t,n){v||b();var r=v.ids[n]=(v.ids[n]||0)+1;t.id=n+`-`+r,v.svgs[n+`-`+(e._id||e.__id)]=t}function T(t,n){var r=t,i=null;if(v){for(var a in r=t.nodeName.toLowerCase()===`svg`&&t,v.svgs)i||=(r||(r=W.create(`svg`),r.appendChild(t)),r.insertBefore(W.create(`defs`),r.firstChild)),i.appendChild(v.svgs[a]);v=null}return n.asString?new e.XMLSerializer().serializeToString(r):r}function E(e,t,n){var r=g[e._class],i=r&&r(e,t);if(i){var a=t.onExport;a&&(i=a(e,i,t)||i);var o=JSON.stringify(e._data);o&&o!==`{}`&&o!==`null`&&i.setAttribute(`data-paper-data`,o)}return i&&_(e,i,t,n)}function D(e){return e||={},t=new f(e.precision),e}w.inject({exportSVG:function(e){return e=D(e),T(E(this,e,!0),e)}}),C.inject({exportSVG:function(e){e=D(e);var r=this._children,i=this.getView(),o=a.pick(e.bounds,`view`),s=e.matrix||o===`view`&&i._matrix,c=s&&x.read([s]),l=o===`view`?new y([0,0],i.getViewSize()):o===`content`?w._getBounds(r,c,{stroke:!0}).rect:y.read([o],0,{readNull:!0}),u={version:`1.1`,xmlns:W.svg,"xmlns:xlink":W.xlink};l&&(u.width=l.width,u.height=l.height,(l.x||l.x===0||l.y||l.y===0)&&(u.viewBox=t.rectangle(l)));var d=W.create(`svg`,u,t),f=d;c&&!c.isIdentity()&&(f=d.appendChild(W.create(`g`,n(c),t)));for(var p=0,m=r.length;p<m;p++)f.appendChild(E(r[p],e,!0));return T(d,e)}})},new function(){var t={},o;function s(e,t,n,r,i,a){var s=W.get(e,t)||a,c=s==null?r?null:n?``:0:n?s:parseFloat(s);return/%\s*$/.test(s)?c/100*(i?1:o[/x|^width/.test(t)?`width`:`height`]):c}function c(e,t,n,r,i,a,o){return t=s(e,t||`x`,!1,r,i,a),n=s(e,n||`y`,!1,r,i,o),r&&(t==null||n==null)?null:new h(t,n)}function l(e,t,n,r,i){return t=s(e,t||`width`,!1,r,i),n=s(e,n||`height`,!1,r,i),r&&(t==null||n==null)?null:new _(t,n)}function u(e,t,n){return e===`none`?null:t===`number`?parseFloat(e):t===`array`?e?e.split(/[\s,]+/g).map(parseFloat):[]:t===`color`?j(e)||e:t===`lookup`?n[e]:e}function d(e,t,n,r){var i=e.childNodes,a=t===`clippath`,o=t===`defs`,s=new T,c=s._project,l=c._currentStyle,u=[];if(!a&&!o&&(s=k(s,e,r),c._currentStyle=s._style.clone()),r)for(var d=e.querySelectorAll(`defs`),f=0,p=d.length;f<p;f++)M(d[f],n,!1);for(var f=0,p=i.length;f<p;f++){var m=i[f],h;m.nodeType===1&&!/^defs$/i.test(m.nodeName)&&(h=M(m,n,!1))&&!(h instanceof A)&&u.push(h)}return s.addChildren(u),a&&(s=k(s.reduce(),e,r)),c._currentStyle=l,(a||o)&&(s.remove(),s=null),s}function f(e,t){for(var n=e.getAttribute(`points`).match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),r=[],i=0,a=n.length;i<a;i+=2)r.push(new h(parseFloat(n[i]),parseFloat(n[i+1])));var o=new L(r);return t===`polygon`&&o.closePath(),o}function p(e){return I.create(e.getAttribute(`d`))}function m(e,n){var r=(s(e,`href`,!0)||``).substring(1),i=n===`radialgradient`,a;if(r)a=t[r].getGradient(),a._radial^i&&(a=a.clone(),a._radial=i);else{for(var o=e.childNodes,l=[],u=0,d=o.length;u<d;u++){var f=o[u];f.nodeType===1&&l.push(k(new ae,f))}a=new ie(l,i)}var p,m,h,g=s(e,`gradientUnits`,!0)!==`userSpaceOnUse`;i?(p=c(e,`cx`,`cy`,!1,g,`50%`,`50%`),m=p.add(s(e,`r`,!1,!1,g,`50%`),0),h=c(e,`fx`,`fy`,!0,g)):(p=c(e,`x1`,`y1`,!1,g,`0%`,`0%`),m=c(e,`x2`,`y2`,!1,g,`100%`,`0%`));var _=k(new z(a,p,m,h),e);return _._scaleToBounds=g,null}var g={"#document":function(e,t,n,r){for(var i=e.childNodes,a=0,o=i.length;a<o;a++){var s=i[a];if(s.nodeType===1)return M(s,n,r)}},g:d,svg:d,clippath:d,polygon:f,polyline:f,path:p,lineargradient:m,radialgradient:m,image:function(e){var t=new O(s(e,`href`,!0));return t.on(`load`,function(){var t=l(e);this.setSize(t);var n=c(e).add(t.divide(2));this._matrix.append(new x().translate(n))}),t},symbol:function(e,t,n,r){return new A(d(e,t,n,r),!0)},defs:d,use:function(e){var n=(s(e,`href`,!0)||``).substring(1),r=t[n],i=c(e);return r?r instanceof A?r.place(i):r.clone().translate(i):null},circle:function(e){return new D.Circle(c(e,`cx`,`cy`),s(e,`r`))},ellipse:function(e){return new D.Ellipse({center:c(e,`cx`,`cy`),radius:l(e,`rx`,`ry`)})},rect:function(e){return new D.Rectangle(new y(c(e),l(e)),l(e,`rx`,`ry`))},line:function(e){return new L.Line(c(e,`x1`,`y1`),c(e,`x2`,`y2`))},text:function(e){var t=new re(c(e).add(c(e,`dx`,`dy`)));return t.setContent(e.textContent.trim()||``),t},switch:d};function v(e,t,n,r){if(e.transform){for(var i=(r.getAttribute(n)||``).split(/\)\s*/g),a=new x,o=0,s=i.length;o<s;o++){var c=i[o];if(!c)break;for(var l=c.split(/\(\s*/),u=l[0].trim(),d=l[1].split(/[\s,]+/g),f=0,p=d.length;f<p;f++)d[f]=parseFloat(d[f]);switch(u){case`matrix`:a.append(new x(d[0],d[1],d[2],d[3],d[4],d[5]));break;case`rotate`:a.rotate(d[0],d[1]||0,d[2]||0);break;case`translate`:a.translate(d[0],d[1]||0);break;case`scale`:a.scale(d);break;case`skewX`:a.skew(d[0],0);break;case`skewY`:a.skew(0,d[0]);break}}e.transform(a)}}function b(e,t,n){var r=n===`fill-opacity`?`getFillColor`:`getStrokeColor`,i=e[r]&&e[r]();i&&i.setAlpha(parseFloat(t))}var S=a.set(a.each(_e,function(e){this[e.attribute]=function(t,n){if(t[e.set]&&(t[e.set](u(n,e.type,e.fromSVG)),e.type===`color`)){var r=t[e.get]();if(r&&r._scaleToBounds){var i=t.getBounds();r.transform(new x().translate(i.getPoint()).scale(i.getSize()))}}}},{}),{id:function(e,n){t[n]=e,e.setName&&e.setName(n)},"clip-path":function(e,t){var n=j(t);if(n)if(n=n.clone(),n.setClipMask(!0),e instanceof T)e.insertChild(0,n);else return new T(n,e)},gradientTransform:v,transform:v,"fill-opacity":b,"stroke-opacity":b,visibility:function(e,t){e.setVisible&&e.setVisible(t===`visible`)},display:function(e,t){e.setVisible&&e.setVisible(t!==null)},"stop-color":function(e,t){e.setColor&&e.setColor(t)},"stop-opacity":function(e,t){e._color&&e._color.setAlpha(parseFloat(t))},offset:function(e,t){if(e.setOffset){var n=t.match(/(.*)%$/);e.setOffset(n?n[1]/100:parseFloat(t))}},viewBox:function(e,t,n,r,i){var a=new y(u(t,`array`)),o=l(r,null,null,!0),s,c;if(e instanceof T){var d=o?o.divide(a.getSize()):1,c=new x().scale(d).translate(a.getPoint().negate());s=e}else e instanceof A&&(o&&a.setSize(o),s=e._item);if(s){if(E(r,`overflow`,i)!==`visible`){var f=new D.Rectangle(a);f.setClipMask(!0),s.addChild(f)}c&&s.transform(c)}}});function E(e,t,r){var i=e.attributes[t],o=i&&i.value;if(!o&&e.style){var s=a.camelize(t);o=e.style[s],!o&&r.node[s]!==r.parent[s]&&(o=r.node[s])}return o?o===`none`?null:o:n}function k(e,t,r){var i=t.parentNode,o={node:B.getStyles(t)||{},parent:!r&&!/^defs$/i.test(i.tagName)&&B.getStyles(i)||{}};return a.each(S,function(r,i){var a=E(t,i,o);e=a!==n&&r(e,a,i,t,o)||e}),e}function j(e){var n=e&&e.match(/\((?:["'#]*)([^"')]+)/),i=n&&n[1],a=i&&t[r?i.replace(r.location.href.split(`#`)[0]+`#`,``):i];return a&&a._scaleToBounds&&(a=a.clone(),a._scaleToBounds=!0),a}function M(e,n,r){var s=e.nodeName.toLowerCase(),c=s!==`#document`,u=i.body,d,f,p;r&&c&&(o=G.getView().getSize(),o=l(e,null,null,!0)||o,d=W.create(`svg`,{style:`stroke-width: 1px; stroke-miterlimit: 10`}),f=e.parentNode,p=e.nextSibling,d.appendChild(e),u.appendChild(d));var m=G.settings,h=m.applyMatrix,_=m.insertItems;m.applyMatrix=!1,m.insertItems=!1;var v=g[s],y=v&&v(e,s,n,r)||null;if(m.insertItems=_,m.applyMatrix=h,y){c&&!(y instanceof T)&&(y=k(y,e,r));var b=n.onImport,x=c&&e.getAttribute(`data-paper-data`);b&&(y=b(e,y,n)||y),n.expandShapes&&y instanceof D&&(y.remove(),y=y.toPath()),x&&(y._data=JSON.parse(x))}return d&&(u.removeChild(d),f&&(p?f.insertBefore(e,p):f.appendChild(e))),r&&(t={},y&&a.pick(n.applyMatrix,h)&&y.matrix.apply(!0,!0)),y}function N(t,r,a){if(!t)return null;r=typeof r==`function`?{onLoad:r}:r||{};var o=G,s=null;function c(i){try{var c=typeof i==`object`?i:new e.DOMParser().parseFromString(i.trim(),`image/svg+xml`);if(!c.nodeName)throw c=null,Error(`Unsupported SVG source: `+t);G=o,s=M(c,r,!0),(!r||r.insert!==!1)&&a._insertItem(n,s);var u=r.onLoad;u&&u(s,i)}catch(e){l(e)}}function l(e,t){var n=r.onError;if(n)n(e,t);else throw Error(e)}if(typeof t==`string`&&!/^[\s\S]*</.test(t)){var u=i.getElementById(t);u?c(u):he.request({url:t,async:!0,onLoad:c,onError:l})}else if(typeof File<`u`&&t instanceof File){var d=new FileReader;return d.onload=function(){c(d.result)},d.onerror=function(){l(d.error)},d.readAsText(t)}else c(t);return s}w.inject({importSVG:function(e,t){return N(e,t,this)}}),C.inject({importSVG:function(e,t){return this.activate(),N(e,t,this)}})},a.exports.PaperScript=function(){var t=this,n=t.acorn;if(!n&&l!==void 0)try{n=l(`acorn`)}catch{}if(!n){var o,c;n=o=c={},(function(e,t){if(typeof o==`object`&&typeof c==`object`)return t(o);if(typeof define==`function`&&define.amd)return define([`exports`],t);t(e.acorn||={})})(this,function(e){e.version=`0.5.0`;var t,n,r,i;e.parse=function(e,i){return n=String(e),r=n.length,o(i),Ze(),Nt(t.program)};var a=e.defaultOptions={ecmaVersion:5,strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,allowReturnOutsideFunction:!1,locations:!1,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null};function o(e){for(var n in t=e||{},a)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=a[n]);i=t.sourceFile||null}var s=e.getLineInfo=function(e,t){for(var n=1,r=0;;){qe.lastIndex=r;var i=qe.exec(e);if(i&&i.index<t)++n,r=i.index+i[0].length;else break}return{line:n,column:t-r}};e.tokenize=function(e,i){n=String(e),r=n.length,o(i),Ze();var a={};function s(e){return y=u,dt(e),a.start=l,a.end=u,a.startLoc=d,a.endLoc=f,a.type=p,a.value=m,a}return s.jumpTo=function(e,r){if(c=e,t.locations){g=1,_=qe.lastIndex=0;for(var i;(i=qe.exec(n))&&i.index<e;)++g,_=i.index+i[0].length}h=r,tt()},s};var c,l,u,d,f,p,m,h,g,_,v,y,b,x,S,C;function w(e,t){var r=s(n,e);t+=` (`+r.line+`:`+r.column+`)`;var i=SyntaxError(t);throw i.pos=e,i.loc=r,i.raisedAt=c,i}var T=[],E={type:`num`},D={type:`regexp`},O={type:`string`},k={type:`name`},A={type:`eof`},j={keyword:`break`},M={keyword:`case`,beforeExpr:!0},N={keyword:`catch`},P={keyword:`continue`},F={keyword:`debugger`},I={keyword:`default`},L={keyword:`do`,isLoop:!0},R={keyword:`else`,beforeExpr:!0},ee={keyword:`finally`},te={keyword:`for`,isLoop:!0},ne={keyword:`function`},re={keyword:`if`},z={keyword:`return`,beforeExpr:!0},ie={keyword:`switch`},ae={keyword:`throw`,beforeExpr:!0},oe={keyword:`try`},B={keyword:`var`},V={keyword:`while`,isLoop:!0},H={keyword:`with`},se={keyword:`new`,beforeExpr:!0},ce={keyword:`this`},le={keyword:`null`,atomValue:null},ue={keyword:`true`,atomValue:!0},de={keyword:`false`,atomValue:!1},fe={keyword:`in`,binop:7,beforeExpr:!0},pe={break:j,case:M,catch:N,continue:P,debugger:F,default:I,do:L,else:R,finally:ee,for:te,function:ne,if:re,return:z,switch:ie,throw:ae,try:oe,var:B,while:V,with:H,null:le,true:ue,false:de,new:se,in:fe,instanceof:{keyword:`instanceof`,binop:7,beforeExpr:!0},this:ce,typeof:{keyword:`typeof`,prefix:!0,beforeExpr:!0},void:{keyword:`void`,prefix:!0,beforeExpr:!0},delete:{keyword:`delete`,prefix:!0,beforeExpr:!0}},me={type:`[`,beforeExpr:!0},he={type:`]`},U={type:`{`,beforeExpr:!0},ge={type:`}`},W={type:`(`,beforeExpr:!0},_e={type:`)`},G={type:`,`,beforeExpr:!0},ve={type:`;`,beforeExpr:!0},ye={type:`:`,beforeExpr:!0},be={type:`.`},xe={type:`?`,beforeExpr:!0},Se={binop:10,beforeExpr:!0},Ce={isAssign:!0,beforeExpr:!0},we={isAssign:!0,beforeExpr:!0},Te={postfix:!0,prefix:!0,isUpdate:!0},Ee={prefix:!0,beforeExpr:!0},De={binop:1,beforeExpr:!0},Oe={binop:2,beforeExpr:!0},K={binop:3,beforeExpr:!0},ke={binop:4,beforeExpr:!0},Ae={binop:5,beforeExpr:!0},je={binop:6,beforeExpr:!0},Me={binop:7,beforeExpr:!0},Ne={binop:8,beforeExpr:!0},Pe={binop:9,prefix:!0,beforeExpr:!0},Fe={binop:10,beforeExpr:!0};for(var q in e.tokTypes={bracketL:me,bracketR:he,braceL:U,braceR:ge,parenL:W,parenR:_e,comma:G,semi:ve,colon:ye,dot:be,question:xe,slash:Se,eq:Ce,name:k,eof:A,num:E,regexp:D,string:O},pe)e.tokTypes[`_`+q]=pe[q];function J(e){e=e.split(` `);var t=``,n=[];out:for(var r=0;r<e.length;++r){for(var i=0;i<n.length;++i)if(n[i][0].length==e[r].length){n[i].push(e[r]);continue out}n.push([e[r]])}function a(e){if(e.length==1)return t+=`return str === `+JSON.stringify(e[0])+`;`;t+=`switch(str){`;for(var n=0;n<e.length;++n)t+=`case `+JSON.stringify(e[n])+`:`;t+=`return true}return false;`}if(n.length>3){n.sort(function(e,t){return t.length-e.length}),t+=`switch(str.length){`;for(var r=0;r<n.length;++r){var o=n[r];t+=`case `+o[0].length+`:`,a(o)}t+=`}`}else a(e);return Function(`str`,t)}var Ie=J(`abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile`),Le=J(`class enum extends super const export import`),Re=J(`implements interface let package private protected public static yield`),ze=J(`eval arguments`),Be=J(`break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this`),Ve=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,He=`------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------`,Ue=`------------------------------------------------------------------------------------------------------------------------------------------`,We=RegExp(`[`+He+`]`),Ge=RegExp(`[`+He+Ue+`]`),Ke=/[\n\r\u2028\u2029]/,qe=/\r\n|[\n\r\u2028\u2029]/g,Je=e.isIdentifierStart=function(e){return e<65?e===36:e<91?!0:e<97?e===95:e<123?!0:e>=170&&We.test(String.fromCharCode(e))},Ye=e.isIdentifierChar=function(e){return e<48?e===36:e<58?!0:e<65?!1:e<91?!0:e<97?e===95:e<123?!0:e>=170&&Ge.test(String.fromCharCode(e))};function Xe(){this.line=g,this.column=c-_}function Ze(){g=1,c=_=0,h=!0,tt()}function Qe(e,n){u=c,t.locations&&(f=new Xe),p=e,tt(),m=n,h=e.beforeExpr}function $e(){var e=t.onComment&&t.locations&&new Xe,r=c,i=n.indexOf(`*/`,c+=2);if(i===-1&&w(c-2,`Unterminated comment`),c=i+2,t.locations){qe.lastIndex=r;for(var a;(a=qe.exec(n))&&a.index<c;)++g,_=a.index+a[0].length}t.onComment&&t.onComment(!0,n.slice(r+2,i),r,c,e,t.locations&&new Xe)}function et(){for(var e=c,i=t.onComment&&t.locations&&new Xe,a=n.charCodeAt(c+=2);c<r&&a!==10&&a!==13&&a!==8232&&a!==8233;)++c,a=n.charCodeAt(c);t.onComment&&t.onComment(!1,n.slice(e+2,c),e,c,i,t.locations&&new Xe)}function tt(){for(;c<r;){var e=n.charCodeAt(c);if(e===32)++c;else if(e===13){++c;var i=n.charCodeAt(c);i===10&&++c,t.locations&&(++g,_=c)}else if(e===10||e===8232||e===8233)++c,t.locations&&(++g,_=c);else if(e>8&&e<14)++c;else if(e===47){var i=n.charCodeAt(c+1);if(i===42)$e();else if(i===47)et();else break}else if(e===160)++c;else if(e>=5760&&Ve.test(String.fromCharCode(e)))++c;else break}}function nt(){var e=n.charCodeAt(c+1);return e>=48&&e<=57?gt(!0):(++c,Qe(be))}function rt(){var e=n.charCodeAt(c+1);return h?(++c,pt()):e===61?ft(we,2):ft(Se,1)}function it(){return n.charCodeAt(c+1)===61?ft(we,2):ft(Fe,1)}function at(e){var t=n.charCodeAt(c+1);return t===e?ft(e===124?De:Oe,2):t===61?ft(we,2):ft(e===124?K:Ae,1)}function ot(){return n.charCodeAt(c+1)===61?ft(we,2):ft(ke,1)}function st(e){var t=n.charCodeAt(c+1);return t===e?t==45&&n.charCodeAt(c+2)==62&&Ke.test(n.slice(y,c))?(c+=3,et(),tt(),dt()):ft(Te,2):t===61?ft(we,2):ft(Pe,1)}function ct(e){var t=n.charCodeAt(c+1),r=1;return t===e?(r=e===62&&n.charCodeAt(c+2)===62?3:2,n.charCodeAt(c+r)===61?ft(we,r+1):ft(Ne,r)):t==33&&e==60&&n.charCodeAt(c+2)==45&&n.charCodeAt(c+3)==45?(c+=4,et(),tt(),dt()):(t===61&&(r=n.charCodeAt(c+2)===61?3:2),ft(Me,r))}function lt(e){return n.charCodeAt(c+1)===61?ft(je,n.charCodeAt(c+2)===61?3:2):ft(e===61?Ce:Ee,1)}function ut(e){switch(e){case 46:return nt();case 40:return++c,Qe(W);case 41:return++c,Qe(_e);case 59:return++c,Qe(ve);case 44:return++c,Qe(G);case 91:return++c,Qe(me);case 93:return++c,Qe(he);case 123:return++c,Qe(U);case 125:return++c,Qe(ge);case 58:return++c,Qe(ye);case 63:return++c,Qe(xe);case 48:var t=n.charCodeAt(c+1);if(t===120||t===88)return ht();case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return gt(!1);case 34:case 39:return _t(e);case 47:return rt(e);case 37:case 42:return it();case 124:case 38:return at(e);case 94:return ot();case 43:case 45:return st(e);case 60:case 62:return ct(e);case 61:case 33:return lt(e);case 126:return ft(Ee,1)}return!1}function dt(e){if(e?c=l+1:l=c,t.locations&&(d=new Xe),e)return pt();if(c>=r)return Qe(A);var i=n.charCodeAt(c);if(Je(i)||i===92)return xt();var a=ut(i);if(a===!1){var o=String.fromCharCode(i);if(o===`\\`||We.test(o))return xt();w(c,`Unexpected character '`+o+`'`)}return a}function ft(e,t){var r=n.slice(c,c+t);c+=t,Qe(e,r)}function pt(){for(var e=``,t,i,a=c;;){c>=r&&w(a,`Unterminated regular expression`);var o=n.charAt(c);if(Ke.test(o)&&w(a,`Unterminated regular expression`),t)t=!1;else{if(o===`[`)i=!0;else if(o===`]`&&i)i=!1;else if(o===`/`&&!i)break;t=o===`\\`}++c}var e=n.slice(a,c);++c;var s=bt();s&&!/^[gmsiy]*$/.test(s)&&w(a,`Invalid regexp flag`);try{var l=new RegExp(e,s)}catch(e){e instanceof SyntaxError&&w(a,e.message),w(e)}return Qe(D,l)}function mt(e,t){for(var r=c,i=0,a=0,o=t??1/0;a<o;++a){var s=n.charCodeAt(c),l=s>=97?s-97+10:s>=65?s-65+10:s>=48&&s<=57?s-48:1/0;if(l>=e)break;++c,i=i*e+l}return c===r||t!=null&&c-r!==t?null:i}function ht(){c+=2;var e=mt(16);return e??w(l+2,`Expected hexadecimal number`),Je(n.charCodeAt(c))&&w(c,`Identifier directly after number`),Qe(E,e)}function gt(e){var t=c,r=!1,i=n.charCodeAt(c)===48;!e&&mt(10)===null&&w(t,`Invalid number`),n.charCodeAt(c)===46&&(++c,mt(10),r=!0);var a=n.charCodeAt(c);(a===69||a===101)&&(a=n.charCodeAt(++c),(a===43||a===45)&&++c,mt(10)===null&&w(t,`Invalid number`),r=!0),Je(n.charCodeAt(c))&&w(c,`Identifier directly after number`);var o=n.slice(t,c),s;return r?s=parseFloat(o):!i||o.length===1?s=parseInt(o,10):/[89]/.test(o)||C?w(t,`Invalid number`):s=parseInt(o,8),Qe(E,s)}function _t(e){c++;for(var i=``;;){c>=r&&w(l,`Unterminated string constant`);var a=n.charCodeAt(c);if(a===e)return++c,Qe(O,i);if(a===92){a=n.charCodeAt(++c);var o=/^[0-7]+/.exec(n.slice(c,c+3));for(o&&=o[0];o&&parseInt(o,8)>255;)o=o.slice(0,-1);if(o===`0`&&(o=null),++c,o)C&&w(c-2,`Octal literal in strict mode`),i+=String.fromCharCode(parseInt(o,8)),c+=o.length-1;else switch(a){case 110:i+=`
`;break;case 114:i+=`\r`;break;case 120:i+=String.fromCharCode(vt(2));break;case 117:i+=String.fromCharCode(vt(4));break;case 85:i+=String.fromCharCode(vt(8));break;case 116:i+=`	`;break;case 98:i+=`\b`;break;case 118:i+=`\v`;break;case 102:i+=`\f`;break;case 48:i+=`\0`;break;case 13:n.charCodeAt(c)===10&&++c;case 10:t.locations&&(_=c,++g);break;default:i+=String.fromCharCode(a);break}}else (a===13||a===10||a===8232||a===8233)&&w(l,`Unterminated string constant`),i+=String.fromCharCode(a),++c}}function vt(e){var t=mt(16,e);return t===null&&w(l,`Bad character escape sequence`),t}var yt;function bt(){yt=!1;for(var e,t=!0,r=c;;){var i=n.charCodeAt(c);if(Ye(i))yt&&(e+=n.charAt(c)),++c;else if(i===92){yt||(e=n.slice(r,c)),yt=!0,n.charCodeAt(++c)!=117&&w(c,`Expecting Unicode escape sequence \\uXXXX`),++c;var a=vt(4),o=String.fromCharCode(a);o||w(c-1,`Invalid Unicode escape`),(t?Je(a):Ye(a))||w(c-4,`Invalid Unicode escape`),e+=o}else break;t=!1}return yt?e:n.slice(r,c)}function xt(){var e=bt(),t=k;return!yt&&Be(e)&&(t=pe[e]),Qe(t,e)}function Y(){v=l,y=u,b=f,dt()}function St(e){if(C=e,c=l,t.locations)for(;c<_;)_=n.lastIndexOf(`
`,_-2)+1,--g;tt(),dt()}function Ct(){this.type=null,this.start=l,this.end=null}function wt(){this.start=d,this.end=null,i!==null&&(this.source=i)}function Tt(){var e=new Ct;return t.locations&&(e.loc=new wt),t.directSourceFile&&(e.sourceFile=t.directSourceFile),t.ranges&&(e.range=[l,0]),e}function Et(e){var n=new Ct;return n.start=e.start,t.locations&&(n.loc=new wt,n.loc.start=e.loc.start),t.ranges&&(n.range=[e.range[0],0]),n}function X(e,n){return e.type=n,e.end=y,t.locations&&(e.loc.end=b),t.ranges&&(e.range[1]=y),e}function Dt(e){return t.ecmaVersion>=5&&e.type===`ExpressionStatement`&&e.expression.type===`Literal`&&e.expression.value===`use strict`}function Z(e){if(p===e)return Y(),!0}function Ot(){return!t.strictSemicolons&&(p===A||p===ge||Ke.test(n.slice(y,l)))}function kt(){!Z(ve)&&!Ot()&&jt()}function At(e){p===e?Y():jt()}function jt(){w(l,`Unexpected token`)}function Mt(e){e.type!==`Identifier`&&e.type!==`MemberExpression`&&w(e.start,`Assigning to rvalue`),C&&e.type===`Identifier`&&ze(e.name)&&w(e.start,`Assigning to `+e.name+` in strict mode`)}function Nt(e){v=y=c,t.locations&&(b=new Xe),x=C=null,S=[],dt();var n=e||Tt(),r=!0;for(e||(n.body=[]);p!==A;){var i=It();n.body.push(i),r&&Dt(i)&&St(!0),r=!1}return X(n,`Program`)}var Pt={kind:`loop`},Ft={kind:`switch`};function It(){(p===Se||p===we&&m==`/=`)&&dt(!0);var e=p,r=Tt();switch(e){case j:case P:Y();var i=e===j;Z(ve)||Ot()?r.label=null:p===k?(r.label=nn(),kt()):jt();for(var a=0;a<S.length;++a){var o=S[a];if((r.label==null||o.name===r.label.name)&&(o.kind!=null&&(i||o.kind===`loop`)||r.label&&i))break}return a===S.length&&w(r.start,`Unsyntactic `+e.keyword),X(r,i?`BreakStatement`:`ContinueStatement`);case F:return Y(),kt(),X(r,`DebuggerStatement`);case L:return Y(),S.push(Pt),r.body=It(),S.pop(),At(V),r.test=Lt(),kt(),X(r,`DoWhileStatement`);case te:if(Y(),S.push(Pt),At(W),p===ve)return zt(r,null);if(p===B){var s=Tt();return Y(),Vt(s,!0),X(s,`VariableDeclaration`),s.declarations.length===1&&Z(fe)?Bt(r,s):zt(r,s)}var s=Ht(!1,!0);return Z(fe)?(Mt(s),Bt(r,s)):zt(r,s);case ne:return Y(),en(r,!0);case re:return Y(),r.test=Lt(),r.consequent=It(),r.alternate=Z(R)?It():null,X(r,`IfStatement`);case z:return!x&&!t.allowReturnOutsideFunction&&w(l,`'return' outside of function`),Y(),Z(ve)||Ot()?r.argument=null:(r.argument=Ht(),kt()),X(r,`ReturnStatement`);case ie:Y(),r.discriminant=Lt(),r.cases=[],At(U),S.push(Ft);for(var c,u;p!=ge;)if(p===M||p===I){var d=p===M;c&&X(c,`SwitchCase`),r.cases.push(c=Tt()),c.consequent=[],Y(),d?c.test=Ht():(u&&w(v,`Multiple default clauses`),u=!0,c.test=null),At(ye)}else c||jt(),c.consequent.push(It());return c&&X(c,`SwitchCase`),Y(),S.pop(),X(r,`SwitchStatement`);case ae:return Y(),Ke.test(n.slice(y,l))&&w(y,`Illegal newline after throw`),r.argument=Ht(),kt(),X(r,`ThrowStatement`);case oe:if(Y(),r.block=Rt(),r.handler=null,p===N){var f=Tt();Y(),At(W),f.param=nn(),C&&ze(f.param.name)&&w(f.param.start,`Binding `+f.param.name+` in strict mode`),At(_e),f.guard=null,f.body=Rt(),r.handler=X(f,`CatchClause`)}return r.guardedHandlers=T,r.finalizer=Z(ee)?Rt():null,!r.handler&&!r.finalizer&&w(r.start,`Missing catch or finally clause`),X(r,`TryStatement`);case B:return Y(),Vt(r),kt(),X(r,`VariableDeclaration`);case V:return Y(),r.test=Lt(),S.push(Pt),r.body=It(),S.pop(),X(r,`WhileStatement`);case H:return C&&w(l,`'with' in strict mode`),Y(),r.object=Lt(),r.body=It(),X(r,`WithStatement`);case U:return Rt();case ve:return Y(),X(r,`EmptyStatement`);default:var h=m,g=Ht();if(e===k&&g.type===`Identifier`&&Z(ye)){for(var a=0;a<S.length;++a)S[a].name===h&&w(g.start,`Label '`+h+`' is already declared`);var _=p.isLoop?`loop`:p===ie?`switch`:null;return S.push({name:h,kind:_}),r.body=It(),S.pop(),r.label=g,X(r,`LabeledStatement`)}else return r.expression=g,kt(),X(r,`ExpressionStatement`)}}function Lt(){At(W);var e=Ht();return At(_e),e}function Rt(e){var t=Tt(),n=!0,r=!1,i;for(t.body=[],At(U);!Z(ge);){var a=It();t.body.push(a),n&&e&&Dt(a)&&(i=r,St(r=!0)),n=!1}return r&&!i&&St(!1),X(t,`BlockStatement`)}function zt(e,t){return e.init=t,At(ve),e.test=p===ve?null:Ht(),At(ve),e.update=p===_e?null:Ht(),At(_e),e.body=It(),S.pop(),X(e,`ForStatement`)}function Bt(e,t){return e.left=t,e.right=Ht(),At(_e),e.body=It(),S.pop(),X(e,`ForInStatement`)}function Vt(e,t){for(e.declarations=[],e.kind=`var`;;){var n=Tt();if(n.id=nn(),C&&ze(n.id.name)&&w(n.id.start,`Binding `+n.id.name+` in strict mode`),n.init=Z(Ce)?Ht(!0,t):null,e.declarations.push(X(n,`VariableDeclarator`)),!Z(G))break}return e}function Ht(e,t){var n=Ut(t);if(!e&&p===G){var r=Et(n);for(r.expressions=[n];Z(G);)r.expressions.push(Ut(t));return X(r,`SequenceExpression`)}return n}function Ut(e){var t=Wt(e);if(p.isAssign){var n=Et(t);return n.operator=m,n.left=t,Y(),n.right=Ut(e),Mt(t),X(n,`AssignmentExpression`)}return t}function Wt(e){var t=Gt(e);if(Z(xe)){var n=Et(t);return n.test=t,n.consequent=Ht(!0),At(ye),n.alternate=Ht(!0,e),X(n,`ConditionalExpression`)}return t}function Gt(e){return Kt(qt(),-1,e)}function Kt(e,t,n){var r=p.binop;if(r!=null&&(!n||p!==fe)&&r>t){var i=Et(e);i.left=e,i.operator=m;var a=p;return Y(),i.right=Kt(qt(),r,n),Kt(X(i,a===De||a===Oe?`LogicalExpression`:`BinaryExpression`),t,n)}return e}function qt(){if(p.prefix){var e=Tt(),t=p.isUpdate;return e.operator=m,e.prefix=!0,h=!0,Y(),e.argument=qt(),t?Mt(e.argument):C&&e.operator===`delete`&&e.argument.type===`Identifier`&&w(e.start,`Deleting local variable in strict mode`),X(e,t?`UpdateExpression`:`UnaryExpression`)}for(var n=Jt();p.postfix&&!Ot();){var e=Et(n);e.operator=m,e.prefix=!1,e.argument=n,Mt(n),Y(),n=X(e,`UpdateExpression`)}return n}function Jt(){return Yt(Xt())}function Yt(e,t){if(Z(be)){var n=Et(e);return n.object=e,n.property=nn(!0),n.computed=!1,Yt(X(n,`MemberExpression`),t)}else if(Z(me)){var n=Et(e);return n.object=e,n.property=Ht(),n.computed=!0,At(he),Yt(X(n,`MemberExpression`),t)}else if(!t&&Z(W)){var n=Et(e);return n.callee=e,n.arguments=tn(_e,!1),Yt(X(n,`CallExpression`),t)}else return e}function Xt(){switch(p){case ce:var e=Tt();return Y(),X(e,`ThisExpression`);case k:return nn();case E:case O:case D:var e=Tt();return e.value=m,e.raw=n.slice(l,u),Y(),X(e,`Literal`);case le:case ue:case de:var e=Tt();return e.value=p.atomValue,e.raw=p.keyword,Y(),X(e,`Literal`);case W:var r=d,i=l;Y();var a=Ht();return a.start=i,a.end=u,t.locations&&(a.loc.start=r,a.loc.end=f),t.ranges&&(a.range=[i,u]),At(_e),a;case me:var e=Tt();return Y(),e.elements=tn(he,!0,!0),X(e,`ArrayExpression`);case U:return Qt();case ne:var e=Tt();return Y(),en(e,!1);case se:return Zt();default:jt()}}function Zt(){var e=Tt();return Y(),e.callee=Yt(Xt(),!0),Z(W)?e.arguments=tn(_e,!1):e.arguments=T,X(e,`NewExpression`)}function Qt(){var e=Tt(),n=!0,r=!1;for(e.properties=[],Y();!Z(ge);){if(n)n=!1;else if(At(G),t.allowTrailingCommas&&Z(ge))break;var i={key:$t()},a=!1,o;if(Z(ye)?(i.value=Ht(!0),o=i.kind=`init`):t.ecmaVersion>=5&&i.key.type===`Identifier`&&(i.key.name===`get`||i.key.name===`set`)?(a=r=!0,o=i.kind=i.key.name,i.key=$t(),p!==W&&jt(),i.value=en(Tt(),!1)):jt(),i.key.type===`Identifier`&&(C||r))for(var s=0;s<e.properties.length;++s){var c=e.properties[s];if(c.key.name===i.key.name){var l=o==c.kind||a&&c.kind===`init`||o===`init`&&(c.kind===`get`||c.kind===`set`);l&&!C&&o===`init`&&c.kind===`init`&&(l=!1),l&&w(i.key.start,`Redefinition of property`)}}e.properties.push(i)}return X(e,`ObjectExpression`)}function $t(){return p===E||p===O?Xt():nn(!0)}function en(e,t){p===k?e.id=nn():t?jt():e.id=null,e.params=[];var n=!0;for(At(W);!Z(_e);)n?n=!1:At(G),e.params.push(nn());var r=x,i=S;if(x=!0,S=[],e.body=Rt(!0),x=r,S=i,C||e.body.body.length&&Dt(e.body.body[0]))for(var a=e.id?-1:0;a<e.params.length;++a){var o=a<0?e.id:e.params[a];if((Re(o.name)||ze(o.name))&&w(o.start,`Defining '`+o.name+`' in strict mode`),a>=0)for(var s=0;s<a;++s)o.name===e.params[s].name&&w(o.start,`Argument name clash in strict mode`)}return X(e,t?`FunctionDeclaration`:`FunctionExpression`)}function tn(e,n,r){for(var i=[],a=!0;!Z(e);){if(a)a=!1;else if(At(G),n&&t.allowTrailingCommas&&Z(e))break;r&&p===G?i.push(null):i.push(Ht(!0))}return i}function nn(e){var r=Tt();return e&&t.forbidReserved==`everywhere`&&(e=!1),p===k?(!e&&(t.forbidReserved&&(t.ecmaVersion===3?Ie:Le)(m)||C&&Re(m))&&n.slice(l,u).indexOf(`\\`)==-1&&w(l,`The keyword '`+m+`' is reserved`),r.name=m):e&&p.keyword?r.name=p.keyword:jt(),h=!1,Y(),X(r,`Identifier`)}}),n.version||(n=null)}function u(e,r){return(t.acorn||n).parse(e,r)}var d={"+":`__add`,"-":`__subtract`,"*":`__multiply`,"/":`__divide`,"%":`__modulo`,"==":`__equals`,"!=":`__equals`},f={"-":`__negate`,"+":`__self`},p=a.each([`add`,`subtract`,`multiply`,`divide`,`modulo`,`equals`,`negate`],function(e){this[`__`+e]=`#`+e},{__self:function(){return this}});h.inject(p),_.inject(p),z.inject(p);function m(e,t,n){var r=d[t];if(e&&e[r]){var i=e[r](n);return t===`!=`?!i:i}switch(t){case`+`:return e+n;case`-`:return e-n;case`*`:return e*n;case`/`:return e/n;case`%`:return e%n;case`==`:return e==n;case`!=`:return e!=n}}function g(e,t){var n=f[e];if(t&&t[n])return t[n]();switch(e){case`+`:return+t;case`-`:return-t}}function v(t,n){if(!t)return``;n||={};var a=[];function o(e){for(var t=0,n=a.length;t<n;t++){var r=a[t];if(r[0]>=e)break;e+=r[1]}return e}function s(e){return t.substring(o(e.range[0]),o(e.range[1]))}function c(e,n){return t.substring(o(e.range[1]),o(n.range[0]))}function l(e,n){for(var r=o(e.range[0]),i=o(e.range[1]),s=0,c=a.length-1;c>=0;c--)if(r>a[c][0]){s=c+1;break}a.splice(s,0,[r,n.length-i+r]),t=t.substring(0,r)+n+t.substring(i)}function p(e,t){switch(e.type){case`UnaryExpression`:if(e.operator in f&&e.argument.type!==`Literal`){var n=s(e.argument);l(e,`$__("`+e.operator+`", `+n+`)`)}break;case`BinaryExpression`:if(e.operator in d&&e.left.type!==`Literal`){var r=s(e.left),i=s(e.right),a=c(e.left,e.right),o=e.operator;l(e,`__$__(`+r+`,`+a.replace(RegExp(`\\`+o),`"`+o+`"`)+`, `+i+`)`)}break;case`UpdateExpression`:case`AssignmentExpression`:var u=t&&t.type;if(!(u===`ForStatement`||u===`BinaryExpression`&&/^[=!<>]/.test(t.operator)||u===`MemberExpression`&&t.computed)){if(e.type===`UpdateExpression`){var n=s(e.argument),p=`__$__(`+n+`, "`+e.operator[0]+`", 1)`,m=n+` = `+p;e.prefix?m=`(`+m+`)`:(u===`AssignmentExpression`||u===`VariableDeclarator`||u===`BinaryExpression`)&&(s(t.left||t.id)===n&&(m=p),m=n+`; `+m),l(e,m)}else if(/^.=$/.test(e.operator)&&e.left.type!==`Literal`){var r=s(e.left),i=s(e.right),p=r+` = __$__(`+r+`, "`+e.operator[0]+`", `+i+`)`;l(e,/^\(.*\)$/.test(s(e))?`(`+p+`)`:p)}}break}}function m(e){switch(e.type){case`ExportDefaultDeclaration`:l({range:[e.start,e.declaration.start]},`module.exports = `);break;case`ExportNamedDeclaration`:var t=e.declaration,n=e.specifiers;if(t){var r=t.declarations;r&&(r.forEach(function(e){l(e,`module.exports.`+s(e))}),l({range:[e.start,t.start+t.kind.length]},``))}else if(n){var i=n.map(function(e){var t=s(e);return`module.exports.`+t+` = `+t+`; `}).join(``);i&&l(e,i)}break}}function h(e,t,n){if(e){for(var r in e)if(r!==`range`&&r!==`loc`){var i=e[r];if(Array.isArray(i))for(var a=0,o=i.length;a<o;a++)h(i[a],e,n);else i&&typeof i==`object`&&h(i,e,n)}n.operatorOverloading!==!1&&p(e,t),n.moduleExports!==!1&&m(e)}}function g(e){var t=``,n=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/`;for(e=(Math.abs(e)<<1)+(e<0?1:0);e||!t;){var r=e&31;e>>=5,e&&(r|=32),t+=n[r]}return t}var _=n.url||``,v=n.sourceMaps,y=n.paperFeatures||{},b=n.source||t,x=n.offset||0,S=G.agent,C=S.versionNumber,w=!1,T=/\r\n|\n|\r/gm,E;if(v&&(S.chrome&&C>=30||S.webkit&&C>=537.76||S.firefox&&C>=23||S.node)){if(S.node)x-=2;else if(r&&_&&!r.location.href.indexOf(_)){var D=i.getElementsByTagName(`html`)[0].innerHTML;x=D.substr(0,D.indexOf(t)+1).match(T).length+1}w=x>0&&!(S.chrome&&C>=36||S.safari&&C>=600||S.firefox&&C>=40||S.node);var O=[`AA`+g(w?0:x)+`A`];O.length=(t.match(T)||[]).length+1+(w?x:0),E={version:3,file:_,names:[],mappings:O.join(`;AACA`),sourceRoot:``,sources:[_],sourcesContent:[b]}}return(y.operatorOverloading!==!1||y.moduleExports!==!1)&&h(u(t,{ranges:!0,preserveParens:!0,sourceType:`module`}),null,y),E&&(w&&(t=Array(x+1).join(`
`)+t),/^(inline|both)$/.test(v)&&(t+=`
//# sourceMappingURL=data:application/json;base64,`+e.btoa(unescape(encodeURIComponent(JSON.stringify(E))))),t+=`
//# sourceURL=`+(_||`paperscript`)),{url:_,source:b,code:t,map:E}}function y(e,t,n){G=t;var r=t.getView(),o=/\btool\.\w+|\s+on(?:Key|Mouse)(?:Up|Down|Move|Drag)\b/.test(e)&&!/\bnew\s+Tool\b/.test(e)?new pe:null,s=o?o._events:[],c=[`onFrame`,`onResize`].concat(s),l=[],u=[],d;e=(typeof e==`object`?e:v(e,n)).code;function f(t,n){for(var r in t)(n||!/^_/.test(r))&&RegExp(`([\\b\\s\\W]|^)`+r.replace(/\$/g,`\\$`)+`\\b`).test(e)&&(l.push(r),u.push(t[r]))}f({__$__:m,$__:g,paper:t,tool:o},!0),f(t),e=`var module = { exports: {} }; `+e;var p=a.each(c,function(t){RegExp(`\\s+`+t+`\\b`).test(e)&&(l.push(t),this.push(`module.exports.`+t+` = `+t+`;`))},[]).join(`
`);p&&(e+=`
`+p),e+=`
return module.exports;`;var _=G.agent;if(i&&(_.chrome||_.firefox&&_.versionNumber<40)){var y=i.createElement(`script`),b=i.head||i.getElementsByTagName(`head`)[0];_.firefox&&(e=`
`+e),y.appendChild(i.createTextNode(`document.__paperscript__ = function(`+l+`) {`+e+`
}`)),b.appendChild(y),d=i.__paperscript__,delete i.__paperscript__,b.removeChild(y)}else d=Function(l,e);var p=d&&d.apply(t,u),x=p||{};return a.each(s,function(e){var t=x[e];t&&(o[e]=t)}),r&&(x.onResize&&r.setOnResize(x.onResize),r.emit(`resize`,{size:r.size,delta:new h}),x.onFrame&&r.setOnFrame(x.onFrame),r.requestUpdate()),p}function b(e){if(/^text\/(?:x-|)paperscript$/.test(e.type)&&s.getAttribute(e,`ignore`)!==`true`){var t=s.getAttribute(e,`canvas`),n=i.getElementById(t),r=e.src||e.getAttribute(`data-src`),a=s.hasAttribute(e,`async`),o=`data-paper-scope`;if(!n)throw Error(`Unable to find canvas with id "`+t+`"`);var c=s.get(n.getAttribute(o))||new s().setup(n);return n.setAttribute(o,c._id),r?he.request({url:r,async:a,mimeType:`text/plain`,onLoad:function(e){y(e,c,r)}}):y(e.innerHTML,c,e.baseURI),e.setAttribute(`data-paper-ignore`,`true`),c}}function x(){a.each(i&&i.getElementsByTagName(`script`),b)}function S(e){return e?b(e):x()}return r&&(i.readyState===`complete`?setTimeout(x):V.add(r,{load:x})),{compile:v,execute:y,load:S,parse:u,calculateBinary:m,calculateUnary:g}}.call(this);var G=new(s.inject(a.exports,{Base:a,Numerical:p,Key:ue,DomEvent:V,DomElement:B,document:i,window:r,Symbol:A,PlacedSymbol:k}));return G.agent.node&&u()(G),typeof define==`function`&&define.amd?define(`paper`,G):typeof t==`object`&&t&&(t.exports=G),G}).call(e,typeof self==`object`?self:null)})),K=c(Oe(),1);const ke={id:`brush`,name:`Brush`,hotkey:`b`,settings:{mode:{type:`toggle`,options:[`add`,`subtract`],default:`add`},sizeMin:{type:`range`,min:1,max:100,step:.1,default:1},sizeMax:{type:`range`,min:1,max:100,step:.1,default:4}},onStart(e,t,n){e.stroke.length=0,e.stroke.push(t);let r=t.pressure??1,i=n.sizeMin+r*(n.sizeMax-n.sizeMin);e.ctx.beginPath(),e.ctx.arc(t.x,t.y,i/2,0,Math.PI*2),e.ctx.fill()},onMove(e,t,n){if(e.stroke.length===0){e.stroke.push(t),this.onStart(e,t,n);return}let r=e.stroke[e.stroke.length-1];e.stroke.push(t);let i=r.pressure??1,a=t.pressure??1,o=n.sizeMin+i*(n.sizeMax-n.sizeMin),s=n.sizeMin+a*(n.sizeMax-n.sizeMin),c=t.x-r.x,l=t.y-r.y,u=Math.sqrt(c*c+l*l),d=Math.min(o,s),f=Math.max(.5,d*.25),p=Math.max(1,Math.ceil(u/f));for(let t=0;t<=p;t++){let n=t/p,i=r.x+c*n,a=r.y+l*n,u=o+(s-o)*n;e.ctx.beginPath(),e.ctx.arc(i,a,u/2,0,Math.PI*2),e.ctx.fill()}},onEnd(e){if(e.stroke.length===0)return null;let t={points:[...e.stroke]};return e.stroke.length=0,t}};var Ae={mode:{type:`toggle`,options:[`add`,`subtract`],default:`add`}};function je(e){if(e.clear(),e.stroke.length<2){e.stroke.length===1&&(e.ctx.beginPath(),e.ctx.arc(e.stroke[0].x,e.stroke[0].y,1,0,Math.PI*2),e.ctx.fill());return}e.ctx.beginPath(),e.ctx.moveTo(e.stroke[0].x,e.stroke[0].y);for(let t=1;t<e.stroke.length;t++)e.ctx.lineTo(e.stroke[t].x,e.stroke[t].y);e.ctx.closePath(),e.ctx.fill()}const Me=[ke,{id:`lasso`,name:`Lasso`,hotkey:`l`,settings:Ae,onStart(e,t){e.stroke.length=0,e.stroke.push(t),je(e)},onMove(e,t){e.stroke.push(t),je(e)},onEnd(e){if(e.stroke.length<3)return e.stroke.length=0,e.clear(),null;let t={points:[...e.stroke]};return e.stroke.length=0,t}},{id:`select`,name:`Select`,hotkey:`v`,settings:{},onStart(){},onMove(){},onEnd(){return null}},{id:`pan`,name:`Pan`,hotkey:`h`,settings:{},onStart(){},onMove(){},onEnd(){return null}}];function Ne(e){return Me.find(t=>t.id===e)}function Pe(e){return Me.find(t=>t.hotkey===e.toLowerCase())}function Fe(){let e={};for(let t of Me){let n={};for(let[e,r]of Object.entries(t.settings))n[e]=r.default;e[t.id]=n}return e}const q=new class{constructor(){this.handlers=new Map}on(e,t){return this.handlers.has(e)||this.handlers.set(e,new Set),this.handlers.get(e).add(t),()=>this.handlers.get(e)?.delete(t)}emit(e,t){this.handlers.get(e)?.forEach(e=>e(t))}off(e){this.handlers.delete(e)}clear(){this.handlers.clear()}},J={TOOL_START:`tool:start`,TOOL_MOVE:`tool:move`,TOOL_END:`tool:end`,TOOL_CANCEL:`tool:cancel`,POINTER_MOVE:`pointer:move`,CAMERA_PAN:`camera:pan`,CAMERA_ZOOM:`camera:zoom`,CAMERA_ROTATE:`camera:rotate`,TOOL_CHANGE:`tool:change`,MODIFIERS_CHANGE:`modifiers:change`,UNDO:`history:undo`,REDO:`history:redo`};var Ie=class{constructor(e,t){this.currentTool=`brush`,this.gestureState=`idle`,this.activePointers=new Map,this.primaryPointerId=null,this.pendingTouchDraw=null,this.touchDrawCommitDistancePx=6,this.touchDrawCommitDelayMs=70,this.modifiers={shift:!1,alt:!1,ctrl:!1,meta:!1},this.lastPressure=null,this.pressureDeadzone=.08,this.lastPinchDistance=null,this.lastPinchCenter=null,this.lastPinchAngle=null,this.panStartX=0,this.panStartY=0,this.handlePointerDown=e=>{let t=this.createPointerInfo(e);this.activePointers.set(e.pointerId,t);let n=this.getScreenCoords(e);if(this.activePointers.size>=2){this.gestureState!==`pinching`&&this.startPinchGesture();return}if(e.button===1){e.preventDefault(),this.startPanning(n,e.pointerId);return}if(e.button===0){if(this.currentTool===`pan`){this.startPanning(n,e.pointerId);return}if(e.pointerType===`touch`){this.startPendingTouchDraw(e,n);return}this.startDrawing(e)}},this.handlePointerMove=e=>{let t=this.getScreenCoords(e);if(this.activePointers.has(e.pointerId)){let n=this.activePointers.get(e.pointerId);n.x=t.x,n.y=t.y,n.pressure=e.pressure}if(!(this.gestureState===`idle`&&this.pendingTouchDraw&&this.pendingTouchDraw.pointerId===e.pointerId&&this.activePointers.size===1&&(this.maybeCommitPendingTouchDraw(e,t),this.gestureState!==`idle`)))switch(this.gestureState){case`pinching`:this.updatePinchGesture();break;case`panning`:this.updatePanning(t);break;case`drawing`:this.updateDrawing(e);break;case`idle`:let n=this.normalizePoint(e.clientX,e.clientY,e.pressure);q.emit(J.POINTER_MOVE,n);break}},this.handlePointerUp=e=>{let t=this.activePointers.has(e.pointerId);if(this.activePointers.delete(e.pointerId),t){if(this.pendingTouchDraw&&this.pendingTouchDraw.pointerId===e.pointerId&&this.gestureState===`idle`){this.pendingTouchDraw=null,this.primaryPointerId=null,this.lastPressure=null;return}if(this.gestureState===`pinching`){this.activePointers.size<2&&this.endPinchGesture();return}e.pointerId===this.primaryPointerId&&(this.gestureState===`panning`?this.endPanning(e.pointerId):this.gestureState===`drawing`&&this.endDrawing())}},this.handlePointerCancel=e=>{this.activePointers.delete(e.pointerId),this.gestureState===`pinching`&&this.activePointers.size<2?this.endPinchGesture():e.pointerId===this.primaryPointerId&&(this.gestureState===`drawing`?this.endDrawing():this.gestureState===`panning`&&this.endPanning(e.pointerId))},this.handlePointerLeave=e=>{e.pointerType===`mouse`&&this.gestureState},this.handleKeyDown=e=>{this.isTypingInInput(e)||(this.updateModifiers(e)&&q.emit(J.MODIFIERS_CHANGE,this.getModifiers()),e.repeat||this.handleHotkey(e))},this.handleKeyUp=e=>{this.updateModifiers(e)&&q.emit(J.MODIFIERS_CHANGE,this.getModifiers())},this.handleWindowBlur=()=>{let e=this.modifiers.shift||this.modifiers.alt||this.modifiers.ctrl||this.modifiers.meta;this.modifiers={shift:!1,alt:!1,ctrl:!1,meta:!1},e&&q.emit(J.MODIFIERS_CHANGE,this.getModifiers())},this.handleWheel=e=>{e.preventDefault();let t=this.canvas.getBoundingClientRect(),n=e.clientX-t.left,r=e.clientY-t.top,i=e.deltaMode===1?e.deltaY*16:e.deltaY;if(e.shiftKey){let e=i*.001;q.emit(J.CAMERA_ROTATE,{delta:e,x:n,y:r});return}let a=1-i*.001,o=Math.max(.5,Math.min(2,a));q.emit(J.CAMERA_ZOOM,{factor:o,x:n,y:r})},this.canvas=e,this.config=t,this.setupPointerListeners(),this.setupKeyboardListeners(),this.setupWheelListener(),this.setupTouchPreventDefaults()}updateConfig(e){this.config=e}setTool(e){this.currentTool!==e&&(this.currentTool=e,this.updateCanvasCursor())}getTool(){return this.currentTool}getModifiers(){return{...this.modifiers}}getGestureState(){return this.gestureState}setupPointerListeners(){this.canvas.addEventListener(`pointerdown`,this.handlePointerDown),this.canvas.addEventListener(`pointermove`,this.handlePointerMove),this.canvas.addEventListener(`pointerup`,this.handlePointerUp),this.canvas.addEventListener(`pointercancel`,this.handlePointerCancel),this.canvas.addEventListener(`pointerleave`,this.handlePointerLeave),this.canvas.addEventListener(`contextmenu`,e=>e.preventDefault())}setupKeyboardListeners(){document.addEventListener(`keydown`,this.handleKeyDown),document.addEventListener(`keyup`,this.handleKeyUp),window.addEventListener(`blur`,this.handleWindowBlur)}setupWheelListener(){this.canvas.addEventListener(`wheel`,this.handleWheel,{passive:!1})}setupTouchPreventDefaults(){this.canvas.addEventListener(`touchstart`,e=>e.preventDefault(),{passive:!1}),this.canvas.addEventListener(`touchmove`,e=>e.preventDefault(),{passive:!1}),this.canvas.addEventListener(`gesturestart`,e=>e.preventDefault()),this.canvas.addEventListener(`gesturechange`,e=>e.preventDefault()),this.canvas.addEventListener(`gestureend`,e=>e.preventDefault())}updateModifiers(e){let t={...this.modifiers};return this.modifiers.shift=e.shiftKey,this.modifiers.alt=e.altKey,this.modifiers.ctrl=e.ctrlKey,this.modifiers.meta=e.metaKey,t.shift!==this.modifiers.shift||t.alt!==this.modifiers.alt||t.ctrl!==this.modifiers.ctrl||t.meta!==this.modifiers.meta}handleHotkey(e){let t=e.key.toLowerCase();if(t===`z`&&(e.metaKey||e.ctrlKey)){e.preventDefault(),e.shiftKey?q.emit(J.REDO,null):q.emit(J.UNDO,null);return}let n=Pe(t);n&&n.id!==this.currentTool&&(this.currentTool=n.id,this.updateCanvasCursor(),q.emit(J.TOOL_CHANGE,this.currentTool))}isTypingInInput(e){let t=e.target;return t.tagName===`INPUT`||t.tagName===`TEXTAREA`||t.isContentEditable}startDrawing(e){if(this.gestureState!==`idle`)return;this.gestureState=`drawing`,this.primaryPointerId=e.pointerId,this.canvas.setPointerCapture(e.pointerId),this.lastPressure=null;let t=this.normalizePoint(e.clientX,e.clientY,e.pressure);q.emit(J.TOOL_START,{point:t,tool:this.currentTool})}updateDrawing(e){if(this.gestureState!==`drawing`||e.pointerId!==this.primaryPointerId)return;let t=this.normalizePoint(e.clientX,e.clientY,e.pressure);q.emit(J.TOOL_MOVE,{point:t,tool:this.currentTool}),q.emit(J.POINTER_MOVE,t)}endDrawing(){this.gestureState===`drawing`&&(this.primaryPointerId!==null&&this.safeReleasePointerCapture(this.primaryPointerId),q.emit(J.TOOL_END,this.currentTool),this.gestureState=`idle`,this.primaryPointerId=null,this.lastPressure=null)}startPanning(e,t){this.gestureState===`drawing`&&this.cancelActiveToolInteraction(),this.pendingTouchDraw&&this.cancelPendingTouchDraw(),this.gestureState=`panning`,this.primaryPointerId=t,this.panStartX=e.x,this.panStartY=e.y,this.canvas.setPointerCapture(t)}updatePanning(e){if(this.gestureState!==`panning`)return;let t=e.x-this.panStartX,n=e.y-this.panStartY;q.emit(J.CAMERA_PAN,{deltaX:t,deltaY:n}),this.panStartX=e.x,this.panStartY=e.y}endPanning(e){this.gestureState===`panning`&&(this.safeReleasePointerCapture(e),this.gestureState=`idle`,this.primaryPointerId=null)}startPinchGesture(){this.gestureState===`drawing`&&this.cancelActiveToolInteraction(),this.gestureState===`panning`&&this.primaryPointerId!==null&&this.safeReleasePointerCapture(this.primaryPointerId),this.pendingTouchDraw&&this.cancelPendingTouchDraw(),this.gestureState=`pinching`,this.primaryPointerId=null;let e=Array.from(this.activePointers.values());e.length>=2&&(this.lastPinchDistance=this.getDistance(e[0],e[1]),this.lastPinchCenter=this.getCenter(e[0],e[1]),this.lastPinchAngle=this.getAngle(e[0],e[1]))}updatePinchGesture(){if(this.gestureState!==`pinching`)return;let e=Array.from(this.activePointers.values());if(e.length<2)return;let t=this.getDistance(e[0],e[1]),n=this.getCenter(e[0],e[1]),r=this.getAngle(e[0],e[1]);if(this.lastPinchDistance!==null){let e=t/this.lastPinchDistance;Math.abs(e-1)>.01&&(q.emit(J.CAMERA_ZOOM,{factor:e,x:n.x,y:n.y}),this.lastPinchDistance=t)}else this.lastPinchDistance=t;if(this.lastPinchCenter!==null){let e=n.x-this.lastPinchCenter.x,t=n.y-this.lastPinchCenter.y;(Math.abs(e)>.5||Math.abs(t)>.5)&&(q.emit(J.CAMERA_PAN,{deltaX:e,deltaY:t}),this.lastPinchCenter=n)}else this.lastPinchCenter=n;if(this.lastPinchAngle!==null){let e=r-this.lastPinchAngle;e>Math.PI&&(e-=2*Math.PI),e<-Math.PI&&(e+=2*Math.PI),Math.abs(e)>.01&&(q.emit(J.CAMERA_ROTATE,{delta:e,x:n.x,y:n.y}),this.lastPinchAngle=r)}else this.lastPinchAngle=r}endPinchGesture(){this.gestureState=`idle`,this.lastPinchDistance=null,this.lastPinchCenter=null,this.lastPinchAngle=null}startPendingTouchDraw(e,t){if(this.gestureState!==`idle`)return;this.primaryPointerId=e.pointerId,this.pendingTouchDraw={pointerId:e.pointerId,startScreenX:t.x,startScreenY:t.y,startTimeMs:performance.now(),lastClientX:e.clientX,lastClientY:e.clientY,lastPressure:e.pressure||void 0};let n=this.normalizePoint(e.clientX,e.clientY,e.pressure);q.emit(J.POINTER_MOVE,n)}maybeCommitPendingTouchDraw(e,t){if(!this.pendingTouchDraw||this.primaryPointerId!==e.pointerId)return;this.pendingTouchDraw.lastClientX=e.clientX,this.pendingTouchDraw.lastClientY=e.clientY,this.pendingTouchDraw.lastPressure=e.pressure||void 0;let n=t.x-this.pendingTouchDraw.startScreenX,r=t.y-this.pendingTouchDraw.startScreenY,i=Math.sqrt(n*n+r*r),a=performance.now()-this.pendingTouchDraw.startTimeMs;if(!(i>=this.touchDrawCommitDistancePx*2||i>=this.touchDrawCommitDistancePx&&a>=this.touchDrawCommitDelayMs)){let t=this.normalizePoint(e.clientX,e.clientY,e.pressure);q.emit(J.POINTER_MOVE,t);return}let o=this.pendingTouchDraw.pointerId;this.pendingTouchDraw=null,this.gestureState=`drawing`,this.primaryPointerId=o,this.canvas.setPointerCapture(o),this.lastPressure=null;let s=this.normalizePoint(e.clientX,e.clientY,e.pressure);q.emit(J.TOOL_START,{point:s,tool:this.currentTool}),q.emit(J.POINTER_MOVE,s)}cancelPendingTouchDraw(){this.pendingTouchDraw=null,this.primaryPointerId=null,this.lastPressure=null}cancelActiveToolInteraction(){this.gestureState===`drawing`&&(this.primaryPointerId!==null&&this.safeReleasePointerCapture(this.primaryPointerId),q.emit(J.TOOL_CANCEL,this.currentTool),this.gestureState=`idle`,this.primaryPointerId=null,this.lastPressure=null)}safeReleasePointerCapture(e){try{this.canvas.releasePointerCapture(e)}catch{}}getScreenCoords(e){let t=this.canvas.getBoundingClientRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}normalizePoint(e,t,n){let r=this.canvas.getBoundingClientRect(),i=e-r.left,a=t-r.top;return{x:i/this.config.viewportWidth*this.config.pixelWidth,y:a/this.config.viewportHeight*this.config.pixelHeight,pressure:this.sanitizePressure(n)}}sanitizePressure(e){if(typeof e!=`number`||Number.isNaN(e))return this.lastPressure??.5;let t=Math.max(0,Math.min(1,e));return t=t<this.pressureDeadzone?this.lastPressure??0:(t-this.pressureDeadzone)/(1-this.pressureDeadzone),this.lastPressure=t,t}createPointerInfo(e){let t=this.getScreenCoords(e);return{id:e.pointerId,x:t.x,y:t.y,pressure:e.pressure,pointerType:e.pointerType,button:e.button}}getDistance(e,t){let n=t.x-e.x,r=t.y-e.y;return Math.sqrt(n*n+r*r)}getCenter(e,t){return{x:(e.x+t.x)/2,y:(e.y+t.y)/2}}getAngle(e,t){return Math.atan2(t.y-e.y,t.x-e.x)}updateCanvasCursor(){switch(this.currentTool){case`pan`:this.canvas.style.cursor=`grab`;break;case`select`:this.canvas.style.cursor=`default`;break;default:this.canvas.style.cursor=`crosshair`}}destroy(){this.canvas.removeEventListener(`pointerdown`,this.handlePointerDown),this.canvas.removeEventListener(`pointermove`,this.handlePointerMove),this.canvas.removeEventListener(`pointerup`,this.handlePointerUp),this.canvas.removeEventListener(`pointercancel`,this.handlePointerCancel),this.canvas.removeEventListener(`pointerleave`,this.handlePointerLeave),document.removeEventListener(`keydown`,this.handleKeyDown),document.removeEventListener(`keyup`,this.handleKeyUp),window.removeEventListener(`blur`,this.handleWindowBlur)}},Le=class{constructor(e,t,n){this.currentStroke=[],this.brushColor=`#000000`,this.ctx=t,this.config=n,this.ctx.fillStyle=this.brushColor,this.ctx.strokeStyle=this.brushColor,this.ctx.lineCap=`round`,this.ctx.lineJoin=`round`,this.toolContext={ctx:this.ctx,stroke:this.currentStroke,clear:()=>this.clear(),config:{pixelWidth:n.pixelWidth,pixelHeight:n.pixelHeight}}}updateConfig(e){this.config=e,this.ctx.canvas.width=e.pixelWidth,this.ctx.canvas.height=e.pixelHeight,this.ctx.imageSmoothingEnabled=!1,this.ctx.fillStyle=this.brushColor,this.ctx.strokeStyle=this.brushColor,this.ctx.lineCap=`round`,this.ctx.lineJoin=`round`,this.toolContext.config={pixelWidth:e.pixelWidth,pixelHeight:e.pixelHeight}}setBrushColor(e){this.brushColor=e,this.ctx.fillStyle=e,this.ctx.strokeStyle=e}getBrushColor(){return this.brushColor}startTool(e,t,n){let r=Ne(e),i=n[e];r.onStart(this.toolContext,t,i)}moveTool(e,t,n){let r=Ne(e),i=n[e];r.onMove(this.toolContext,t,i)}endTool(e,t){let n=Ne(e),r=t[e];return n.onEnd(this.toolContext,r)}startStroke(e){this.currentStroke=[e],this.toolContext.stroke=this.currentStroke,this.drawPoint(e,4)}addPoint(e,t=1,n=4){if(this.currentStroke.length===0){this.currentStroke=[e],this.toolContext.stroke=this.currentStroke,this.drawPoint(e,n);return}let r=this.currentStroke[this.currentStroke.length-1];this.currentStroke.push(e);let i=t+(e.pressure??1)*(n-t);this.ctx.beginPath(),this.ctx.moveTo(r.x,r.y),this.ctx.lineWidth=i,this.ctx.lineTo(e.x,e.y),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.arc(e.x,e.y,i/2,0,Math.PI*2),this.ctx.fill()}drawPoint(e,t){this.ctx.beginPath(),this.ctx.arc(e.x,e.y,t/2,0,Math.PI*2),this.ctx.fill()}endStroke(){if(this.currentStroke.length===0)return null;let e={points:[...this.currentStroke]};return this.currentStroke=[],this.toolContext.stroke=this.currentStroke,e}startLasso(e){this.currentStroke=[e],this.toolContext.stroke=this.currentStroke,this.drawLassoShape()}addLassoPoint(e){if(this.currentStroke.length===0){this.currentStroke=[e],this.toolContext.stroke=this.currentStroke,this.drawLassoShape();return}this.currentStroke.push(e),this.drawLassoShape()}drawLassoShape(){if(this.clear(),this.currentStroke.length<2){this.currentStroke.length===1&&(this.ctx.beginPath(),this.ctx.arc(this.currentStroke[0].x,this.currentStroke[0].y,1,0,Math.PI*2),this.ctx.fill());return}this.ctx.beginPath(),this.ctx.moveTo(this.currentStroke[0].x,this.currentStroke[0].y);for(let e=1;e<this.currentStroke.length;e++)this.ctx.lineTo(this.currentStroke[e].x,this.currentStroke[e].y);this.ctx.closePath(),this.ctx.fill()}endLasso(){if(this.currentStroke.length<3)return this.currentStroke=[],this.toolContext.stroke=this.currentStroke,this.clear(),null;let e={points:[...this.currentStroke]};return this.currentStroke=[],this.toolContext.stroke=this.currentStroke,e}clear(){this.ctx.clearRect(0,0,this.config.pixelWidth,this.config.pixelHeight)}getImageData(){return this.ctx.getImageData(0,0,this.config.pixelWidth,this.config.pixelHeight)}},Re=class{constructor(e){this.potrace=e}async trace(e){try{let t=e.getContext(`2d`);if(!t)throw Error(`Could not get 2D context`);let n=document.createElement(`canvas`);n.width=e.width,n.height=e.height;let r=n.getContext(`2d`);if(!r)throw Error(`Could not get temp 2D context`);let i=t.getImageData(0,0,e.width,e.height),a=i.data;for(let e=0;e<a.length;e+=4){let t=255-a[e+3];a[e]=t,a[e+1]=t,a[e+2]=t,a[e+3]=255}r.putImageData(i,0,0);let o=await createImageBitmap(n);return await this.potrace(o,{turdsize:2,turnpolicy:4,alphamax:1,opticurve:1,opttolerance:.2,threshold:.5,pathonly:!1,extractcolors:!1})}catch(e){return console.error(`Tracing error:`,e),null}}};function ze(e,t,n=0,r=e.length-1,i=Ve){for(;r>n;){if(r-n>600){let a=r-n+1,o=t-n+1,s=Math.log(a),c=.5*Math.exp(2*s/3),l=.5*Math.sqrt(s*c*(a-c)/a)*(o-a/2<0?-1:1);ze(e,t,Math.max(n,Math.floor(t-o*c/a+l)),Math.min(r,Math.floor(t+(a-o)*c/a+l)),i)}let a=e[t],o=n,s=r;for(Be(e,n,t),i(e[r],a)>0&&Be(e,n,r);o<s;){for(Be(e,o,s),o++,s--;i(e[o],a)<0;)o++;for(;i(e[s],a)>0;)s--}i(e[n],a)===0?Be(e,n,s):(s++,Be(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}}function Be(e,t,n){let r=e[t];e[t]=e[n],e[n]=r}function Ve(e,t){return e<t?-1:e>t?1:0}var He=class{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(e){let t=this.data,n=[];if(!et(e,t))return n;let r=this.toBBox,i=[];for(;t;){for(let a=0;a<t.children.length;a++){let o=t.children[a],s=t.leaf?r(o):o;et(e,s)&&(t.leaf?n.push(o):$e(e,s)?this._all(o,n):i.push(o))}t=i.pop()}return n}collides(e){let t=this.data;if(!et(e,t))return!1;let n=[];for(;t;){for(let r=0;r<t.children.length;r++){let i=t.children[r],a=t.leaf?this.toBBox(i):i;if(et(e,a)){if(t.leaf||$e(e,a))return!0;n.push(i)}}t=n.pop()}return!1}load(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(let t=0;t<e.length;t++)this.insert(e[t]);return this}let t=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=t;else if(this.data.height===t.height)this._splitRoot(this.data,t);else{if(this.data.height<t.height){let e=this.data;this.data=t,t=e}this._insert(t,this.data.height-t.height-1,!0)}return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=tt([]),this}remove(e,t){if(!e)return this;let n=this.data,r=this.toBBox(e),i=[],a=[],o,s,c;for(;n||i.length;){if(n||(n=i.pop(),s=i[i.length-1],o=a.pop(),c=!0),n.leaf){let r=Ue(e,n.children,t);if(r!==-1)return n.children.splice(r,1),i.push(n),this._condense(i),this}!c&&!n.leaf&&$e(n,r)?(i.push(n),a.push(o),o=0,s=n,n=n.children[0]):s?(o++,n=s.children[o],c=!1):n=null}return this}toBBox(e){return e}compareMinX(e,t){return e.minX-t.minX}compareMinY(e,t){return e.minY-t.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,t){let n=[];for(;e;)e.leaf?t.push(...e.children):n.push(...e.children),e=n.pop();return t}_build(e,t,n,r){let i=n-t+1,a=this._maxEntries,o;if(i<=a)return o=tt(e.slice(t,n+1)),We(o,this.toBBox),o;r||(r=Math.ceil(Math.log(i)/Math.log(a)),a=Math.ceil(i/a**(r-1))),o=tt([]),o.leaf=!1,o.height=r;let s=Math.ceil(i/a),c=s*Math.ceil(Math.sqrt(a));nt(e,t,n,c,this.compareMinX);for(let i=t;i<=n;i+=c){let t=Math.min(i+c-1,n);nt(e,i,t,s,this.compareMinY);for(let n=i;n<=t;n+=s){let i=Math.min(n+s-1,t);o.children.push(this._build(e,n,i,r-1))}}return We(o,this.toBBox),o}_chooseSubtree(e,t,n,r){for(;r.push(t),!(t.leaf||r.length-1===n);){let n=1/0,r=1/0,i;for(let a=0;a<t.children.length;a++){let o=t.children[a],s=Ye(o),c=Ze(e,o)-s;c<r?(r=c,n=s<n?s:n,i=o):c===r&&s<n&&(n=s,i=o)}t=i||t.children[0]}return t}_insert(e,t,n){let r=n?e:this.toBBox(e),i=[],a=this._chooseSubtree(r,this.data,t,i);for(a.children.push(e),Ke(a,r);t>=0&&i[t].children.length>this._maxEntries;)this._split(i,t),t--;this._adjustParentBBoxes(r,i,t)}_split(e,t){let n=e[t],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);let a=this._chooseSplitIndex(n,i,r),o=tt(n.children.splice(a,n.children.length-a));o.height=n.height,o.leaf=n.leaf,We(n,this.toBBox),We(o,this.toBBox),t?e[t-1].children.push(o):this._splitRoot(n,o)}_splitRoot(e,t){this.data=tt([e,t]),this.data.height=e.height+1,this.data.leaf=!1,We(this.data,this.toBBox)}_chooseSplitIndex(e,t,n){let r,i=1/0,a=1/0;for(let o=t;o<=n-t;o++){let t=Ge(e,0,o,this.toBBox),s=Ge(e,o,n,this.toBBox),c=Qe(t,s),l=Ye(t)+Ye(s);c<i?(i=c,r=o,a=l<a?l:a):c===i&&l<a&&(a=l,r=o)}return r||n-t}_chooseSplitAxis(e,t,n){let r=e.leaf?this.compareMinX:qe,i=e.leaf?this.compareMinY:Je;this._allDistMargin(e,t,n,r)<this._allDistMargin(e,t,n,i)&&e.children.sort(r)}_allDistMargin(e,t,n,r){e.children.sort(r);let i=this.toBBox,a=Ge(e,0,t,i),o=Ge(e,n-t,n,i),s=Xe(a)+Xe(o);for(let r=t;r<n-t;r++){let t=e.children[r];Ke(a,e.leaf?i(t):t),s+=Xe(a)}for(let r=n-t-1;r>=t;r--){let t=e.children[r];Ke(o,e.leaf?i(t):t),s+=Xe(o)}return s}_adjustParentBBoxes(e,t,n){for(let r=n;r>=0;r--)Ke(t[r],e)}_condense(e){for(let t=e.length-1,n;t>=0;t--)e[t].children.length===0?t>0?(n=e[t-1].children,n.splice(n.indexOf(e[t]),1)):this.clear():We(e[t],this.toBBox)}};function Ue(e,t,n){if(!n)return t.indexOf(e);for(let r=0;r<t.length;r++)if(n(e,t[r]))return r;return-1}function We(e,t){Ge(e,0,e.children.length,t,e)}function Ge(e,t,n,r,i){i||=tt(null),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(let a=t;a<n;a++){let t=e.children[a];Ke(i,e.leaf?r(t):t)}return i}function Ke(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function qe(e,t){return e.minX-t.minX}function Je(e,t){return e.minY-t.minY}function Ye(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function Xe(e){return e.maxX-e.minX+(e.maxY-e.minY)}function Ze(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function Qe(e,t){let n=Math.max(e.minX,t.minX),r=Math.max(e.minY,t.minY),i=Math.min(e.maxX,t.maxX),a=Math.min(e.maxY,t.maxY);return Math.max(0,i-n)*Math.max(0,a-r)}function $e(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function et(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function tt(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function nt(e,t,n,r,i){let a=[t,n];for(;a.length;){if(n=a.pop(),t=a.pop(),n-t<=r)continue;let o=t+Math.ceil((n-t)/r/2)*r;ze(e,o,t,n,i),a.push(t,o,o,n)}}var rt=class{constructor(e,t){this.camera=null,this.config=t}updateConfig(e){this.config=e}setCamera(e){this.camera=e}applyCamera(){if(!this.camera)return;let[e,t,n,r,i,a]=this.camera.getTransformMatrix();K.default.view.matrix.set(e,t,n,r,i,a),K.default.view.update()}screenToWorld(e,t){return this.camera?this.camera.screenToWorld(e,t):{x:e,y:t}}worldToScreen(e,t){return this.camera?this.camera.worldToScreen(e,t):{x:e,y:t}}importSVG(e){let t=K.default.project.importSVG(e);if(!t)return[];let n=e.match(/width="([^"]+)"\s+height="([^"]+)"/),r=this.config.pixelWidth,i=this.config.pixelHeight;if(n&&(r=parseFloat(n[1]),i=parseFloat(n[2])),r>0&&i>0){let e=Math.min(this.config.viewportWidth/r,this.config.viewportHeight/i);t.scale(e,new K.default.Point(0,0))}if(t.bounds.topLeft=new K.default.Point(0,0),this.camera){let[e,n,r,i,a,o]=this.camera.getInverseTransformMatrix(),s=new K.default.Matrix(e,n,r,i,a,o);t.transform(s)}else t.position=K.default.view.center;let a=this.extractPaths(t);return t instanceof K.default.Group&&t.remove(),a}extractPaths(e){if(e instanceof K.default.Path||e instanceof K.default.CompoundPath)return[e];if(e instanceof K.default.Group){let t=[];for(let n of e.children)t.push(...this.extractPaths(n));return t}return[]}flattenGroups(){let e=K.default.project.activeLayer,t=!0;for(;t;){t=!1;for(let n of[...e.children])if(n instanceof K.default.Group){t=!0;for(let t of[...n.children])e.insertChild(e.children.indexOf(n),t);n.remove()}}}splitDisconnected(){let e=K.default.project.activeLayer;for(let t of[...e.children]){if(!(t instanceof K.default.CompoundPath)||t.children.length<=1)continue;let n=t.fillColor,r=t.children,i=r.length,a=r.map(e=>e.pathData),o=Array.from({length:i},()=>new Set);for(let e=0;e<i;e++)for(let t=e+1;t<i;t++)this.subPathsConnected(r[e],r[t])&&(o[e].add(t),o[t].add(e));let s=Array(i).fill(!1),c=[];for(let e=0;e<i;e++){if(s[e])continue;let t=[],n=[e];for(s[e]=!0;n.length;){let e=n.shift();t.push(e);for(let t of o[e])s[t]||(s[t]=!0,n.push(t))}c.push(t)}if(c.length<=1)continue;let l=e.children.indexOf(t);for(let t of c){let r=t.length===1?new K.default.Path(a[t[0]]):new K.default.CompoundPath(t.map(e=>a[e]).join(` `));r.fillColor=n,e.insertChild(l,r)}t.remove()}}subPathsConnected(e,t){let n=e.bounds,r=t.bounds;if(!n.intersects(r)&&!n.contains(r)&&!r.contains(n))return!1;try{if(e.intersects(t))return!0}catch{}try{if(e.contains(r.center)||t.contains(n.center))return!0}catch{}return!1}pathsCollide(e,t){return e.bounds.intersects(t.bounds)?e.intersects(t)||e.contains(t.bounds.center)||t.contains(e.bounds.center):!1}normalizeLayer(){this.flattenGroups(),this.splitDisconnected()}mergePathWithExisting(e,t){let n=e.fillColor?.toCSS(!0)??`none`,r=e;for(let e of t)if(!(!e.parent||!this.pathsCollide(r,e)))if((e.fillColor?.toCSS(!0)??`none`)===n)try{let t=r.unite(e);t&&!t.isEmpty()?(t.fillColor=r.fillColor,r.remove(),e.remove(),r=t):t?.remove()}catch{}else try{let t=e.subtract(r);t&&!t.isEmpty()?(t.fillColor=e.fillColor,e.replaceWith(t)):(e.remove(),t?.remove())}catch{}return r}subtractPathFromExisting(e,t){for(let n of t)if(!(!n.parent||!this.pathsCollide(e,n)))try{let t=n.subtract(e);n.replaceWith(t)}catch{}}async addPath(e,t=`#000000`){let n=K.default.project.activeLayer,r=new K.default.Color(t),i=this.importSVG(e);if(i.length===0)return;for(let e of i)e.fillColor=r,n.addChild(e);let a=new Set(i),o=n.children.filter(e=>(e instanceof K.default.Path||e instanceof K.default.CompoundPath)&&!a.has(e));for(let e of i)this.mergePathWithExisting(e,o);this.normalizeLayer(),K.default.view.update()}async subtractPath(e){let t=K.default.project.activeLayer,n=this.importSVG(e);if(n.length===0)return;let r=new Set(n),i=t.children.filter(e=>(e instanceof K.default.Path||e instanceof K.default.CompoundPath)&&!r.has(e));for(let e of n)this.subtractPathFromExisting(e,i),e.remove();this.normalizeLayer(),K.default.view.update()}clear(){K.default.project.clear(),K.default.view.update()}flatten(){let e=K.default.project.activeLayer,t=e=>e.fillColor?.toCSS(!0)??`none`;this.flattenGroups();let n=[...e.children].filter(e=>e instanceof K.default.Path||e instanceof K.default.CompoundPath);if(n.length<2){K.default.view.update();return}let r=new Map;for(let e of n){let n=t(e);r.has(n)||r.set(n,[]),r.get(n).push(e)}let i=new Map;for(let[e,t]of r){if(t.length===1){i.set(e,t[0]);continue}let n=t[0];for(let e=1;e<t.length;e++)try{let r=n.unite(t[e]);r&&!r.isEmpty()?(n!==t[0]&&n.remove(),t[e].remove(),n=r):r?.remove()}catch{}n.fillColor=t[0].fillColor,i.set(e,n);for(let e of t)e.parent&&e!==n&&e.remove()}let a=new He;a.load(Array.from(i.entries()).map(([e,t])=>{let n=t.bounds;return{minX:n.x,minY:n.y,maxX:n.x+n.width,maxY:n.y+n.height,color:e}}));let o=[...new Set(n.map(t))];for(let e=o.length-1;e>=0;e--){let t=i.get(o[e]);if(!t?.parent)continue;let n=t.bounds;for(let r of a.search({minX:n.x,minY:n.y,maxX:n.x+n.width,maxY:n.y+n.height})){if(o.indexOf(r.color)>=e)continue;let n=i.get(r.color);if(n?.parent)try{let e=n.subtract(t);e&&!e.isEmpty()?(e.fillColor=n.fillColor,n.replaceWith(e),i.set(r.color,e)):(n.remove(),e?.remove(),i.delete(r.color))}catch{}}}this.splitDisconnected(),K.default.view.update()}hitTest(e){let t=this.screenToWorld(e.x,e.y);return K.default.project.hitTest(new K.default.Point(t.x,t.y),{fill:!0,stroke:!0,tolerance:5/(this.camera?.zoom??1)})?.item??null}getAllPaths(){return K.default.project.activeLayer.children.filter(e=>e instanceof K.default.Path||e instanceof K.default.CompoundPath)}getContentBounds(){let e=this.getAllPaths();if(e.length===0)return null;let t=1/0,n=1/0,r=-1/0,i=-1/0;for(let a of e){let e=a.bounds;t=Math.min(t,e.x),n=Math.min(n,e.y),r=Math.max(r,e.x+e.width),i=Math.max(i,e.y+e.height)}return{x:t,y:n,width:r-t,height:i-n}}movePath(e,t){e.position=e.position.add(new K.default.Point(t.x,t.y)),K.default.view.update()}bringToFront(e){e.bringToFront(),K.default.view.update()}placeSelection(e){let t=K.default.project.activeLayer.children.filter(t=>(t instanceof K.default.Path||t instanceof K.default.CompoundPath)&&t!==e);this.mergePathWithExisting(e,t),this.normalizeLayer(),K.default.view.update()}drawSelection(e,t){if(!e)return;let n=e.bounds,r=this.camera?4/this.camera.zoom:4,i=[{x:n.x-r,y:n.y-r},{x:n.x+n.width+r,y:n.y-r},{x:n.x+n.width+r,y:n.y+n.height+r},{x:n.x-r,y:n.y+n.height+r}].map(e=>this.worldToScreen(e.x,e.y));t.save(),t.strokeStyle=`#ff9900`,t.lineWidth=2,t.setLineDash([5,5]),t.beginPath(),t.moveTo(i[0].x,i[0].y),t.lineTo(i[1].x,i[1].y),t.lineTo(i[2].x,i[2].y),t.lineTo(i[3].x,i[3].y),t.closePath(),t.stroke(),t.restore()}},it=class{constructor(e,t,n){this.camera=null,this.currentCursor=null,this.cursorEnabled=!0,this.isDrawing=!1,this.isMobile=!1,this.maxBrushSize=4,this.ctx=t,this.config=n,this.detectMobile()}detectMobile(){this.isMobile=`ontouchstart`in window||navigator.maxTouchPoints>0}setCamera(e){this.camera=e}setCursorEnabled(e){this.cursorEnabled=e,this.draw()}setDrawingState(e){this.isDrawing=e,this.draw()}updateConfig(e){this.config=e,this.ctx.canvas.width=e.viewportWidth,this.ctx.canvas.height=e.viewportHeight}setMaxBrushSize(e){this.maxBrushSize=e,this.draw()}updateCursor(e){this.currentCursor=e,this.draw()}clearCursor(){this.currentCursor=null,this.draw()}redraw(){this.draw()}shouldShowCursor(){return this.cursorEnabled?this.isMobile?this.isDrawing:!0:!1}worldToScreen(e,t){return this.camera?this.camera.worldToScreen(e,t):{x:e,y:t}}drawAxes(){if(!this.camera)return;let e=this.ctx,t=this.config.viewportWidth,n=this.config.viewportHeight,r=this.worldToScreen(0,0),i=this.worldToScreen(1,0),a=this.worldToScreen(0,1);e.save(),e.lineWidth=2;let o=this.lineScreenIntersection(r,{x:i.x-r.x,y:i.y-r.y},t,n);o&&(e.strokeStyle=`rgba(0, 255, 255, 0.5)`,e.beginPath(),e.moveTo(o.start.x,o.start.y),e.lineTo(o.end.x,o.end.y),e.stroke());let s=this.lineScreenIntersection(r,{x:a.x-r.x,y:a.y-r.y},t,n);s&&(e.strokeStyle=`rgba(255, 0, 255, 0.5)`,e.beginPath(),e.moveTo(s.start.x,s.start.y),e.lineTo(s.end.x,s.end.y),e.stroke()),r.x>=-10&&r.x<=t+10&&r.y>=-10&&r.y<=n+10&&(e.fillStyle=`rgba(100, 100, 100, 0.5)`,e.beginPath(),e.arc(r.x,r.y,5,0,Math.PI*2),e.fill()),e.restore()}lineScreenIntersection(e,t,n,r){if(t.x===0&&t.y===0)return null;let i=[];if(t.x!==0){let n=-e.x/t.x,a=e.y+n*t.y;a>=0&&a<=r&&i.push({x:0,y:a})}if(t.x!==0){let a=(n-e.x)/t.x,o=e.y+a*t.y;o>=0&&o<=r&&i.push({x:n,y:o})}if(t.y!==0){let r=-e.y/t.y,a=e.x+r*t.x;a>=0&&a<=n&&i.push({x:a,y:0})}if(t.y!==0){let a=(r-e.y)/t.y,o=e.x+a*t.x;o>=0&&o<=n&&i.push({x:o,y:r})}return i.length<2?null:{start:i[0],end:i[1]}}draw(){if(this.ctx.clearRect(0,0,this.config.viewportWidth,this.config.viewportHeight),this.drawAxes(),this.currentCursor&&this.shouldShowCursor()){let e=this.currentCursor.x/this.config.pixelWidth*this.config.viewportWidth,t=this.currentCursor.y/this.config.pixelHeight*this.config.viewportHeight,n=this.config.viewportWidth/this.config.pixelWidth,r=(this.maxBrushSize/2-.5)*n;this.ctx.strokeStyle=`rgba(255, 255, 255, 0.8)`,this.ctx.lineWidth=1,this.ctx.beginPath(),this.ctx.arc(e,t,r,0,Math.PI*2),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(e-10,t),this.ctx.lineTo(e+10,t),this.ctx.moveTo(e,t-10),this.ctx.lineTo(e,t+10),this.ctx.stroke()}}},at=class{constructor(e,t){this.x=0,this.y=0,this._zoom=1,this._rotation=0,this.minZoom=.1,this.maxZoom=10,this.viewportWidth=0,this.viewportHeight=0,this.viewportWidth=e,this.viewportHeight=t,this.x=e/2,this.y=t/2}updateViewport(e,t){this.viewportWidth=e,this.viewportHeight=t}get zoom(){return this._zoom}set zoom(e){this._zoom=Math.max(this.minZoom,Math.min(this.maxZoom,e))}get rotation(){return this._rotation}set rotation(e){this._rotation=Math.atan2(Math.sin(e),Math.cos(e))}getRotationDegrees(){return this._rotation*180/Math.PI}setRotationDegrees(e){this.rotation=e*Math.PI/180}getPosition(){return{x:this.x,y:this.y}}setPosition(e,t){this.x=e,this.y=t}getState(){return{x:this.x,y:this.y,zoom:this._zoom,rotation:this._rotation}}setState(e){this.x=e.x,this.y=e.y,this._zoom=Math.max(this.minZoom,Math.min(this.maxZoom,e.zoom)),this._rotation=e.rotation}screenToWorld(e,t){let n=e-this.viewportWidth/2,r=t-this.viewportHeight/2,i=n/this._zoom,a=r/this._zoom,o=Math.cos(-this._rotation),s=Math.sin(-this._rotation),c=i*o-a*s,l=i*s+a*o;return{x:c+this.x,y:l+this.y}}worldToScreen(e,t){let n=e-this.x,r=t-this.y,i=Math.cos(this._rotation),a=Math.sin(this._rotation),o=n*i-r*a,s=n*a+r*i,c=o*this._zoom,l=s*this._zoom;return{x:c+this.viewportWidth/2,y:l+this.viewportHeight/2}}screenDeltaToWorld(e,t){let n=e/this._zoom,r=t/this._zoom,i=Math.cos(-this._rotation),a=Math.sin(-this._rotation);return{x:n*i-r*a,y:n*a+r*i}}pan(e,t){let n=this.screenDeltaToWorld(e,t);this.x-=n.x,this.y-=n.y}zoomAt(e,t,n){let r=this.screenToWorld(t,n),i=this._zoom*e;this._zoom=Math.max(this.minZoom,Math.min(this.maxZoom,i));let a=this.screenToWorld(t,n);this.x+=r.x-a.x,this.y+=r.y-a.y}zoomCenter(e){this.zoomAt(e,this.viewportWidth/2,this.viewportHeight/2)}rotateAt(e,t,n){let r=this.screenToWorld(t,n);this.rotation=this._rotation+e;let i=this.screenToWorld(t,n);this.x+=r.x-i.x,this.y+=r.y-i.y}rotateCenter(e){this.rotateAt(e,this.viewportWidth/2,this.viewportHeight/2)}rotateCenterDegrees(e){this.rotateCenter(e*Math.PI/180)}reset(){this.x=this.viewportWidth/2,this.y=this.viewportHeight/2,this._zoom=1,this._rotation=0}resetRotation(){this._rotation=0}fitToBounds(e,t=.1){this.x=e.x+e.width/2,this.y=e.y+e.height/2;let n=e.width*(1+t*2),r=e.height*(1+t*2),i=this.viewportWidth/n,a=this.viewportHeight/r;this._zoom=Math.max(this.minZoom,Math.min(this.maxZoom,Math.min(i,a))),this._rotation=0}getWorldBounds(){let e=[this.screenToWorld(0,0),this.screenToWorld(this.viewportWidth,0),this.screenToWorld(this.viewportWidth,this.viewportHeight),this.screenToWorld(0,this.viewportHeight)],t=1/0,n=1/0,r=-1/0,i=-1/0;for(let a of e)t=Math.min(t,a.x),n=Math.min(n,a.y),r=Math.max(r,a.x),i=Math.max(i,a.y);return{x:t,y:n,width:r-t,height:i-n}}getTransformMatrix(){let e=Math.cos(this._rotation),t=Math.sin(this._rotation),n=this._zoom,r=n*e,i=n*t,a=-n*t,o=n*e;return[r,i,a,o,-this.x*r-this.y*a+this.viewportWidth/2,-this.x*i-this.y*o+this.viewportHeight/2]}getInverseTransformMatrix(){let e=Math.cos(-this._rotation),t=Math.sin(-this._rotation),n=1/this._zoom,r=n*e,i=n*t,a=-n*t,o=n*e,s=this.viewportWidth/2,c=this.viewportHeight/2;return[r,i,a,o,-s*r-c*a+this.x,-s*i-c*o+this.y]}getZoomPercent(){return Math.round(this._zoom*100)}},ot=class{constructor(e){this.listeners=new Set,this.value=e}get(){return this.value}set(e){this.value=e,this.listeners.forEach(t=>t(e))}update(e){this.set(e(this.value))}subscribe(e){return this.listeners.add(e),()=>this.listeners.delete(e)}subscribeImmediate(e){return e(this.value),this.subscribe(e)}},st=class{constructor(e,t){this.host=e,this.store=t,this.value=t.get(),e.addController(this)}hostConnected(){this.unsubscribe=this.store.subscribe(e=>{this.value=e,this.host.requestUpdate()})}hostDisconnected(){this.unsubscribe?.()}get(){return this.value}set(e){this.store.set(e)}update(e){this.store.update(e)}};const ct=new ot(`#037ffc`),lt=new ot(`#000000`),ut=new ot(`brush`),dt=new ot({pixelWidth:0,pixelHeight:0,viewportWidth:0,viewportHeight:0}),ft=new ot({shift:!1,alt:!1,ctrl:!1,meta:!1}),pt=new ot(Fe());var mt=class{constructor(e,t,n,r){this.selectedItem=null,this.isDragging=!1,this.dragStartPoint=null,this.didMove=!1,this.paperRenderer=e,this.camera=t,this.uiOverlay=n,this.uiCanvas2D=r,this.config=dt.get(),dt.subscribe(e=>{this.config=e})}setSnapshotCallback(e){this.onSnapshot=e}getSelectedItem(){return this.selectedItem}hasSelection(){return this.selectedItem!==null}placeSelection(){this.selectedItem&&this.didMove&&(this.paperRenderer.placeSelection(this.selectedItem),this.onSnapshot?.()),this.selectedItem=null,this.didMove=!1}clearSelection(){this.placeSelection(),this.isDragging=!1,this.dragStartPoint=null,this.drawUI()}handleStart(e){let t=this.pixelToViewport(e),n=this.paperRenderer.hitTest(t);if(n){if(this.selectedItem&&n!==this.selectedItem&&(this.placeSelection(),n=this.paperRenderer.hitTest(t),!n)){this.isDragging=!1,this.dragStartPoint=null,this.drawUI();return}this.selectedItem=n,this.isDragging=!0,this.dragStartPoint=t,this.didMove=!1,this.paperRenderer.bringToFront(n)}else this.placeSelection(),this.isDragging=!1,this.dragStartPoint=null;this.drawUI()}handleMove(e){if(!this.isDragging||!this.selectedItem||!this.dragStartPoint)return;let t=this.pixelToViewport(e),n={x:t.x-this.dragStartPoint.x,y:t.y-this.dragStartPoint.y},r=this.camera.screenDeltaToWorld(n.x,n.y);(r.x!==0||r.y!==0)&&(this.didMove=!0,this.paperRenderer.movePath(this.selectedItem,r),this.dragStartPoint=t),this.drawUI()}handleEnd(){this.isDragging=!1,this.dragStartPoint=null,this.drawUI()}handleCancel(){this.isDragging=!1,this.dragStartPoint=null,this.drawUI()}drawUI(){this.uiOverlay.redraw(),this.selectedItem&&this.paperRenderer.drawSelection(this.selectedItem,this.uiCanvas2D)}pixelToViewport(e){return{x:e.x/this.config.pixelWidth*this.config.viewportWidth,y:e.y/this.config.pixelHeight*this.config.viewportHeight}}},ht=c(Oe(),1);const gt=new ot({canUndo:!1,canRedo:!1});var _t=class{constructor(){this.stack=[],this.index=-1,this.maxSize=50,this.isRestoring=!1}snapshot(){if(this.isRestoring)return;let e=ht.default.project.activeLayer.exportJSON();this.stack=this.stack.slice(0,this.index+1),this.stack.push({layerJSON:e,timestamp:Date.now()}),this.stack.length>this.maxSize?this.stack.shift():this.index++,this.index=this.stack.length-1,this.updateState()}undo(){return this.canUndo()?(this.index--,this.restore(),this.updateState(),!0):!1}redo(){return this.canRedo()?(this.index++,this.restore(),this.updateState(),!0):!1}canUndo(){return this.index>0}canRedo(){return this.index<this.stack.length-1}getStackSize(){return this.stack.length}getCurrentIndex(){return this.index}clear(){this.stack=[],this.index=-1,this.updateState()}restore(){if(!(this.index<0||this.index>=this.stack.length)){this.isRestoring=!0;try{ht.default.project.activeLayer.removeChildren();let e=this.stack[this.index];ht.default.project.activeLayer.importJSON(e.layerJSON),ht.default.view.update()}finally{this.isRestoring=!1}}}updateState(){gt.set({canUndo:this.canUndo(),canRedo:this.canRedo()})}},vt=globalThis,yt=vt.ShadowRoot&&(vt.ShadyCSS===void 0||vt.ShadyCSS.nativeShadow)&&`adoptedStyleSheets`in Document.prototype&&`replace`in CSSStyleSheet.prototype,bt=Symbol(),xt=new WeakMap,Y=class{constructor(e,t,n){if(this._$cssResult$=!0,n!==bt)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o,t=this.t;if(yt&&e===void 0){let n=t!==void 0&&t.length===1;n&&(e=xt.get(t)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),n&&xt.set(t,e))}return e}toString(){return this.cssText}},St=e=>new Y(typeof e==`string`?e:e+``,void 0,bt),Ct=(e,...t)=>new Y(e.length===1?e[0]:t.reduce(((t,n,r)=>t+(e=>{if(!0===e._$cssResult$)return e.cssText;if(typeof e==`number`)return e;throw Error(`Value passed to 'css' function must be a 'css' function result: `+e+`. Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.`)})(n)+e[r+1]),e[0]),e,bt),wt=(e,t)=>{if(yt)e.adoptedStyleSheets=t.map((e=>e instanceof CSSStyleSheet?e:e.styleSheet));else for(let n of t){let t=document.createElement(`style`),r=vt.litNonce;r!==void 0&&t.setAttribute(`nonce`,r),t.textContent=n.cssText,e.appendChild(t)}},Tt=yt?e=>e:e=>e instanceof CSSStyleSheet?(e=>{let t=``;for(let n of e.cssRules)t+=n.cssText;return St(t)})(e):e,{is:Et,defineProperty:X,getOwnPropertyDescriptor:Dt,getOwnPropertyNames:Z,getOwnPropertySymbols:Ot,getPrototypeOf:kt}=Object,At=globalThis,jt=At.trustedTypes,Mt=jt?jt.emptyScript:``,Nt=At.reactiveElementPolyfillSupport,Pt=(e,t)=>e,Ft={toAttribute(e,t){switch(t){case Boolean:e=e?Mt:null;break;case Object:case Array:e=e==null?e:JSON.stringify(e)}return e},fromAttribute(e,t){let n=e;switch(t){case Boolean:n=e!==null;break;case Number:n=e===null?null:Number(e);break;case Object:case Array:try{n=JSON.parse(e)}catch{n=null}}return n}},It=(e,t)=>!Et(e,t),Lt={attribute:!0,type:String,converter:Ft,reflect:!1,useDefault:!1,hasChanged:It};Symbol.metadata??=Symbol(`metadata`),At.litPropertyMetadata??=new WeakMap;var Rt=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??=[]).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,t=Lt){if(t.state&&(t.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((t=Object.create(t)).wrapped=!0),this.elementProperties.set(e,t),!t.noAccessor){let n=Symbol(),r=this.getPropertyDescriptor(e,n,t);r!==void 0&&X(this.prototype,e,r)}}static getPropertyDescriptor(e,t,n){let{get:r,set:i}=Dt(this.prototype,e)??{get(){return this[t]},set(e){this[t]=e}};return{get:r,set(t){let a=r?.call(this);i?.call(this,t),this.requestUpdate(e,a,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??Lt}static _$Ei(){if(this.hasOwnProperty(Pt(`elementProperties`)))return;let e=kt(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(Pt(`finalized`)))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(Pt(`properties`))){let e=this.properties,t=[...Z(e),...Ot(e)];for(let n of t)this.createProperty(n,e[n])}let e=this[Symbol.metadata];if(e!==null){let t=litPropertyMetadata.get(e);if(t!==void 0)for(let[e,n]of t)this.elementProperties.set(e,n)}this._$Eh=new Map;for(let[e,t]of this.elementProperties){let n=this._$Eu(e,t);n!==void 0&&this._$Eh.set(n,e)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){let t=[];if(Array.isArray(e)){let n=new Set(e.flat(1/0).reverse());for(let e of n)t.unshift(Tt(e))}else e!==void 0&&t.push(Tt(e));return t}static _$Eu(e,t){let n=t.attribute;return!1===n?void 0:typeof n==`string`?n:typeof e==`string`?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise((e=>this.enableUpdating=e)),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach((e=>e(this)))}addController(e){(this._$EO??=new Set).add(e),this.renderRoot!==void 0&&this.isConnected&&e.hostConnected?.()}removeController(e){this._$EO?.delete(e)}_$E_(){let e=new Map,t=this.constructor.elementProperties;for(let n of t.keys())this.hasOwnProperty(n)&&(e.set(n,this[n]),delete this[n]);e.size>0&&(this._$Ep=e)}createRenderRoot(){let e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return wt(e,this.constructor.elementStyles),e}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach((e=>e.hostConnected?.()))}enableUpdating(e){}disconnectedCallback(){this._$EO?.forEach((e=>e.hostDisconnected?.()))}attributeChangedCallback(e,t,n){this._$AK(e,n)}_$ET(e,t){let n=this.constructor.elementProperties.get(e),r=this.constructor._$Eu(e,n);if(r!==void 0&&!0===n.reflect){let i=(n.converter?.toAttribute===void 0?Ft:n.converter).toAttribute(t,n.type);this._$Em=e,i==null?this.removeAttribute(r):this.setAttribute(r,i),this._$Em=null}}_$AK(e,t){let n=this.constructor,r=n._$Eh.get(e);if(r!==void 0&&this._$Em!==r){let e=n.getPropertyOptions(r),i=typeof e.converter==`function`?{fromAttribute:e.converter}:e.converter?.fromAttribute===void 0?Ft:e.converter;this._$Em=r;let a=i.fromAttribute(t,e.type);this[r]=a??this._$Ej?.get(r)??a,this._$Em=null}}requestUpdate(e,t,n){if(e!==void 0){let r=this.constructor,i=this[e];if(n??=r.getPropertyOptions(e),!((n.hasChanged??It)(i,t)||n.useDefault&&n.reflect&&i===this._$Ej?.get(e)&&!this.hasAttribute(r._$Eu(e,n))))return;this.C(e,t,n)}!1===this.isUpdatePending&&(this._$ES=this._$EP())}C(e,t,{useDefault:n,reflect:r,wrapped:i},a){n&&!(this._$Ej??=new Map).has(e)&&(this._$Ej.set(e,a??t??this[e]),!0!==i||a!==void 0)||(this._$AL.has(e)||(this.hasUpdated||n||(t=void 0),this._$AL.set(e,t)),!0===r&&this._$Em!==e&&(this._$Eq??=new Set).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(e){Promise.reject(e)}let e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(let[e,t]of this._$Ep)this[e]=t;this._$Ep=void 0}let e=this.constructor.elementProperties;if(e.size>0)for(let[t,n]of e){let{wrapped:e}=n,r=this[t];!0!==e||this._$AL.has(t)||r===void 0||this.C(t,void 0,n,r)}}let e=!1,t=this._$AL;try{e=this.shouldUpdate(t),e?(this.willUpdate(t),this._$EO?.forEach((e=>e.hostUpdate?.())),this.update(t)):this._$EM()}catch(t){throw e=!1,this._$EM(),t}e&&this._$AE(t)}willUpdate(e){}_$AE(e){this._$EO?.forEach((e=>e.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&=this._$Eq.forEach((e=>this._$ET(e,this[e]))),this._$EM()}updated(e){}firstUpdated(e){}};Rt.elementStyles=[],Rt.shadowRootOptions={mode:`open`},Rt[Pt(`elementProperties`)]=new Map,Rt[Pt(`finalized`)]=new Map,Nt?.({ReactiveElement:Rt}),(At.reactiveElementVersions??=[]).push(`2.1.1`);var zt=globalThis,Bt=zt.trustedTypes,Vt=Bt?Bt.createPolicy(`lit-html`,{createHTML:e=>e}):void 0,Ht=`$lit$`,Ut=`lit$${Math.random().toFixed(9).slice(2)}$`,Wt=`?`+Ut,Gt=`<${Wt}>`,Kt=document,qt=()=>Kt.createComment(``),Jt=e=>e===null||typeof e!=`object`&&typeof e!=`function`,Yt=Array.isArray,Xt=e=>Yt(e)||typeof e?.[Symbol.iterator]==`function`,Zt=`[ 	
\f\r]`,Qt=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,$t=/-->/g,en=/>/g,tn=RegExp(`>|${Zt}(?:([^\\s"'>=/]+)(${Zt}*=${Zt}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,`g`),nn=/'/g,rn=/"/g,an=/^(?:script|style|textarea|title)$/i,Q=(e=>(t,...n)=>({_$litType$:e,strings:t,values:n}))(1),on=Symbol.for(`lit-noChange`),sn=Symbol.for(`lit-nothing`),cn=new WeakMap,ln=Kt.createTreeWalker(Kt,129);function un(e,t){if(!Yt(e)||!e.hasOwnProperty(`raw`))throw Error(`invalid template strings array`);return Vt===void 0?t:Vt.createHTML(t)}var dn=(e,t)=>{let n=e.length-1,r=[],i,a=t===2?`<svg>`:t===3?`<math>`:``,o=Qt;for(let t=0;t<n;t++){let n=e[t],s,c,l=-1,u=0;for(;u<n.length&&(o.lastIndex=u,c=o.exec(n),c!==null);)u=o.lastIndex,o===Qt?c[1]===`!--`?o=$t:c[1]===void 0?c[2]===void 0?c[3]!==void 0&&(o=tn):(an.test(c[2])&&(i=RegExp(`</`+c[2],`g`)),o=tn):o=en:o===tn?c[0]===`>`?(o=i??Qt,l=-1):c[1]===void 0?l=-2:(l=o.lastIndex-c[2].length,s=c[1],o=c[3]===void 0?tn:c[3]===`"`?rn:nn):o===rn||o===nn?o=tn:o===$t||o===en?o=Qt:(o=tn,i=void 0);let d=o===tn&&e[t+1].startsWith(`/>`)?` `:``;a+=o===Qt?n+Gt:l>=0?(r.push(s),n.slice(0,l)+Ht+n.slice(l)+Ut+d):n+Ut+(l===-2?t:d)}return[un(e,a+(e[n]||`<?>`)+(t===2?`</svg>`:t===3?`</math>`:``)),r]},fn=class e{constructor({strings:t,_$litType$:n},r){let i;this.parts=[];let a=0,o=0,s=t.length-1,c=this.parts,[l,u]=dn(t,n);if(this.el=e.createElement(l,r),ln.currentNode=this.el.content,n===2||n===3){let e=this.el.content.firstChild;e.replaceWith(...e.childNodes)}for(;(i=ln.nextNode())!==null&&c.length<s;){if(i.nodeType===1){if(i.hasAttributes())for(let e of i.getAttributeNames())if(e.endsWith(Ht)){let t=u[o++],n=i.getAttribute(e).split(Ut),r=/([.?@])?(.*)/.exec(t);c.push({type:1,index:a,name:r[2],strings:n,ctor:r[1]===`.`?_n:r[1]===`?`?vn:r[1]===`@`?yn:gn}),i.removeAttribute(e)}else e.startsWith(Ut)&&(c.push({type:6,index:a}),i.removeAttribute(e));if(an.test(i.tagName)){let e=i.textContent.split(Ut),t=e.length-1;if(t>0){i.textContent=Bt?Bt.emptyScript:``;for(let n=0;n<t;n++)i.append(e[n],qt()),ln.nextNode(),c.push({type:2,index:++a});i.append(e[t],qt())}}}else if(i.nodeType===8)if(i.data===Wt)c.push({type:2,index:a});else{let e=-1;for(;(e=i.data.indexOf(Ut,e+1))!==-1;)c.push({type:7,index:a}),e+=Ut.length-1}a++}}static createElement(e,t){let n=Kt.createElement(`template`);return n.innerHTML=e,n}};function pn(e,t,n=e,r){if(t===on)return t;let i=r===void 0?n._$Cl:n._$Co?.[r],a=Jt(t)?void 0:t._$litDirective$;return i?.constructor!==a&&(i?._$AO?.(!1),a===void 0?i=void 0:(i=new a(e),i._$AT(e,n,r)),r===void 0?n._$Cl=i:(n._$Co??=[])[r]=i),i!==void 0&&(t=pn(e,i._$AS(e,t.values),i,r)),t}var mn=class{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){let{el:{content:t},parts:n}=this._$AD,r=(e?.creationScope??Kt).importNode(t,!0);ln.currentNode=r;let i=ln.nextNode(),a=0,o=0,s=n[0];for(;s!==void 0;){if(a===s.index){let t;s.type===2?t=new hn(i,i.nextSibling,this,e):s.type===1?t=new s.ctor(i,s.name,s.strings,this,e):s.type===6&&(t=new bn(i,this,e)),this._$AV.push(t),s=n[++o]}a!==s?.index&&(i=ln.nextNode(),a++)}return ln.currentNode=Kt,r}p(e){let t=0;for(let n of this._$AV)n!==void 0&&(n.strings===void 0?n._$AI(e[t]):(n._$AI(e,n,t),t+=n.strings.length-2)),t++}},hn=class e{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(e,t,n,r){this.type=2,this._$AH=sn,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=n,this.options=r,this._$Cv=r?.isConnected??!0}get parentNode(){let e=this._$AA.parentNode,t=this._$AM;return t!==void 0&&e?.nodeType===11&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){e=pn(this,e,t),Jt(e)?e===sn||e==null||e===``?(this._$AH!==sn&&this._$AR(),this._$AH=sn):e!==this._$AH&&e!==on&&this._(e):e._$litType$===void 0?e.nodeType===void 0?Xt(e)?this.k(e):this._(e):this.T(e):this.$(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==sn&&Jt(this._$AH)?this._$AA.nextSibling.data=e:this.T(Kt.createTextNode(e)),this._$AH=e}$(e){let{values:t,_$litType$:n}=e,r=typeof n==`number`?this._$AC(e):(n.el===void 0&&(n.el=fn.createElement(un(n.h,n.h[0]),this.options)),n);if(this._$AH?._$AD===r)this._$AH.p(t);else{let e=new mn(r,this),n=e.u(this.options);e.p(t),this.T(n),this._$AH=e}}_$AC(e){let t=cn.get(e.strings);return t===void 0&&cn.set(e.strings,t=new fn(e)),t}k(t){Yt(this._$AH)||(this._$AH=[],this._$AR());let n=this._$AH,r,i=0;for(let a of t)i===n.length?n.push(r=new e(this.O(qt()),this.O(qt()),this,this.options)):r=n[i],r._$AI(a),i++;i<n.length&&(this._$AR(r&&r._$AB.nextSibling,i),n.length=i)}_$AR(e=this._$AA.nextSibling,t){for(this._$AP?.(!1,!0,t);e!==this._$AB;){let t=e.nextSibling;e.remove(),e=t}}setConnected(e){this._$AM===void 0&&(this._$Cv=e,this._$AP?.(e))}},gn=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,t,n,r,i){this.type=1,this._$AH=sn,this._$AN=void 0,this.element=e,this.name=t,this._$AM=r,this.options=i,n.length>2||n[0]!==``||n[1]!==``?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=sn}_$AI(e,t=this,n,r){let i=this.strings,a=!1;if(i===void 0)e=pn(this,e,t,0),a=!Jt(e)||e!==this._$AH&&e!==on,a&&(this._$AH=e);else{let r=e,o,s;for(e=i[0],o=0;o<i.length-1;o++)s=pn(this,r[n+o],t,o),s===on&&(s=this._$AH[o]),a||=!Jt(s)||s!==this._$AH[o],s===sn?e=sn:e!==sn&&(e+=(s??``)+i[o+1]),this._$AH[o]=s}a&&!r&&this.j(e)}j(e){e===sn?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??``)}},_n=class extends gn{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===sn?void 0:e}},vn=class extends gn{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==sn)}},yn=class extends gn{constructor(e,t,n,r,i){super(e,t,n,r,i),this.type=5}_$AI(e,t=this){if((e=pn(this,e,t,0)??sn)===on)return;let n=this._$AH,r=e===sn&&n!==sn||e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive,i=e!==sn&&(n===sn||r);r&&this.element.removeEventListener(this.name,this,n),i&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){typeof this._$AH==`function`?this._$AH.call(this.options?.host??this.element,e):this._$AH.handleEvent(e)}},bn=class{constructor(e,t,n){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(e){pn(this,e)}},xn=zt.litHtmlPolyfillSupport;xn?.(fn,hn),(zt.litHtmlVersions??=[]).push(`3.3.1`);var Sn=(e,t,n)=>{let r=n?.renderBefore??t,i=r._$litPart$;if(i===void 0){let e=n?.renderBefore??null;r._$litPart$=i=new hn(t.insertBefore(qt(),e),e,void 0,n??{})}return i._$AI(e),i},Cn=globalThis,wn=class extends Rt{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){let e=super.createRenderRoot();return this.renderOptions.renderBefore??=e.firstChild,e}update(e){let t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=Sn(t,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return on}};wn._$litElement$=!0,wn.finalized=!0,Cn.litElementHydrateSupport?.({LitElement:wn});var Tn=Cn.litElementPolyfillSupport;Tn?.({LitElement:wn}),(Cn.litElementVersions??=[]).push(`4.2.1`);var En=e=>(t,n)=>{n===void 0?customElements.define(e,t):n.addInitializer((()=>{customElements.define(e,t)}))},Dn={attribute:!0,type:String,converter:Ft,reflect:!1,hasChanged:It},On=(e=Dn,t,n)=>{let{kind:r,metadata:i}=n,a=globalThis.litPropertyMetadata.get(i);if(a===void 0&&globalThis.litPropertyMetadata.set(i,a=new Map),r===`setter`&&((e=Object.create(e)).wrapped=!0),a.set(n.name,e),r===`accessor`){let{name:r}=n;return{set(n){let i=t.get.call(this);t.set.call(this,n),this.requestUpdate(r,i,e)},init(t){return t!==void 0&&this.C(r,void 0,e,t),t}}}if(r===`setter`){let{name:r}=n;return function(n){let i=this[r];t.call(this,n),this.requestUpdate(r,i,e)}}throw Error(`Unsupported decorator location: `+r)};function kn(e){return(t,n)=>typeof n==`object`?On(e,t,n):((e,t,n)=>{let r=t.hasOwnProperty(n);return t.constructor.createProperty(n,e),r?Object.getOwnPropertyDescriptor(t,n):void 0})(e,t,n)}function An(e){return kn({...e,state:!0,attribute:!1})}function jn(e,t,n){return`#`+[e,t,n].map(e=>{let t=Math.round(e).toString(16);return t.length===1?`0`+t:t}).join(``)}function Mn(e){let t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:[0,0,0]}function Nn(e,t,n){e/=255,t/=255,n/=255;let r=Math.max(e,t,n),i=Math.min(e,t,n),a=0,o=r-i,s=r===0?0:o/r,c=r;if(r!==i){switch(r){case e:a=(t-n)/o+(t<n?6:0);break;case t:a=(n-e)/o+2;break;case n:a=(e-t)/o+4;break}a/=6}return[a*360,s*100,c*100]}function Pn(e,t,n){e/=360,t/=100,n/=100;let r=0,i=0,a=0,o=Math.floor(e*6),s=e*6-o,c=n*(1-t),l=n*(1-s*t),u=n*(1-(1-s)*t);switch(o%6){case 0:r=n,i=u,a=c;break;case 1:r=l,i=n,a=c;break;case 2:r=c,i=n,a=u;break;case 3:r=c,i=l,a=n;break;case 4:r=u,i=c,a=n;break;case 5:r=n,i=c,a=l;break}return[r*255,i*255,a*255]}function Fn(e,t,n){e/=255,t/=255,n/=255;let r=Math.max(e,t,n),i=Math.min(e,t,n),a=0,o=0,s=(r+i)/2;if(r!==i){let c=r-i;switch(o=s>.5?c/(2-r-i):c/(r+i),r){case e:a=((t-n)/c+(t<n?6:0))/6;break;case t:a=((n-e)/c+2)/6;break;case n:a=((e-t)/c+4)/6;break}}return[a*360,o*100,s*100]}function In(e,t,n){if(e/=360,t/=100,n/=100,t===0){let e=n*255;return[e,e,e]}let r=(e,t,n)=>(n<0&&(n+=1),n>1&&--n,n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e),i=n<.5?n*(1+t):n+t-n*t,a=2*n-i,o=r(a,i,e+1/3),s=r(a,i,e),c=r(a,i,e-1/3);return[o*255,s*255,c*255]}function Ln(e){return e<=.04045?e/12.92:((e+.055)/1.055)**2.4}function Rn(e){return e<=.0031308?e*12.92:1.055*e**(1/2.4)-.055}function zn(e,t,n){let r=.4122214708*e+.5363325363*t+.0514459929*n,i=.2119034982*e+.6806995451*t+.1073969566*n,a=.0883024619*e+.2817188376*t+.6299787005*n,o=Math.cbrt(r),s=Math.cbrt(i),c=Math.cbrt(a);return[.2104542553*o+.793617785*s-.0040720468*c,1.9779984951*o-2.428592205*s+.4505937099*c,.0259040371*o+.7827717662*s-.808675766*c]}function Bn(e,t,n){let r=e+.3963377774*t+.2158037573*n,i=e-.1055613458*t-.0638541728*n,a=e-.0894841775*t-1.291485548*n,o=r*r*r,s=i*i*i,c=a*a*a;return[4.0767416621*o-3.3077115913*s+.2309699292*c,-1.2684380046*o+2.6097574011*s-.3413193965*c,-.0041960863*o-.7034186147*s+1.707614701*c]}function Vn(e,t){let n,r,i,a,o,s,c,l;-1.88170328*e-.80936493*t>1?(n=1.19086277,r=1.76576728,i=.59662641,a=.75515197,o=.56771245,s=4.0767416621,c=-3.3077115913,l=.2309699292):1.81444104*e-1.19445276*t>1?(n=.73956515,r=-.45954404,i=.08285427,a=.1254107,o=.14503204,s=-1.2684380046,c=2.6097574011,l=-.3413193965):(n=1.35733652,r=-.00915799,i=-1.1513021,a=-.50559606,o=.00692167,s=-.0041960863,c=-.7034186147,l=1.707614701);let u=n+r*e+i*t+a*e*e+o*e*t,d=.3963377774*e+.2158037573*t,f=-.1055613458*e-.0638541728*t,p=-.0894841775*e-1.291485548*t;{let e=1+u*d,t=1+u*f,n=1+u*p,r=e*e*e,i=t*t*t,a=n*n*n,o=3*d*e*e,m=3*f*t*t,h=3*p*n*n,g=6*d*d*e,_=6*f*f*t,v=6*p*p*n,y=s*r+c*i+l*a,b=s*o+c*m+l*h,x=s*g+c*_+l*v;u-=y*b/(b*b-.5*y*x)}return u}function Hn(e,t){let n=Vn(e,t),[r,i,a]=Bn(1,n*e,n*t),o=Math.cbrt(1/Math.max(r,i,a));return[o,o*n]}function Un(e){let t=.206,n=.03,r=(1+t)/(1+n);return .5*(r*e-t+Math.sqrt((r*e-t)*(r*e-t)+4*n*r*e))}function Wn(e){let t=.206,n=.03;return(1+t)/(1+n),(e*e+t*e)/(1.170873786407767*(e+n))}function Gn(e,t,n){if(e/=360,t/=100,n/=100,n>=1)return[255,255,255];if(n<=0)return[0,0,0];if(t<=0){let e=Math.round(n*255);return[e,e,e]}let r=Math.cos(2*Math.PI*e),i=Math.sin(2*Math.PI*e),[a,o]=Hn(r,i),s=Wn(n),c;if(s<=a){let e=s/a;c=t*e*o}else{let e=(s-a)/(1-a);c=t*(1-e)*o}let[l,u,d]=Bn(s,c*r,c*i);return[Math.round(Math.max(0,Math.min(1,Rn(l)))*255),Math.round(Math.max(0,Math.min(1,Rn(u)))*255),Math.round(Math.max(0,Math.min(1,Rn(d)))*255)]}function Kn(e,t,n){let[r,i,a]=zn(Ln(e/255),Ln(t/255),Ln(n/255)),o=Math.sqrt(i*i+a*a),s=.5+.5*Math.atan2(-a,-i)/Math.PI;if(o<1e-4)return[s*360,0,Un(r)*100];let[c,l]=Hn(i/o,a/o),u;if(r<=c){let e=c>0?r/c*l:0;u=e>0?o/e:0}else{let e=1-c>0?(1-r)/(1-c)*l:0;u=e>0?o/e:0}let d=Un(r);return[s*360,Math.min(Math.max(u,0),1)*100,d*100]}function $(e,t,n,r){var i=arguments.length,a=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect==`object`&&typeof Reflect.decorate==`function`)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}var qn=Ct`
  :host {
    --picker-border-width: 2px;
    --picker-border-color: var(--block-border, #9f9f9f);
    --picker-handle-size: 12px;
    --picker-slider-width: 20px;
    --picker-gap: 8px;
  }
`,Jn=Ct`
  .handle {
    position: absolute;
    width: var(--picker-handle-size);
    height: var(--picker-handle-size);
    border-radius: 50%;
    border: var(--picker-border-width) solid white;
    box-shadow: 0 0 2px rgba(0, 0, 0, 0.5);
    background: transparent;
    transform: translate(-50%, -50%);
    box-sizing: border-box;
    pointer-events: none;
  }
`,Yn=Ct`
  .slider-column {
    display: flex;
    flex-direction: column;
    gap: var(--picker-gap);
    width: var(--picker-slider-width);
  }

  .color-preview {
    width: 100%;
    aspect-ratio: 1;
    border-radius: 2px;
    border: var(--picker-border-width) solid var(--picker-border-color);
    box-sizing: border-box;
    overflow: hidden;
    display: flex;
    flex-direction: column;
  }

  .color-half { flex: 1; }

  .s-slider {
    flex: 1;
    position: relative;
    border-radius: 2px;
    overflow: hidden;
    border: var(--picker-border-width) solid var(--picker-border-color);
    box-sizing: border-box;
    cursor: pointer;
  }

  .s-gradient { width: 100%; height: 100%; }

  .s-handle {
    position: absolute;
    left: 50%;
    width: calc(100% - 4px);
    height: 6px;
    border-radius: 2px;
    border: var(--picker-border-width) solid white;
    box-shadow: 0 0 2px rgba(0, 0, 0, 0.5);
    background: transparent;
    transform: translate(-50%, -50%);
    box-sizing: border-box;
    pointer-events: none;
  }
`,Xn=class extends wn{constructor(...e){super(...e),this.color=`#037ffc`,this.prevColor=`#000000`}emitChange(){this.color=this.getColorFromState(),this.dispatchEvent(new CustomEvent(`input`,{detail:{value:this.color},bubbles:!0,composed:!0})),this.requestUpdate()}emitChangeEnd(){this.dispatchEvent(new CustomEvent(`change`,{detail:{value:this.color},bubbles:!0,composed:!0}))}startDrag(e,t,n){t(e);let r=e=>t(e),i=()=>{window.removeEventListener(`pointermove`,r),window.removeEventListener(`pointerup`,i),this.emitChangeEnd(),n?.()};window.addEventListener(`pointermove`,r),window.addEventListener(`pointerup`,i)}};$([kn({type:String})],Xn.prototype,`color`,void 0),$([kn({type:String})],Xn.prototype,`prevColor`,void 0);var Zn=class extends wn{constructor(...e){super(...e),this.active=!1,this.draggable=!1,this.resizable=!1,this.blockWidth=null,this.blockHeight=null,this._isDragging=!1,this._dragOffset={x:0,y:0},this._isResizing=!1,this._resizeCorner=null,this._resizeStart={x:0,y:0,width:0,height:0,left:0,top:0,right:0,bottom:0},this._onPointerHover=e=>{if(this._isDragging||this._isResizing)return;let t=this._getResizeCorner(e);t===`left`?this.style.cursor=`nesw-resize`:t===`right`?this.style.cursor=`nwse-resize`:this.style.cursor=``},this._onPointerDown=e=>{let t=this._getResizeCorner(e);if(t){this._startResize(e,t);return}this.draggable&&this._isWhitespaceTarget(e)&&this._startDrag(e)},this._onDragMove=e=>{if(!this._isDragging)return;let t=e.clientX-this._dragOffset.x,n=e.clientY-this._dragOffset.y;this.style.left=`${t}px`,this.style.top=`${n}px`,this.style.right=`auto`,this.style.bottom=`auto`},this._onDragEnd=()=>{this._applyPercentagePosition(),this._cleanupDrag()},this._onResizeMove=e=>{if(!this._isResizing)return;let t=this._resizeStart.left,n=this._resizeStart.top,r=this._resizeStart.right,i=e.clientY;this._resizeCorner===`right`?r=e.clientX:this._resizeCorner===`left`&&(t=e.clientX);let a=r-t,o=i-n;a<100&&(this._resizeCorner===`left`&&(t=r-100),a=100),o<80&&(o=80),this.style.left=`${t}px`,this.style.top=`${n}px`,this.blockWidth=a,this.blockHeight=o,this.requestUpdate()},this._onResizeEnd=()=>{this._applyPercentagePosition(),this._cleanupResize()}}static#e=this.styles=Ct`
    :host {
      /* Design tokens */
      --block-depth: 7px;
      --block-depth-color: #bcbcbc;
      --block-border: #555555;
      --block-radius: 10px;
      --block-face-bg: #ffffff;
      --block-face-padding: 10px;
      --block-font: system-ui, sans-serif;
      --block-font-size: 13px;
      --block-font-weight: 500;
      --block-font-color: #6b6b6b;

      display: block;
      box-sizing: border-box;
      padding: 0;
      font-family: var(--block-font);
      font-size: var(--block-font-size);
      font-weight: var(--block-font-weight);
      color: var(--block-font-color);
    }

    :host([dragging]) {
      cursor: grabbing;
      user-select: none;
    }

    :host([resizing]) {
      user-select: none;
    }

    .block {
      box-sizing: border-box;
      background: var(--block-depth-color);
      border: 2px solid var(--block-border);
      border-radius: var(--block-radius);
      padding: 0 0 var(--block-depth) 0;
      height: 100%;
      box-shadow: 0 0 10px rgba(5, 0, 0, 0.3);
      position: relative;
      overflow: hidden;
    }

    .face {
      box-sizing: border-box;
      background: var(--block-face-bg);
      border-radius: calc(var(--block-radius) - 2px);
      padding: var(--block-face-padding);
      height: 100%;
      overflow: auto;
    }

    /* Resize corner zones in the depth area */
    .resize-left,
    .resize-right {
      position: absolute;
      bottom: 0;
      width: 25%;
      height: var(--block-depth);
      z-index: 10;
    }

    .resize-left {
      left: 0;
      cursor: nesw-resize;
      border-bottom-left-radius: calc(var(--block-radius) - 2px);
    }

    .resize-right {
      right: 0;
      cursor: nwse-resize;
      border-bottom-right-radius: calc(var(--block-radius) - 2px);
    }
  `;connectedCallback(){super.connectedCallback(),this.addEventListener(`pointerdown`,this._onPointerDown),this.addEventListener(`pointermove`,this._onPointerHover)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener(`pointerdown`,this._onPointerDown),this.removeEventListener(`pointermove`,this._onPointerHover),this._cleanupDrag(),this._cleanupResize()}_isWhitespaceTarget(e){let t=e.composedPath(),n=this.renderRoot.querySelector(`.block`),r=this.renderRoot.querySelector(`.face`);for(let e of t){if(e===n||e===r||e===this)return!0;if(e instanceof HTMLElement){if(e.hasAttribute(`data-interactive`))return!1;let t=e.tagName.toLowerCase();if(t===`button`||t===`input`||t===`blocky-button`)return!1;if(t===`h3`||t===`span`||t===`p`)continue}}return!1}_getResizeCorner(e){if(!this.resizable)return null;let t=this.getBoundingClientRect(),n=parseInt(getComputedStyle(this).getPropertyValue(`--block-depth`)||`10`);if(!(e.clientY>t.bottom-n-2))return null;let r=e.clientX-t.left,i=t.width*.25;return r<i?`left`:r>t.width-i?`right`:null}_startDrag(e){e.preventDefault(),this._isDragging=!0,this.setAttribute(`dragging`,``);let t=document.querySelectorAll(`[data-panel]`),n=1e3;t.forEach(e=>{let t=parseInt(window.getComputedStyle(e).zIndex||`1000`,10);t>n&&(n=t)}),this.style.zIndex=`${n+1}`;let r=this.getBoundingClientRect();this._dragOffset={x:e.clientX-r.left,y:e.clientY-r.top},window.addEventListener(`pointermove`,this._onDragMove),window.addEventListener(`pointerup`,this._onDragEnd)}_applyPercentagePosition(){let e=this.getBoundingClientRect(),t=window.innerWidth,n=window.innerHeight,r=e.left+e.width/2,i=e.top+e.height/2,a=r<t/2,o=i<n/2;if(a){let n=e.left/t*100;this.style.left=`${n}%`,this.style.right=`auto`}else{let n=(t-e.right)/t*100;this.style.right=`${n}%`,this.style.left=`auto`}if(o){let t=e.top/n*100;this.style.top=`${t}%`,this.style.bottom=`auto`}else{let t=(n-e.bottom)/n*100;this.style.bottom=`${t}%`,this.style.top=`auto`}}_cleanupDrag(){this._isDragging=!1,this.removeAttribute(`dragging`),window.removeEventListener(`pointermove`,this._onDragMove),window.removeEventListener(`pointerup`,this._onDragEnd)}_startResize(e,t){e.preventDefault(),e.stopPropagation(),this._isResizing=!0,this._resizeCorner=t,this.setAttribute(`resizing`,``);let n=this.getBoundingClientRect();this._resizeStart={x:e.clientX,y:e.clientY,width:n.width,height:n.height,left:n.left,top:n.top,right:n.right,bottom:n.bottom},this.style.left=`${n.left}px`,this.style.top=`${n.top}px`,this.style.right=`auto`,this.style.bottom=`auto`,this.blockWidth===null&&(this.blockWidth=n.width),this.blockHeight===null&&(this.blockHeight=n.height);let r=document.querySelectorAll(`[data-panel]`),i=1e3;r.forEach(e=>{let t=parseInt(window.getComputedStyle(e).zIndex||`1000`,10);t>i&&(i=t)}),this.style.zIndex=`${i+1}`,window.addEventListener(`pointermove`,this._onResizeMove),window.addEventListener(`pointerup`,this._onResizeEnd)}_cleanupResize(){this._isResizing=!1,this._resizeCorner=null,this.removeAttribute(`resizing`),window.removeEventListener(`pointermove`,this._onResizeMove),window.removeEventListener(`pointerup`,this._onResizeEnd)}updated(e){super.updated(e),(e.has(`blockWidth`)||e.has(`blockHeight`))&&(this.blockWidth!==null&&(this.style.width=`${this.blockWidth}px`),this.blockHeight!==null&&(this.style.height=`${this.blockHeight}px`))}render(){return Q`
      <div class="block">
        <div class="face">
          <slot></slot>
        </div>
        ${this.resizable?Q`
              <div class="resize-left"></div>
              <div class="resize-right"></div>
            `:``}
      </div>
    `}};$([kn({type:Boolean,reflect:!0})],Zn.prototype,`active`,void 0),$([kn({type:Boolean})],Zn.prototype,`draggable`,void 0),$([kn({type:Boolean})],Zn.prototype,`resizable`,void 0),$([kn({type:Number})],Zn.prototype,`blockWidth`,void 0),$([kn({type:Number})],Zn.prototype,`blockHeight`,void 0);var Qn=class extends Zn{constructor(...e){super(...e),this.danger=!1,this._onTouchEnd=e=>{e.preventDefault(),this.click()}}connectedCallback(){super.connectedCallback(),this.addEventListener(`touchend`,this._onTouchEnd)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener(`touchend`,this._onTouchEnd)}static#e=this.styles=Ct`
    ${Zn.styles}

    :host {
      display: inline-block;
      cursor: pointer;
      text-align: center;
      transition: padding 100ms ease-in-out;
      -webkit-tap-highlight-color: transparent;
      touch-action: manipulation;
      user-select: none;
      -webkit-user-select: none;
    }

    .block {
      transition: padding 100ms ease-in-out;
      box-shadow: 0 0 10px rgba(5, 0, 0, 0.2);
    }

    @media (hover: hover) {
      :host(:hover:not(:active):not([active])) {
        padding-top: calc(var(--block-depth) / 2);
      }
      :host(:hover:not(:active):not([active])) .block {
        padding-bottom: calc(var(--block-depth) / 2);
      }
    }

    :host(:active),
    :host([active]) {
      padding-top: var(--block-depth);
    }
    :host(:active) .block,
    :host([active]) .block {
      padding-bottom: 0;
    }

    :host([danger]) {
      --block-face-bg: #333;
      --block-color: white;
    }
  `};$([kn({type:Boolean,reflect:!0})],Qn.prototype,`danger`,void 0),Qn=$([En(`blocky-button`)],Qn);var $n=class extends wn{constructor(...e){super(...e),this.color=`#037ffc`,this.h=0,this.s=0,this.v=100}static#e=this.styles=Ct`
    :host {
      --hsv-ring-thickness: 12%;
      --hsv-border-width: 2px;
      --hsv-border-color: var(--block-border, #9f9f9f);
      --hsv-handle-size: 12px;
      --hsv-mask-bg: var(--block-face-bg, white);
      --hsv-inner-diameter: calc(100% - 2 * var(--hsv-ring-thickness));
      --hsv-sv-box-size: calc(var(--hsv-inner-diameter) * 0.707);
      --hsv-handle-position: calc(
        100% - var(--hsv-ring-thickness) - var(--hsv-border-width) / 2
      );

      display: block;
      width: 100%;
      /* Safari-compatible 1:1 aspect ratio */
      height: 0;
      padding-bottom: 100%;
      position: relative;
    }

    .hsv-container {
      position: absolute;
      inset: 0;
      user-select: none;
    }

    .hue-ring {
      position: absolute;
      inset: 0;
      border-radius: 50%;
      background: conic-gradient(red, yellow, lime, cyan, blue, magenta, red);
      cursor: pointer;
      border: var(--hsv-border-width) solid var(--hsv-border-color);
      box-sizing: border-box;
    }

    .hue-ring-mask {
      position: absolute;
      top: var(--hsv-ring-thickness);
      left: var(--hsv-ring-thickness);
      right: var(--hsv-ring-thickness);
      bottom: var(--hsv-ring-thickness);
      background: var(--hsv-mask-bg);
      border-radius: 50%;
      pointer-events: none;
      border: var(--hsv-border-width) solid var(--hsv-border-color);
      box-sizing: border-box;
    }

    .hue-handle-arm {
      position: absolute;
      top: 50%;
      left: 50%;
      width: 50%;
      height: 0;
      transform-origin: 0 0;
      pointer-events: none;
    }

    .hue-handle,
    .sv-handle {
      position: absolute;
      width: var(--hsv-handle-size);
      height: var(--hsv-handle-size);
      border-radius: 50%;
      border: var(--hsv-border-width) solid white;
      box-shadow: 0 0 2px rgba(0, 0, 0, 0.5);
      background: transparent;
      transform: translate(-50%, -50%);
      box-sizing: border-box;
      pointer-events: none;
    }

    .hue-handle {
      left: var(--hsv-handle-position);
      top: 0;
    }

    .sv-box-wrapper {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: var(--hsv-sv-box-size);
      height: var(--hsv-sv-box-size);
    }

    .sv-box {
      position: relative;
      width: 100%;
      height: 100%;
      cursor: crosshair;
      border-radius: 2px;
      overflow: hidden;
      border: var(--hsv-border-width) solid var(--hsv-border-color);
      box-sizing: border-box;
    }

    canvas {
      display: block;
      width: 100%;
      height: 100%;
    }
  `;firstUpdated(){this.canvas=this.renderRoot.querySelector(`canvas`),this.ctx=this.canvas.getContext(`2d`),this.syncFromColor(this.color),this.drawSVBox()}updated(e){if(e.has(`color`)){let e=Pn(this.h,this.s,this.v);jn(e[0],e[1],e[2])!==this.color&&(this.syncFromColor(this.color),this.drawSVBox())}}syncFromColor(e){let t=Mn(e),n=Nn(t[0],t[1],t[2]);this.h=n[0],this.s=n[1],this.v=n[2]}drawSVBox(){if(!this.ctx)return;let e=this.canvas.width,t=this.canvas.height,n=this.ctx.createImageData(e,t),r=n.data;for(let n=0;n<t;n++){let i=100-n/t*100;for(let t=0;t<e;t++){let a=t/e*100,[o,s,c]=Pn(this.h,a,i),l=(n*e+t)*4;r[l]=o,r[l+1]=s,r[l+2]=c,r[l+3]=255}}this.ctx.putImageData(n,0,0)}handleRingDown(e){let t=e.currentTarget.getBoundingClientRect(),n=t.left+t.width/2,r=t.top+t.height/2,i=e=>{let t=e.clientX-n,i=e.clientY-r,a=Math.atan2(i,t)*(180/Math.PI)+90;a<0&&(a+=360),this.h=a,this.emitChange()};i(e);let a=e=>i(e),o=()=>{window.removeEventListener(`pointermove`,a),window.removeEventListener(`pointerup`,o),this.emitChangeEnd()};window.addEventListener(`pointermove`,a),window.addEventListener(`pointerup`,o)}handleBoxDown(e){let t=e.currentTarget.getBoundingClientRect(),n=e=>{let n=Math.max(0,Math.min(1,(e.clientX-t.left)/t.width)),r=Math.max(0,Math.min(1,(e.clientY-t.top)/t.height));this.s=n*100,this.v=(1-r)*100,this.emitChange()};n(e);let r=e=>n(e),i=()=>{window.removeEventListener(`pointermove`,r),window.removeEventListener(`pointerup`,i),this.emitChangeEnd()};window.addEventListener(`pointermove`,r),window.addEventListener(`pointerup`,i)}emitChange(){let[e,t,n]=Pn(this.h,this.s,this.v);this.color=jn(e,t,n),this.dispatchEvent(new CustomEvent(`input`,{detail:{value:this.color},bubbles:!0,composed:!0})),this.drawSVBox(),this.requestUpdate()}emitChangeEnd(){this.dispatchEvent(new CustomEvent(`change`,{detail:{value:this.color},bubbles:!0,composed:!0}))}render(){let e=this.s,t=100-this.v;return Q`
      <div class="hsv-container">
        <div class="hue-ring" data-interactive @pointerdown=${this.handleRingDown}></div>
        <div class="hue-ring-mask"></div>
        <div
          class="hue-handle-arm"
          style="transform: rotate(${this.h-90}deg)"
        >
          <div class="hue-handle"></div>
        </div>
        <div class="sv-box-wrapper">
          <div class="sv-box" data-interactive @pointerdown=${this.handleBoxDown}>
            <canvas width="100" height="100"></canvas>
            <div
              class="sv-handle"
              style="left: ${e}%; top: ${t}%;"
            ></div>
          </div>
        </div>
      </div>
    `}};$([kn({type:String})],$n.prototype,`color`,void 0),$n=$([En(`hsv-wheel`)],$n);var er=class extends Xn{constructor(...e){super(...e),this.h=0,this.s=100,this.l=50}static#e=this.styles=[qn,Jn,Yn,Ct`
    :host {
      display: block;
      height: 100%;
    }

    .hsl-container {
      display: flex;
      gap: var(--picker-gap);
      width: 100%;
      height: 100%;
      user-select: none;
    }

    .hl-box {
      flex: 1;
      position: relative;
      cursor: crosshair;
      border-radius: 2px;
      overflow: hidden;
      border: var(--picker-border-width) solid var(--picker-border-color);
      box-sizing: border-box;
    }

    .hl-box canvas {
      display: block;
      width: 100%;
      height: 100%;
    }
    
    .hl-handle { /* extends .handle */ }
  `];firstUpdated(){this.canvas=this.renderRoot.querySelector(`canvas`),this.ctx=this.canvas.getContext(`2d`),this.sliderEl=this.renderRoot.querySelector(`.s-gradient`),this.syncFromColor(this.color),this.drawHLBox(),this.updateSaturationGradient()}updated(e){if(e.has(`color`)){let e=In(this.h,this.s,this.l);jn(e[0],e[1],e[2])!==this.color&&(this.syncFromColor(this.color),this.drawHLBox(),this.updateSaturationGradient())}}syncFromColor(e){let t=Mn(e),n=Fn(t[0],t[1],t[2]);this.h=n[0],this.s=n[1],this.l=n[2]}getColorFromState(){let[e,t,n]=In(this.h,this.s,this.l);return jn(e,t,n)}drawHLBox(){if(!this.ctx)return;let e=this.canvas.width,t=this.canvas.height,n=this.ctx.createImageData(e,t),r=n.data;for(let n=0;n<t;n++){let i=100-n/t*100;for(let t=0;t<e;t++){let[a,o,s]=In(t/e*360,this.s,i),c=(n*e+t)*4;r[c]=a,r[c+1]=o,r[c+2]=s,r[c+3]=255}}this.ctx.putImageData(n,0,0)}updateSaturationGradient(){if(!this.sliderEl)return;let[e,t,n]=In(this.h,100,this.l),[r,i,a]=In(this.h,0,this.l);this.sliderEl.style.background=`linear-gradient(to bottom, 
      rgb(${e}, ${t}, ${n}), 
      rgb(${r}, ${i}, ${a}))`}handleSliderDown(e){let t=e.currentTarget.getBoundingClientRect(),n=e=>{this.s=(1-Math.max(0,Math.min(1,(e.clientY-t.top)/t.height)))*100,this.emitChange(),this.drawHLBox()};n(e);let r=e=>n(e),i=()=>{window.removeEventListener(`pointermove`,r),window.removeEventListener(`pointerup`,i),this.emitChangeEnd()};window.addEventListener(`pointermove`,r),window.addEventListener(`pointerup`,i)}handleBoxDown(e){let t=e.currentTarget.getBoundingClientRect(),n=e=>{let n=Math.max(0,Math.min(1,(e.clientX-t.left)/t.width)),r=Math.max(0,Math.min(1,(e.clientY-t.top)/t.height));this.h=n*360,this.l=(1-r)*100,this.emitChange(),this.updateSaturationGradient()};n(e);let r=e=>n(e),i=()=>{window.removeEventListener(`pointermove`,r),window.removeEventListener(`pointerup`,i),this.emitChangeEnd()};window.addEventListener(`pointermove`,r),window.addEventListener(`pointerup`,i)}render(){let e=this.h/360*100,t=100-this.l,n=(1-this.s/100)*100;return Q`
      <div class="hsl-container">
        <div class="hl-box" data-interactive @pointerdown=${this.handleBoxDown}>
          <canvas width="100" height="100"></canvas>
          <div class="handle" style="left: ${e}%; top: ${t}%;"></div>
        </div>
        <div class="slider-column">
          <div class="color-preview">
            <div class="color-half" style="background: ${this.prevColor}"></div>
            <div class="color-half" style="background: ${this.color}"></div>
          </div>
          <div class="s-slider" data-interactive @pointerdown=${this.handleSliderDown}>
            <div class="s-gradient"></div>
            <div class="s-handle" style="top: ${n}%;"></div>
          </div>
        </div>
      </div>
    `}};er=$([En(`hsl-picker`)],er);var tr=class extends Xn{constructor(...e){super(...e),this.h=0,this.s=100,this.l=50}static#e=this.styles=[qn,Jn,Yn,Ct`
    :host {
      display: block;
      height: 100%;
    }

    .okhsl-container {
      display: flex;
      gap: var(--picker-gap);
      width: 100%;
      height: 100%;
      user-select: none;
    }

    .hl-box {
      flex: 1;
      position: relative;
      cursor: crosshair;
      border-radius: 2px;
      overflow: hidden;
      border: var(--picker-border-width) solid var(--picker-border-color);
      box-sizing: border-box;
    }

    .hl-box canvas {
      display: block;
      width: 100%;
      height: 100%;
    }
  `];firstUpdated(){this.canvas=this.renderRoot.querySelector(`canvas`),this.ctx=this.canvas.getContext(`2d`),this.sliderEl=this.renderRoot.querySelector(`.s-gradient`),this.syncFromColor(this.color),this.drawHLBox(),this.updateSaturationGradient()}updated(e){if(e.has(`color`)){let e=Gn(this.h,this.s,this.l);jn(e[0],e[1],e[2])!==this.color&&(this.syncFromColor(this.color),this.drawHLBox(),this.updateSaturationGradient())}}syncFromColor(e){let t=Mn(e),n=Kn(t[0],t[1],t[2]);this.h=n[0],this.s=n[1],this.l=n[2]}getColorFromState(){let[e,t,n]=Gn(this.h,this.s,this.l);return jn(e,t,n)}drawHLBox(){if(!this.ctx)return;let e=this.canvas.width,t=this.canvas.height,n=this.ctx.createImageData(e,t),r=n.data;for(let n=0;n<t;n++){let i=100-n/t*100;for(let t=0;t<e;t++){let[a,o,s]=Gn(t/e*360,this.s,i),c=(n*e+t)*4;r[c]=a,r[c+1]=o,r[c+2]=s,r[c+3]=255}}this.ctx.putImageData(n,0,0)}updateSaturationGradient(){if(!this.sliderEl)return;let[e,t,n]=Gn(this.h,100,this.l),[r,i,a]=Gn(this.h,0,this.l);this.sliderEl.style.background=`linear-gradient(to bottom, 
      rgb(${e}, ${t}, ${n}), 
      rgb(${r}, ${i}, ${a}))`}handleSliderDown(e){let t=e.currentTarget.getBoundingClientRect(),n=e=>{this.s=(1-Math.max(0,Math.min(1,(e.clientY-t.top)/t.height)))*100,this.emitChange(),this.drawHLBox()};n(e);let r=e=>n(e),i=()=>{window.removeEventListener(`pointermove`,r),window.removeEventListener(`pointerup`,i),this.emitChangeEnd()};window.addEventListener(`pointermove`,r),window.addEventListener(`pointerup`,i)}handleBoxDown(e){let t=e.currentTarget.getBoundingClientRect(),n=e=>{let n=Math.max(0,Math.min(1,(e.clientX-t.left)/t.width)),r=Math.max(0,Math.min(1,(e.clientY-t.top)/t.height));this.h=n*360,this.l=(1-r)*100,this.emitChange(),this.updateSaturationGradient()};n(e);let r=e=>n(e),i=()=>{window.removeEventListener(`pointermove`,r),window.removeEventListener(`pointerup`,i),this.emitChangeEnd()};window.addEventListener(`pointermove`,r),window.addEventListener(`pointerup`,i)}render(){let e=this.h/360*100,t=100-this.l,n=(1-this.s/100)*100;return Q`
      <div class="okhsl-container">
        <div class="hl-box" data-interactive @pointerdown=${this.handleBoxDown}>
          <canvas width="100" height="100"></canvas>
          <div class="handle" style="left: ${e}%; top: ${t}%;"></div>
        </div>
        <div class="slider-column">
          <div class="color-preview">
            <div class="color-half" style="background: ${this.prevColor}"></div>
            <div class="color-half" style="background: ${this.color}"></div>
          </div>
          <div class="s-slider" data-interactive @pointerdown=${this.handleSliderDown}>
            <div class="s-gradient"></div>
            <div class="s-handle" style="top: ${n}%;"></div>
          </div>
        </div>
      </div>
    `}};tr=$([En(`okhsl-rect-picker`)],tr);var nr=class extends Xn{constructor(...e){super(...e),this.lightnessCurve=.5,this.h=0,this.s=100,this.l=50}static#e=this.styles=[qn,Jn,Yn,Ct`
    :host {
      display: block;
    }

    .okhsl-container {
      display: flex;
      gap: var(--picker-gap);
      width: 100%;
      user-select: none;
    }

    .hl-circle-wrapper {
      position: relative;
      /* Safari-compatible 1:1 aspect ratio - square based on available width */
      width: calc(100% - var(--picker-slider-width) - var(--picker-gap));
      height: 0;
      padding-bottom: calc(100% - var(--picker-slider-width) - var(--picker-gap));
    }

    .hl-circle {
      position: absolute;
      inset: 0;
      cursor: crosshair;
      border-radius: 50%;
      overflow: hidden;
      border: var(--picker-border-width) solid var(--picker-border-color);
      box-sizing: border-box;
    }

    .hl-circle canvas {
      display: block;
      width: 100%;
      height: 100%;
    }
  `];firstUpdated(){this.canvas=this.renderRoot.querySelector(`canvas`),this.ctx=this.canvas.getContext(`2d`),this.sliderEl=this.renderRoot.querySelector(`.s-gradient`),this.syncFromColor(this.color),this.drawHLCircle(),this.updateSaturationGradient()}updated(e){if(e.has(`color`)){let e=Gn(this.h,this.s,this.l);jn(e[0],e[1],e[2])!==this.color&&(this.syncFromColor(this.color),this.drawHLCircle(),this.updateSaturationGradient())}e.has(`lightnessCurve`)&&this.drawHLCircle()}syncFromColor(e){let t=Mn(e),n=Kn(t[0],t[1],t[2]);this.h=n[0],this.s=n[1],this.l=n[2]}getColorFromState(){let[e,t,n]=Gn(this.h,this.s,this.l);return jn(e,t,n)}drawHLCircle(){if(!this.ctx)return;let e=this.canvas.width,t=e/2,n=e/2,r=e/2,i=this.ctx.createImageData(e,e),a=i.data;for(let i=0;i<e;i++)for(let o=0;o<e;o++){let s=o-t,c=i-n,l=Math.sqrt(s*s+c*c);if(l<=r){let t=Math.atan2(c,s)*(180/Math.PI)+90;t<0&&(t+=360);let n=(l/r)**+this.lightnessCurve*100,[u,d,f]=Gn(t,this.s,n),p=(i*e+o)*4;a[p]=u,a[p+1]=d,a[p+2]=f,a[p+3]=255}}this.ctx.putImageData(i,0,0)}updateSaturationGradient(){if(!this.sliderEl)return;let[e,t,n]=Gn(this.h,100,this.l),[r,i,a]=Gn(this.h,0,this.l);this.sliderEl.style.background=`linear-gradient(to bottom, 
      rgb(${e}, ${t}, ${n}), 
      rgb(${r}, ${i}, ${a}))`}handleSliderDown(e){let t=e.currentTarget.getBoundingClientRect(),n=e=>{this.s=(1-Math.max(0,Math.min(1,(e.clientY-t.top)/t.height)))*100,this.emitChange(),this.drawHLCircle()};n(e);let r=e=>n(e),i=()=>{window.removeEventListener(`pointermove`,r),window.removeEventListener(`pointerup`,i),this.emitChangeEnd()};window.addEventListener(`pointermove`,r),window.addEventListener(`pointerup`,i)}handleCircleDown(e){let t=e.currentTarget.getBoundingClientRect(),n=t.width/2,r=t.height/2,i=Math.min(n,r),a=e=>{let a=e.clientX-t.left-n,o=e.clientY-t.top-r,s=Math.min(Math.sqrt(a*a+o*o),i),c=Math.atan2(o,a)*(180/Math.PI)+90;c<0&&(c+=360),this.h=c,this.l=(s/i)**+this.lightnessCurve*100,this.emitChange(),this.updateSaturationGradient()};a(e);let o=e=>a(e),s=()=>{window.removeEventListener(`pointermove`,o),window.removeEventListener(`pointerup`,s),this.emitChangeEnd()};window.addEventListener(`pointermove`,o),window.addEventListener(`pointerup`,s)}render(){let e=(this.h-90)*Math.PI/180,t=(this.l/100)**(1/this.lightnessCurve),n=50+t*50*Math.cos(e),r=50+t*50*Math.sin(e),i=(1-this.s/100)*100;return Q`
      <div class="okhsl-container">
        <div class="hl-circle-wrapper">
          <div class="hl-circle" data-interactive @pointerdown=${this.handleCircleDown}>
            <canvas width="100" height="100"></canvas>
            <div class="handle" style="left: ${n}%; top: ${r}%;"></div>
          </div>
        </div>
        <div class="slider-column">
          <div class="color-preview">
            <div class="color-half" style="background: ${this.prevColor}"></div>
            <div class="color-half" style="background: ${this.color}"></div>
          </div>
          <div class="s-slider" data-interactive @pointerdown=${this.handleSliderDown}>
            <div class="s-gradient"></div>
            <div class="s-handle" style="top: ${i}%;"></div>
          </div>
        </div>
      </div>
    `}};$([kn({type:Number})],nr.prototype,`lightnessCurve`,void 0),nr=$([En(`okhsl-picker`)],nr);var rr=class extends Zn{static#e=this.styles=Ct`
    ${Zn.styles}

    :host {
      position: fixed;
      z-index: 1000;
      top: var(--panel-top, auto);
      right: var(--panel-right, auto);
      bottom: var(--panel-bottom, auto);
      left: var(--panel-left, auto);
      width: var(--panel-width, auto);
      touch-action: auto;
    }

    .block {
      display: flex;
      flex-direction: column;
    }

    .face {
      flex: 1;
      min-height: 0;
    }

    section {
      margin-bottom: 12px;
    }
    section:last-child {
      margin-bottom: 0;
    }

    h3 {
      margin: 0 0 8px;
      font-size: 11px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      color: #666;
    }

    .grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 8px;
    }

    .row {
      display: flex;
      gap: 8px;
    }
    .row > * {
      flex: 1;
    }

    label {
      display: block;
      margin-bottom: 12px;
    }
    label > span {
      display: block;
      margin-bottom: 6px;
    }
    label:last-child {
      margin-bottom: 0;
    }

    input[type="range"] {
      width: 100%;
    }

    .toggle {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 12px;
    }

    .hint {
      color: #666;
      font-style: italic;
    }
  `;connectedCallback(){super.connectedCallback(),this.setAttribute(`data-panel`,``)}},ir=class extends rr{constructor(...e){super(...e),this.color=`#037ffc`,this.prevColor=`#000000`}static#e=this.styles=Ct`
    ${rr.styles}

    :host {
      --block-radius: 50% 15% 50% 50%;
      --block-face-padding: 10px;
      --panel-width: 180px;
    }

    .block {
      overflow: hidden;
    }

    .face {
      padding: var(--block-face-padding);
      border-radius: var(--block-radius);
      position: relative;
    }

    .color-preview {
      position: absolute;
      top: 5%;
      right: 5%;
      width: 12%;
      height: 12%;
      border-radius: 50%;
      border: 2px solid var(--block-border);
      box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.2);
      pointer-events: none;
      overflow: hidden;
    }

    .color-half {
      position: absolute;
      top: 0;
      width: 50%;
      height: 100%;
    }

    .color-half.prev {
      left: 0;
    }

    .color-half.current {
      right: 0;
    }
  `;connectedCallback(){super.connectedCallback(),this.unsubscribeColor=ct.subscribe(e=>{this.color!==e&&(this.color=e)}),this.unsubscribePrevColor=lt.subscribe(e=>{this.prevColor=e})}disconnectedCallback(){super.disconnectedCallback(),this.unsubscribeColor?.(),this.unsubscribePrevColor?.()}emit(e,t){this.dispatchEvent(new CustomEvent(e,{detail:t,bubbles:!0,composed:!0}))}render(){return Q`
      <div class="block">
        <div class="face">
          <hsv-wheel
            .color=${this.color}
            @input=${e=>{this.color=e.detail.value,ct.set(this.color),this.emit(`color-change`,this.color)}}
            @change=${()=>{lt.set(this.color)}}
          ></hsv-wheel>
          <div class="color-preview">
            <div class="color-half prev" style="background: ${this.prevColor}"></div>
            <div class="color-half current" style="background: ${this.color}"></div>
          </div>
        </div>
        ${this.resizable?Q`
              <div class="resize-left"></div>
              <div class="resize-right"></div>
            `:``}
      </div>
    `}};$([kn({type:String})],ir.prototype,`color`,void 0),$([An()],ir.prototype,`prevColor`,void 0),ir=$([En(`inkwell-color-panel`)],ir);var ar=class extends rr{constructor(...e){super(...e),this.color=`#037ffc`,this.prevColor=`#000000`}static#e=this.styles=Ct`
    ${rr.styles}
    :host {
      --panel-width: 180px;
    }
  `;connectedCallback(){super.connectedCallback(),this.unsubscribeColor=ct.subscribe(e=>{this.color!==e&&(this.color=e)}),this.unsubscribePrevColor=lt.subscribe(e=>{this.prevColor=e})}disconnectedCallback(){super.disconnectedCallback(),this.unsubscribeColor?.(),this.unsubscribePrevColor?.()}emit(e,t){this.dispatchEvent(new CustomEvent(e,{detail:t,bubbles:!0,composed:!0}))}render(){return Q`
      <div class="block">
        <div class="face">
          <hsl-picker
            .color=${this.color}
            .prevColor=${this.prevColor}
            @input=${e=>{this.color=e.detail.value,ct.set(this.color),this.emit(`color-change`,this.color)}}
            @change=${()=>{lt.set(this.color)}}
          ></hsl-picker>
        </div>
        ${this.resizable?Q`
              <div class="resize-left"></div>
              <div class="resize-right"></div>
            `:``}
      </div>
    `}};$([kn({type:String})],ar.prototype,`color`,void 0),$([An()],ar.prototype,`prevColor`,void 0),ar=$([En(`inkwell-hsl-panel`)],ar);var or=class extends rr{constructor(...e){super(...e),this.color=`#037ffc`,this.prevColor=`#000000`}static#e=this.styles=Ct`
    ${rr.styles}
    :host {
      --panel-width: 180px;
    }
  `;connectedCallback(){super.connectedCallback(),this.unsubscribeColor=ct.subscribe(e=>{this.color!==e&&(this.color=e)}),this.unsubscribePrevColor=lt.subscribe(e=>{this.prevColor=e})}disconnectedCallback(){super.disconnectedCallback(),this.unsubscribeColor?.(),this.unsubscribePrevColor?.()}emit(e,t){this.dispatchEvent(new CustomEvent(e,{detail:t,bubbles:!0,composed:!0}))}render(){return Q`
      <div class="block">
        <div class="face">
          <okhsl-rect-picker
            .color=${this.color}
            .prevColor=${this.prevColor}
            @input=${e=>{this.color=e.detail.value,ct.set(this.color),this.emit(`color-change`,this.color)}}
            @change=${()=>{lt.set(this.color)}}
          ></okhsl-rect-picker>
        </div>
        ${this.resizable?Q`
              <div class="resize-left"></div>
              <div class="resize-right"></div>
            `:``}
      </div>
    `}};$([kn({type:String})],or.prototype,`color`,void 0),$([An()],or.prototype,`prevColor`,void 0),or=$([En(`inkwell-okhsl-rect-panel`)],or);var sr=class extends rr{constructor(...e){super(...e),this.color=`#037ffc`,this.prevColor=`#000000`,this.lightnessCurve=.5}static#e=this.styles=Ct`
    ${rr.styles}
    :host {
      --panel-width: 200px;
    }

    .curve-control {
      margin-top: 8px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .curve-control span {
      font-size: 10px;
      color: #666;
      min-width: 28px;
    }

    .curve-control input {
      flex: 1;
    }
  `;connectedCallback(){super.connectedCallback(),this.unsubscribeColor=ct.subscribe(e=>{this.color!==e&&(this.color=e)}),this.unsubscribePrevColor=lt.subscribe(e=>{this.prevColor=e})}disconnectedCallback(){super.disconnectedCallback(),this.unsubscribeColor?.(),this.unsubscribePrevColor?.()}emit(e,t){this.dispatchEvent(new CustomEvent(e,{detail:t,bubbles:!0,composed:!0}))}render(){return Q`
      <div class="block">
        <div class="face">
          <okhsl-picker
            .color=${this.color}
            .prevColor=${this.prevColor}
            .lightnessCurve=${this.lightnessCurve}
            @input=${e=>{this.color=e.detail.value,ct.set(this.color),this.emit(`color-change`,this.color)}}
            @change=${()=>{lt.set(this.color)}}
          ></okhsl-picker>
          <div class="curve-control">
            <span>Light</span>
            <input
              type="range"
              min="0.2"
              max="1.5"
              step="0.05"
              .value=${String(this.lightnessCurve)}
              @input=${e=>{this.lightnessCurve=parseFloat(e.target.value)}}
            />
            <span>Dark</span>
          </div>
        </div>
        ${this.resizable?Q`
              <div class="resize-left"></div>
              <div class="resize-right"></div>
            `:``}
      </div>
    `}};$([kn({type:String})],sr.prototype,`color`,void 0),$([An()],sr.prototype,`prevColor`,void 0),$([An()],sr.prototype,`lightnessCurve`,void 0),sr=$([En(`inkwell-okhsl-panel`)],sr);var cr=class extends rr{constructor(...e){super(...e),this.tool=new st(this,ut)}static#e=this.styles=Ct`
    ${rr.styles}
  `;emit(e,t){this.dispatchEvent(new CustomEvent(e,{detail:t,bubbles:!0,composed:!0}))}setTool(e){this.tool.set(e),this.emit(`tool-change`,e)}render(){return Q`
      <div class="block">
        <div class="face">
          <h3>Tools</h3>
          <div class="grid">
            ${Me.map(e=>Q`
                <blocky-button
                  ?active=${this.tool.value===e.id}
                  @click=${()=>this.setTool(e.id)}
                  >${e.name}</blocky-button
                >
              `)}
          </div>
        </div>
      </div>
    `}};cr=$([En(`inkwell-tools-panel`)],cr);var lr=class extends rr{constructor(...e){super(...e),this.pixelRes=2,this.tool=new st(this,ut),this.modifiers=new st(this,ft),this.settings=new st(this,pt)}static#e=this.styles=Ct`
    ${rr.styles}
  `;emit(e,t){this.dispatchEvent(new CustomEvent(e,{detail:t,bubbles:!0,composed:!0}))}updateSetting(e,t,n){this.settings.update(r=>({...r,[e]:{...r[e],[t]:n}})),this.emit(`settings-change`,this.settings.value)}renderPixelRes(){return Q`
      <label>
        <span>Pixel Resolution: ${this.pixelRes}x</span>
        <input
          type="range"
          min="1"
          max="8"
          step="1"
          .value=${String(this.pixelRes)}
          @input=${e=>{this.pixelRes=parseInt(e.target.value),this.emit(`pixel-res-change`,this.pixelRes)}}
        />
      </label>
    `}renderSetting(e,t,n,r){let i=t===`mode`&&this.modifiers.value.shift?`(Shift toggled)`:``,a=this.formatLabel(t);return n.type===`toggle`?Q`
        <label>
          <span>${a} ${i}</span>
          <div class="row">
            ${n.options.map(n=>Q`
                <blocky-button
                  ?active=${r===n}
                  @click=${()=>this.updateSetting(e,t,n)}
                  >${this.formatLabel(n)}</blocky-button
                >
              `)}
          </div>
        </label>
      `:n.type===`range`?Q`
        <label>
          <span>${a}: ${r}</span>
          <input
            type="range"
            min=${n.min}
            max=${n.max}
            step=${n.step}
            .value=${String(r)}
            @input=${n=>this.updateSetting(e,t,parseFloat(n.target.value))}
          />
        </label>
      `:n.type===`color`?Q`
        <label>
          <span>${a}</span>
          <input
            type="color"
            .value=${String(r)}
            @input=${n=>this.updateSetting(e,t,n.target.value)}
          />
        </label>
      `:Q``}formatLabel(e){return e.replace(/([A-Z])/g,` $1`).replace(/^./,e=>e.toUpperCase()).trim()}renderToolSettings(){let e=this.tool.value,t=Ne(e),n=this.settings.value[e],r=t.settings,i=Object.keys(r);return i.length===0?e===`select`?Q`<p class="hint">Click to select, drag to move.</p>`:e===`pan`?Q`<p class="hint">Drag to pan, scroll to zoom.</p>`:Q``:Q`
      ${i.map(t=>this.renderSetting(e,t,r[t],n[t]))}
      ${this.renderPixelRes()}
    `}render(){return Q`
      <div class="block">
        <div class="face">
            <h3>Tool Settings</h3>
            ${this.renderToolSettings()}
        </div>
      </div>
    `}};$([kn({type:Number})],lr.prototype,`pixelRes`,void 0),lr=$([En(`inkwell-tool-settings-panel`)],lr);var ur=class extends rr{constructor(...e){super(...e),this.zoomLevel=100,this.rotation=0,this.cursorEnabled=!0,this.panelVisibility=[{id:`color-panel`,label:`HSV`,visible:!0},{id:`hsl-panel`,label:`HSL`,visible:!0},{id:`okhsl-rect-panel`,label:`OKHSL`,visible:!0},{id:`tools-panel`,label:`Tools`,visible:!0},{id:`tool-settings-panel`,label:`Settings`,visible:!0}],this.history=new st(this,gt)}static#e=this.styles=Ct`
    ${rr.styles}
  `;connectedCallback(){super.connectedCallback(),this.syncPanelVisibility()}syncPanelVisibility(){this.panelVisibility=this.panelVisibility.map(e=>{let t=document.getElementById(e.id);if(t){let n=t.style.display===`none`;return{...e,visible:!n}}return e})}togglePanel(e){let t=document.getElementById(e);if(t){let n=this.panelVisibility.find(t=>t.id===e);if(n){let r=!n.visible;t.style.display=r?``:`none`,this.panelVisibility=this.panelVisibility.map(t=>t.id===e?{...t,visible:r}:t)}}}emit(e,t){this.dispatchEvent(new CustomEvent(e,{detail:t,bubbles:!0,composed:!0}))}render(){return Q`
      <div class="block">
        <div class="face">
          <h3>View</h3>
            <div class="toggle">
              <span>Show Cursor</span>
              <input
                type="checkbox"
                .checked=${this.cursorEnabled}
                @change=${e=>{this.cursorEnabled=e.target.checked,this.emit(`cursor-toggle`,this.cursorEnabled)}}
              />
            </div>

            <label>
              <span>Zoom: ${this.zoomLevel}%</span>
              <div class="row">
                <blocky-button @click=${()=>this.emit(`zoom-out`)}
                  ></blocky-button
                >
                <blocky-button @click=${()=>this.emit(`zoom-reset`)}
                  >Reset</blocky-button
                >
                <blocky-button @click=${()=>this.emit(`zoom-in`)}
                  >+</blocky-button
                >
              </div>
            </label>

            <label>
              <span>Rotation: ${Math.round(this.rotation)}</span>
              <div class="row">
                <blocky-button @click=${()=>this.emit(`rotate-ccw`)}
                  >CCW</blocky-button
                >
                <blocky-button @click=${()=>this.emit(`rotate-reset`)}
                  >Reset</blocky-button
                >
                <blocky-button @click=${()=>this.emit(`rotate-cw`)}
                  >CW</blocky-button
                >
              </div>
            </label>

            <div class="row">
              <blocky-button
                ?disabled=${!this.history.value.canUndo}
                @click=${()=>this.emit(`undo`)}
                >Undo</blocky-button
              >
              <blocky-button
                ?disabled=${!this.history.value.canRedo}
                @click=${()=>this.emit(`redo`)}
                >Redo</blocky-button
              >
            </div>

            <div class="row">
              <blocky-button @click=${()=>this.emit(`flatten`)}
                >Flatten</blocky-button
              >
              <blocky-button danger @click=${()=>this.emit(`clear`)}
                >Clear</blocky-button
              >
            </div>

          <section>
            <h3>Panels</h3>
            <div class="grid">
              ${this.panelVisibility.map(e=>Q`
                  <blocky-button
                    ?active=${e.visible}
                    @click=${()=>this.togglePanel(e.id)}
                    >${e.label}</blocky-button
                  >
                `)}
            </div>
          </section>
        </div>
      </div>
    `}};$([kn({type:Number})],ur.prototype,`zoomLevel`,void 0),$([kn({type:Number})],ur.prototype,`rotation`,void 0),$([kn({type:Boolean})],ur.prototype,`cursorEnabled`,void 0),$([An()],ur.prototype,`panelVisibility`,void 0),ur=$([En(`inkwell-universal-panel`)],ur);var dr=c(Oe(),1),fr=class{constructor(){if(this.isInitialized=!1,this.pixelResScale=2,this.paperCanvas=document.getElementById(`paper-canvas`),this.pixelCanvas=document.getElementById(`pixel-canvas`),this.uiCanvas=document.getElementById(`ui-canvas`),!this.paperCanvas||!this.pixelCanvas||!this.uiCanvas)throw Error(`Canvas elements not found`);let e=this.pixelCanvas.getContext(`2d`),t=this.uiCanvas.getContext(`2d`);if(!e||!t)throw Error(`Could not get 2D contexts`);this.pixelCanvas2D=e,this.uiCanvas2D=t,this.config=this.calculateConfig(),this.camera=new at(this.config.viewportWidth,this.config.viewportHeight),this.pixelCanvasManager=new Le(this.pixelCanvas,this.pixelCanvas2D,this.config),this.tracer=new Re(Ee),this.paperRenderer=new rt(this.paperCanvas,this.config),this.paperRenderer.setCamera(this.camera),this.uiOverlay=new it(this.uiCanvas,this.uiCanvas2D,this.config),this.uiOverlay.setCamera(this.camera),this.selectionController=new mt(this.paperRenderer,this.camera,this.uiOverlay,this.uiCanvas2D),this.historyManager=new _t,this.selectionController.setSnapshotCallback(()=>this.historyManager.snapshot()),this.toolsPanel=document.getElementById(`tools-panel`),this.toolSettingsPanel=document.getElementById(`tool-settings-panel`),this.universalPanel=document.getElementById(`universal-panel`),this.setupPanelEvents(),this.inputManager=new Ie(this.uiCanvas,this.config),this.subscribeToInputEvents()}subscribeToInputEvents(){q.on(J.TOOL_START,e=>this.onToolStart(e.point,e.tool)),q.on(J.TOOL_MOVE,e=>this.onToolMove(e.point,e.tool)),q.on(J.TOOL_END,e=>this.onToolEnd(e)),q.on(J.TOOL_CANCEL,e=>this.onToolCancel(e)),q.on(J.POINTER_MOVE,e=>this.onPointerMove(e)),q.on(J.CAMERA_PAN,e=>this.onCameraPan(e.deltaX,e.deltaY)),q.on(J.CAMERA_ZOOM,e=>this.onCameraZoom(e.factor,e.x,e.y)),q.on(J.CAMERA_ROTATE,e=>this.onCameraRotate(e.delta,e.x,e.y)),q.on(J.TOOL_CHANGE,e=>this.onInputToolChange(e)),q.on(J.MODIFIERS_CHANGE,e=>this.onModifiersChange(e)),q.on(J.UNDO,()=>this.onUndo()),q.on(J.REDO,()=>this.onRedo())}setupPanelEvents(){this.toolsPanel.addEventListener(`tool-change`,e=>{let t=e.detail;this.onToolChange(t),this.inputManager.setTool(t)}),this.toolSettingsPanel.addEventListener(`settings-change`,e=>{let t=e.detail;this.onToolSettingsChange(t)}),this.toolSettingsPanel.addEventListener(`pixel-res-change`,e=>{this.onPixelResChange(e.detail)}),this.universalPanel.addEventListener(`cursor-toggle`,e=>{this.uiOverlay.setCursorEnabled(e.detail)}),this.universalPanel.addEventListener(`zoom-in`,()=>this.onZoomIn()),this.universalPanel.addEventListener(`zoom-out`,()=>this.onZoomOut()),this.universalPanel.addEventListener(`zoom-reset`,()=>this.onZoomReset()),this.universalPanel.addEventListener(`rotate-cw`,()=>this.onRotateCW()),this.universalPanel.addEventListener(`rotate-ccw`,()=>this.onRotateCCW()),this.universalPanel.addEventListener(`rotate-reset`,()=>this.onRotateReset()),this.universalPanel.addEventListener(`flatten`,()=>this.onFlatten()),this.universalPanel.addEventListener(`clear`,()=>this.onClear()),this.universalPanel.addEventListener(`undo`,()=>this.onUndo()),this.universalPanel.addEventListener(`redo`,()=>this.onRedo())}calculateConfig(){let e=window.innerWidth,t=window.innerHeight;return{pixelWidth:Math.floor(e/this.pixelResScale),pixelHeight:Math.floor(t/this.pixelResScale),viewportWidth:e,viewportHeight:t}}resizeCanvases(){let{viewportWidth:e,viewportHeight:t}=this.config;this.paperCanvas.style.width=`${e}px`,this.paperCanvas.style.height=`${t}px`,this.pixelCanvas.style.width=`${e}px`,this.pixelCanvas.style.height=`${t}px`,this.uiCanvas.style.width=`${e}px`,this.uiCanvas.style.height=`${t}px`,this.pixelCanvas.width=this.config.pixelWidth,this.pixelCanvas.height=this.config.pixelHeight,this.uiCanvas.width=e,this.uiCanvas.height=t,this.pixelCanvas2D.imageSmoothingEnabled=!1,this.isInitialized&&(dr.default.view.viewSize=new dr.default.Size(e,t),this.paperRenderer.applyCamera())}async init(){await De(),dr.default.setup(this.paperCanvas),this.isInitialized=!0,this.resizeCanvases(),this.paperRenderer.applyCamera(),this.updateDisplays(),this.setupStoreSubscriptions(),dt.set(this.config),this.pixelCanvasManager.setBrushColor(ct.get()),window.addEventListener(`resize`,()=>{this.config=this.calculateConfig(),this.camera.updateViewport(this.config.viewportWidth,this.config.viewportHeight),this.resizeCanvases(),dt.set(this.config)}),this.historyManager.snapshot(),console.log(`App initialized with Lit UI components and stores`)}setupStoreSubscriptions(){ct.subscribe(e=>{this.pixelCanvasManager.setBrushColor(e)}),dt.subscribe(e=>{this.pixelCanvasManager.updateConfig(e),this.uiOverlay.updateConfig(e),this.inputManager.updateConfig(e),this.paperRenderer.updateConfig(e)}),pt.subscribe(e=>{let t=e.brush;t.sizeMax!==void 0&&this.uiOverlay.setMaxBrushSize(t.sizeMax)}),ut.subscribe(e=>{this.inputManager.setTool(e)})}updateDisplays(){this.universalPanel.zoomLevel=this.camera.getZoomPercent(),this.universalPanel.rotation=this.camera.getRotationDegrees()}onCameraPan(e,t){this.camera.pan(e,t),this.paperRenderer.applyCamera(),this.selectionController.drawUI()}onCameraZoom(e,t,n){this.camera.zoomAt(e,t,n),this.paperRenderer.applyCamera(),this.updateDisplays(),this.selectionController.drawUI()}onCameraRotate(e,t,n){this.camera.rotateAt(e,t,n),this.paperRenderer.applyCamera(),this.updateDisplays(),this.selectionController.drawUI()}onZoomIn(){this.camera.zoomCenter(1.25),this.paperRenderer.applyCamera(),this.updateDisplays(),this.selectionController.drawUI()}onZoomOut(){this.camera.zoomCenter(.8),this.paperRenderer.applyCamera(),this.updateDisplays(),this.selectionController.drawUI()}onZoomReset(){this.camera.reset(),this.paperRenderer.applyCamera(),this.updateDisplays(),this.selectionController.drawUI()}onRotateCW(){this.camera.rotateCenterDegrees(15),this.paperRenderer.applyCamera(),this.updateDisplays(),this.selectionController.drawUI()}onRotateCCW(){this.camera.rotateCenterDegrees(-15),this.paperRenderer.applyCamera(),this.updateDisplays(),this.selectionController.drawUI()}onRotateReset(){this.camera.resetRotation(),this.paperRenderer.applyCamera(),this.updateDisplays(),this.selectionController.drawUI()}onToolStart(e,t){if(t===`pan`)return;if(t===`select`){this.selectionController.handleStart(e);return}let n=pt.get();this.pixelCanvasManager.startTool(t,e,n),this.uiOverlay.setDrawingState(!0),this.uiOverlay.updateCursor(e)}onToolMove(e,t){if(t===`pan`)return;if(t===`select`){this.selectionController.handleMove(e);return}let n=pt.get();this.pixelCanvasManager.moveTool(t,e,n),this.uiOverlay.updateCursor(e)}async onToolEnd(e){if(e===`pan`)return;if(e===`select`){this.selectionController.handleEnd();return}this.uiOverlay.setDrawingState(!1);let t=pt.get(),n=this.pixelCanvasManager.endTool(e,t);if(!(!n||n.points.length===0))try{let t=await this.tracer.trace(this.pixelCanvas);if(t){if(this.getEffectiveMode(e)===`add`){let e=ct.get();await this.paperRenderer.addPath(t,e)}else await this.paperRenderer.subtractPath(t);this.pixelCanvasManager.clear(),this.historyManager.snapshot()}}catch(e){console.error(`Tracing failed:`,e)}}getEffectiveMode(e){let t=pt.get(),n=ft.get(),r=t[e].mode??`add`;return n.shift?r===`add`?`subtract`:`add`:r}onToolCancel(e){if(e===`pan`)return;if(e===`select`){this.selectionController.handleCancel();return}this.uiOverlay.setDrawingState(!1);let t=pt.get();this.pixelCanvasManager.endTool(e,t),this.pixelCanvasManager.clear()}onPointerMove(e){this.uiOverlay.updateCursor(e),ut.get()===`select`&&this.selectionController.hasSelection()&&this.selectionController.drawUI()}onToolChange(e){ut.get()===`select`&&e!==`select`&&this.selectionController.clearSelection()}onToolSettingsChange(e){let t=e.brush;t.sizeMax!==void 0&&this.uiOverlay.setMaxBrushSize(t.sizeMax)}onPixelResChange(e){this.pixelResScale=e,this.config=this.calculateConfig(),this.resizeCanvases(),this.pixelCanvasManager.clear(),dt.set(this.config)}onFlatten(){this.paperRenderer.flatten(),this.selectionController.clearSelection(),this.historyManager.snapshot()}onClear(){this.pixelCanvasManager.clear(),this.paperRenderer.clear(),this.historyManager.clear()}onInputToolChange(e){ut.set(e)}onModifiersChange(e){ft.set(e)}onUndo(){this.historyManager.undo()&&this.selectionController.clearSelection()}onRedo(){this.historyManager.redo()&&this.selectionController.clearSelection()}};document.readyState===`loading`?document.addEventListener(`DOMContentLoaded`,async()=>{await new fr().init()}):(async()=>{await new fr().init()})();